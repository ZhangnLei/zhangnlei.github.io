<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>张念磊的博客</title>
  
  <subtitle>我</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yoursite.com/"/>
  <updated>2020-08-10T03:42:49.110Z</updated>
  <id>http://yoursite.com/</id>
  
  <author>
    <name>张念磊</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>后端技能 - 如何实现一个jstack</title>
    <link href="http://yoursite.com/2020/08/10/%E5%90%8E%E7%AB%AF%E6%8A%80%E8%83%BD-%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AAjstack/"/>
    <id>http://yoursite.com/2020/08/10/后端技能-如何实现一个jstack/</id>
    <published>2020-08-10T03:39:20.000Z</published>
    <updated>2020-08-10T03:42:49.110Z</updated>
    
    <summary type="html">
    
    </summary>
    
    
      <category term="JVM" scheme="http://yoursite.com/tags/JVM/"/>
    
      <category term="jstack" scheme="http://yoursite.com/tags/jstack/"/>
    
  </entry>
  
  <entry>
    <title>后端技能 - jstack命令实现原理</title>
    <link href="http://yoursite.com/2020/08/10/%E5%90%8E%E7%AB%AF%E6%8A%80%E8%83%BD-jstack%E5%91%BD%E4%BB%A4%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86/"/>
    <id>http://yoursite.com/2020/08/10/后端技能-jstack命令实现原理/</id>
    <published>2020-08-10T03:38:52.000Z</published>
    <updated>2020-08-10T03:39:51.805Z</updated>
    
    <summary type="html">
    
    </summary>
    
    
      <category term="JVM" scheme="http://yoursite.com/tags/JVM/"/>
    
      <category term="jstack" scheme="http://yoursite.com/tags/jstack/"/>
    
  </entry>
  
  <entry>
    <title>后端技能 - 使用jstack命令定位JVM异常</title>
    <link href="http://yoursite.com/2020/08/10/%E5%90%8E%E7%AB%AF%E6%8A%80%E8%83%BD-%E4%BD%BF%E7%94%A8jstack%E5%91%BD%E4%BB%A4%E5%AE%9A%E4%BD%8DJVM%E5%BC%82%E5%B8%B8/"/>
    <id>http://yoursite.com/2020/08/10/后端技能-使用jstack命令定位JVM异常/</id>
    <published>2020-08-10T03:38:34.000Z</published>
    <updated>2020-08-10T09:57:03.914Z</updated>
    
    <content type="html"><![CDATA[<p>[toc]</p><p><code>2020/8/1</code></p><h2 id="一-找到出错的服务"><a href="#一-找到出错的服务" class="headerlink" title="一. 找到出错的服务"></a>一. 找到出错的服务</h2><p>docker 部署的方式</p><p>找到docker服务的pid</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker ps</span><br></pre></td></tr></table></figure><p>进入docker</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker exec -it &#123;pid&#125; /bin/bash</span><br></pre></td></tr></table></figure><p>先使用jps命令查看运行的java应用</p><h3 id="jstack命令"><a href="#jstack命令" class="headerlink" title="jstack命令"></a>jstack命令</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jstack -l 28367</span><br></pre></td></tr></table></figure><p><code>2020/8/10</code></p><p>jstack主要用来查看某个Java进程内的线程堆栈信息</p><ol><li><p>jps 查看java进程pid</p></li><li><p>top -Hp pid 找出该进程内最耗费CPU的线程</p></li><li>printf “%x\n” 1787 得到十六进制值为6fb</li><li>jstack pid &gt; file.log 通过jstack 把该进程的所有线程堆栈打印到file.log中</li><li>vi file.log 打开文件搜索 6fb 找到具体出问题的代码</li></ol><h2 id="jstack统计线程数"><a href="#jstack统计线程数" class="headerlink" title="jstack统计线程数"></a>jstack统计线程数</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/opt/java8/bin/jstack -l 28367 | grep 'java.lang.Thread.State' | wc -l</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;[toc]&lt;/p&gt;
&lt;p&gt;&lt;code&gt;2020/8/1&lt;/code&gt;&lt;/p&gt;
&lt;h2 id=&quot;一-找到出错的服务&quot;&gt;&lt;a href=&quot;#一-找到出错的服务&quot; class=&quot;headerlink&quot; title=&quot;一. 找到出错的服务&quot;&gt;&lt;/a&gt;一. 找到出错的服务&lt;/h2&gt;&lt;
      
    
    </summary>
    
    
      <category term="JVM" scheme="http://yoursite.com/tags/JVM/"/>
    
      <category term="jstack" scheme="http://yoursite.com/tags/jstack/"/>
    
  </entry>
  
  <entry>
    <title>Linux-find命令</title>
    <link href="http://yoursite.com/2020/08/05/Linux-find%E5%91%BD%E4%BB%A4/"/>
    <id>http://yoursite.com/2020/08/05/Linux-find命令/</id>
    <published>2020-08-05T01:24:11.000Z</published>
    <updated>2020-08-14T03:04:19.553Z</updated>
    
    <content type="html"><![CDATA[<p>[toc]</p><h1 id="find"><a href="#find" class="headerlink" title="find"></a>find</h1><h2 id="扩展元字符"><a href="#扩展元字符" class="headerlink" title="扩展元字符"></a>扩展元字符</h2><h2 id="find-1"><a href="#find-1" class="headerlink" title="find"></a>find</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">touch &#x2F;tmp&#x2F;&#123;1...9&#125;.txt</span><br><span class="line">ls &#x2F;tmp&#x2F;*.txt</span><br><span class="line">find *txt -exec rm -v &#123;&#125;\;</span><br><span class="line">cut -d &quot;:&quot; -f7 &#x2F;etc&#x2F;passwd | sort |uniq -c</span><br></pre></td></tr></table></figure><p>来源：极客时间-65Linux 87讲-find</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;[toc]&lt;/p&gt;
&lt;h1 id=&quot;find&quot;&gt;&lt;a href=&quot;#find&quot; class=&quot;headerlink&quot; title=&quot;find&quot;&gt;&lt;/a&gt;find&lt;/h1&gt;&lt;h2 id=&quot;扩展元字符&quot;&gt;&lt;a href=&quot;#扩展元字符&quot; class=&quot;headerlink&quot; t
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>历史博客汇总</title>
    <link href="http://yoursite.com/2020/08/03/%E5%8E%86%E5%8F%B2%E5%8D%9A%E5%AE%A2%E6%B1%87%E6%80%BB/"/>
    <id>http://yoursite.com/2020/08/03/历史博客汇总/</id>
    <published>2020-08-03T02:19:14.000Z</published>
    <updated>2020-08-03T02:29:09.767Z</updated>
    
    <content type="html"><![CDATA[<h1 id="这是一篇历史博客的汇总"><a href="#这是一篇历史博客的汇总" class="headerlink" title="这是一篇历史博客的汇总"></a>这是一篇历史博客的汇总</h1><p>这是我以前自己域名的博客网站所写的所有博客，现在服务器到期了，也没有时间维护多个平台的博客，故把历史的博客全都搬到这篇文章里。</p><p>[toc]</p><h1 id="Hello-我是张念磊"><a href="#Hello-我是张念磊" class="headerlink" title="Hello 我是张念磊"></a>Hello 我是张念磊</h1><p>Stephen Read是我的英文名</p><p>一直都有写博客的欲望，直到大四才开始写。</p><p>欢迎评论</p><h1 id="python-分析短信数据生成消费报告"><a href="#python-分析短信数据生成消费报告" class="headerlink" title="python - 分析短信数据生成消费报告"></a>python - 分析短信数据生成消费报告</h1><p>原始数据片段展示：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">来电,2017&#x2F;1&#x2F;5 上午11:55,95599,【中国农业银行】您尾号9672的农行账户于01月05日11时54分完成一笔支付宝交易，金额为-18.00，余额3905.35。,</span><br><span class="line">来电,2017&#x2F;1&#x2F;5 下午12:10,95599,【中国农业银行】您尾号9672的农行账户于01月05日12时10分完成一笔现支交易，金额为-200.00，余额3705.35。,</span><br><span class="line">来电,2017&#x2F;1&#x2F;5 下午12:35,95599,【中国农业银行】您尾号9672的农行账户于01月05日12时35分完成一笔支付宝交易，金额为-50.00，余额3650.35。,</span><br><span class="line">来电,2017&#x2F;1&#x2F;5 下午1:47,95599,【中国农业银行】您尾号9672的农行账户于01月05日13时47分完成一笔支付宝浙交易，金额为-199.00，余额3451.35。,</span><br><span class="line">来电,2017&#x2F;1&#x2F;5 下午2:45,95599,【中国农业银行】您尾号9672的农行账户于01月05日14时45分完成一笔消费交易，金额为-199.00，余额3252.35。,</span><br><span class="line">来电,2017&#x2F;1&#x2F;5 下午4:21,95599,【中国农业银行】您尾号9672的农行账户于01月05日16时21分完成一笔支付宝浙交易，金额为-329.00，余额2923.35。,</span><br><span class="line">来电,2017&#x2F;1&#x2F;5 下午5:56,95599,【中国农业银行】您尾号9672的农行账户于01月05日17时56分完成一笔支付宝交易，金额为-20.00，余额2903.35。,</span><br><span class="line">来电,2017&#x2F;1&#x2F;9 上午10:33,106906615500,【京东】还剩最后两天！PLUS会员新年特权，开通立送2000京豆，独享全品类神券，确定要错过？ dc.jd.com&#x2F;auVjQQ 回TD退订,</span><br><span class="line">来电,2017&#x2F;1&#x2F;10 下午1:10,106980005618000055,【京东】我是京东配送员：韩富韩，您的订单正在配送途中，请准备收货，联系电话：15005125027。,</span><br><span class="line">来电,2017&#x2F;1&#x2F;10 下午3:13,106906615500,【京东】等着放假，忘了您的PLUS账户中还有超过2000待返京豆？现在开通PLUS正式用户即可到账，还可享受高于普通用户10倍的购物回馈，随时京豆拿到手软。另有全年360元运费补贴、专享商品、专属客服等权益。戳 dc.jd.com&#x2F;XhuKQQ 开通。回TD退订,</span><br></pre></td></tr></table></figure><p>（数据来源-手机短信导出CVS格式）</p><h2 id="目的"><a href="#目的" class="headerlink" title="目的"></a>目的</h2><p>第一阶段的目的：分析基于中国农业银行的短信提醒，基于时间和银行账户余额的一个图表。<br>二阶段：想办法表现消费原因，消费金额。<br>三阶段：在处理语言方面可以灵活变动，不是简单地切片处理，而是基于处理自然语言的理解文意</p><p>以下是第一阶段的代码。如有问题或建议，欢迎交流！<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python3</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">Created on Sun Jul 22 22:13:20 2018</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">@author: mrzhang</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">DealMessage</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.home_path = os.getcwd() <span class="comment"># get absolute path</span></span><br><span class="line">        self.filename = self.home_path + <span class="string">"/message.csv"</span> </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_cvs_list</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">''' get data for cvs '''</span></span><br><span class="line">        <span class="keyword">with</span> open(self.filename) <span class="keyword">as</span> f: <span class="comment"># open file</span></span><br><span class="line">            reader = csv.reader(f)</span><br><span class="line">            list_read = list(reader)</span><br><span class="line">        <span class="keyword">return</span> list_read</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_yinghang_message_list</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">''' del other data likes name, phone and others '''</span></span><br><span class="line">        total_list = self.get_cvs_list()</span><br><span class="line">        money_list = []</span><br><span class="line">        <span class="keyword">for</span> each_line <span class="keyword">in</span> total_list:</span><br><span class="line">            <span class="keyword">if</span> each_line[<span class="number">2</span>] == <span class="string">'95599'</span>:</span><br><span class="line">                <span class="keyword">del</span> each_line[<span class="number">0</span>] <span class="comment"># remove useless data</span></span><br><span class="line">                <span class="keyword">del</span> each_line[<span class="number">1</span>]</span><br><span class="line">                <span class="keyword">del</span> each_line[<span class="number">2</span>]</span><br><span class="line">                each_line_list = each_line[<span class="number">1</span>][<span class="number">37</span>:].split(<span class="string">'，'</span>)</span><br><span class="line">                each_line_list.insert(<span class="number">0</span>, each_line[<span class="number">0</span>])</span><br><span class="line">                money_list.append(each_line_list) <span class="comment"># add to a new List</span></span><br><span class="line">        <span class="keyword">return</span> money_list</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_type_by_parameter</span><span class="params">(self, num)</span>:</span></span><br><span class="line">        <span class="string">''' there are 2 types of data, use len of data to distinguish it '''</span></span><br><span class="line">        money_list = self.get_yinghang_message_list()</span><br><span class="line">        first_list = []</span><br><span class="line">        <span class="keyword">for</span> each <span class="keyword">in</span> money_list:</span><br><span class="line">            <span class="keyword">if</span> len(each) == num:</span><br><span class="line">                first_list.append(each)</span><br><span class="line">        <span class="keyword">return</span> first_list</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">deal_time_form</span><span class="params">(self, messages)</span>:</span></span><br><span class="line">        <span class="string">''' transform time form like 1995/02/07/02/23 '''</span></span><br><span class="line">        <span class="keyword">for</span> each <span class="keyword">in</span> messages:</span><br><span class="line">            correct_time = each[<span class="number">0</span>].split()</span><br><span class="line">            date = correct_time[<span class="number">0</span>]</span><br><span class="line">            time = correct_time[<span class="number">1</span>]</span><br><span class="line">            time = time[<span class="number">2</span>:]</span><br><span class="line">            shi, feng = time.split(<span class="string">":"</span>)</span><br><span class="line">            <span class="keyword">if</span> time[<span class="number">0</span>:<span class="number">2</span>] == <span class="string">"下"</span>:</span><br><span class="line">                shi = int(shi) + <span class="number">12</span></span><br><span class="line">            final_time = date + <span class="string">"/"</span> + str(shi) + <span class="string">"/"</span> + feng</span><br><span class="line">            each.insert(<span class="number">0</span>, final_time)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">choose_message_by_time</span><span class="params">(self, is_before_0223)</span>:</span></span><br><span class="line">        <span class="string">''' reduce the difference betwoon different data, deal with time and money at the same time.'''</span></span><br><span class="line">        <span class="keyword">if</span> is_before_0223:</span><br><span class="line">            num = <span class="number">4</span></span><br><span class="line">            remove_num = <span class="number">2</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            num = <span class="number">3</span></span><br><span class="line">            remove_num = <span class="number">5</span></span><br><span class="line">        messages = self.get_type_by_parameter(num)</span><br><span class="line">        <span class="keyword">for</span> each <span class="keyword">in</span> messages:</span><br><span class="line">            <span class="comment"># deal with time , transform time form like 1995/12/17/02/23 </span></span><br><span class="line">            correct_time = each[<span class="number">0</span>].split() </span><br><span class="line">            date = correct_time[<span class="number">0</span>]</span><br><span class="line">            time = correct_time[<span class="number">1</span>]</span><br><span class="line">            time = time[<span class="number">2</span>:]</span><br><span class="line">            shi, feng = time.split(<span class="string">":"</span>)</span><br><span class="line">            <span class="keyword">if</span> time[<span class="number">0</span>:<span class="number">2</span>] == <span class="string">"下"</span>: <span class="comment"># transform time-form into 24h-form</span></span><br><span class="line">                shi = int(shi) + <span class="number">12</span></span><br><span class="line">            final_time = date + <span class="string">"/"</span> + str(shi) + <span class="string">"/"</span> + feng</span><br><span class="line">            each.insert(<span class="number">0</span>, final_time)</span><br><span class="line">            <span class="comment"># deal with money</span></span><br><span class="line">            money = each[<span class="number">-1</span>][remove_num:][<span class="number">0</span>:<span class="number">-1</span>]</span><br><span class="line">            each.insert(<span class="number">1</span>, money)</span><br><span class="line">        <span class="keyword">return</span> messages</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_x_y</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">''' get money and time  '''</span></span><br><span class="line">        messages = self.choose_message_by_time(<span class="literal">True</span>)+self.choose_message_by_time(<span class="literal">False</span>)</span><br><span class="line">        time_list = []</span><br><span class="line">        money_list = []</span><br><span class="line">        <span class="keyword">for</span> each <span class="keyword">in</span> messages:</span><br><span class="line">            time_list.append(each[<span class="number">0</span>])</span><br><span class="line">            money_list.append(float(each[<span class="number">1</span>]))</span><br><span class="line">        <span class="keyword">return</span> time_list[<span class="number">35</span>::<span class="number">3</span>], money_list</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">draw_picture</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">''' draw a picture about money change '''</span></span><br><span class="line">        x, y = self.get_x_y()</span><br><span class="line">        plt.figure(figsize=(<span class="number">16</span>, <span class="number">4</span>))  <span class="comment"># Create figure object</span></span><br><span class="line">        plt.plot(y, <span class="string">'r'</span>)  <span class="comment"># plot‘s paramter（x，y，color，width）</span></span><br><span class="line">        plt.xlabel(<span class="string">"Time"</span>)  </span><br><span class="line">        plt.ylabel(<span class="string">"Money"</span>) </span><br><span class="line">        plt.title(<span class="string">"money"</span>)  </span><br><span class="line">        plt.grid(<span class="literal">True</span>) </span><br><span class="line"></span><br><span class="line">        plt.show()  <span class="comment"># show picture</span></span><br><span class="line">        plt.savefig(<span class="string">"line.jpg"</span>)  <span class="comment"># save picture</span></span><br><span class="line"></span><br><span class="line">m = DealMessage() <span class="comment"># get a class object</span></span><br><span class="line">m.draw_picture() <span class="comment"># draw picture</span></span><br></pre></td></tr></table></figure><br>程序运行：<br><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghdepfwcagj30qi07gdgl.jpg" alt="结果图"></p><p>随意转载，欢迎交流！</p><h1 id="第一章-开篇"><a href="#第一章-开篇" class="headerlink" title="第一章      开篇"></a>第一章      开篇</h1><h2 id="友好的对话"><a href="#友好的对话" class="headerlink" title="友好的对话"></a>友好的对话</h2><p>在别人不会问问题时，引导他去问问题也是一个很大的学问，Jon与一个程序员问的问题而展开。</p><p>###问题<br>如何将1千万条记录排序？（都是七位的电话号码）最好是将时间控制在十秒钟左右，如果不行，几分钟也可以，但是不能超过十分钟，同时不可超过一兆的内存。</p><p>Jon先生要求我思考一分钟，并给他一个答案。我的答案有两个，一是使用链表的方式，运用插入排序的方法，二是使用规定排序的方法（尽管直至此时，我仍没有成功的完成固定排序，但我推荐他这么做的原因是其时间复杂度最低）下面向您简述我了解到的归并排序算法的原理，首先将数组分为两部分，然后将ab两部分分别排序，最后将ab两部分合并为一个数组。<br>如下图所示。</p><h4 id="插入排序的过程如下："><a href="#插入排序的过程如下：" class="headerlink" title="插入排序的过程如下："></a>插入排序的过程如下：</h4><p>将ab中待插入的元素作比较，将较小的插入L，然后将插入的数组定位器后移，继续比较两个数组的待插入元素，嗯，直到a与b中所有元素全部插入到L中，嗯，此时结束。当然以上并没有说明如何将ab数组排序，这里其实有一个很好的办法，就是将其分割若干次，直至每个数组都是单一元素数组，那么数组遍都是排序排好序的数组。</p><p>以上便是我的解答，非常奈斯！</p><h4 id="下面是Python的实现代码。"><a href="#下面是Python的实现代码。" class="headerlink" title="下面是Python的实现代码。"></a>下面是Python的实现代码。</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">def marge():</span><br><span class="line">pass</span><br><span class="line"></span><br><span class="line">def marge_sort():</span><br><span class="line">pass</span><br><span class="line"></span><br><span class="line">&#39;&#39;&#39; 实在是困得不行，明天再写&#39;&#39;&#39;</span><br></pre></td></tr></table></figure><p>####而Jon思考后的解决办法是使用位图，我觉得原因有以下几点：</p><ol><li><p>1千万条记录又是用一兆的内存直接运行的，怕是不行。<br>复习一下组成原理的知识。<br>1 Byte = 8 bit<br>1 KB = 1024 Byte = 8 <em> 1024 bit<br>1 MB = 1024 KB<br>1 GB = 1024 MB<br>1 TB = 1024 GB<br>二进制数程序中，每个零或一就是一位。位就是bit。<br>假使这里运用八位二进制表示一个数字，且每个电话号码都为7位，则有(1024×1024×8) / (8</em>7) = 143000（Jon老师可能将1000视为1024）。<br>Jon的另一种方法似乎可以存放更多的数，即每个号码用32位二进制表示，则有(1000×1000*8) / 32 = 250000，即1M可以存放250000个号码，因为最大的7位数为9999999，便有9999999 / 250000 = 40。嗯，40次才能装得下1000万个电话号码。以上次多趟排序的空间大小分析，多趟排序的原理是第一趟排序中将0-250000之间的任何整数读入内存，并对着25万个整数排序，然后写到输出文件中，重复40次则排序完成。</p></li><li><p>Jon说此问题若是采用归来排序可能需要几天的时间（包括写程序，调试，运行。我觉得晚上回去可以试一下）。</p></li><li><p>位图的方式更加简明记，即将大小为n的数用1占位表示第n个数是存在的，即array[1048256] = 1,即表示电话号码1048256存在。好了，下面来简述一下Jon的方法——位图的方法：<br>第一步就是初始化一个大小为一千万的shuzu。<br>第二部遍历输入文件。如果某个数存在则设其位置为1。<br>第三步，输出答案。</p></li></ol><p>哇哇。真的简单明了，可惜可惜！为什么我们早点想到这个方法，脑中是有闪过这个想法的。但是觉得不成熟也没有在思考，而是转念去想归并排序这个方法了，是什么原因？我觉得是思维不愿意去思考的原因，前几天还看了关于开发思维的书籍，里面讲的：同时从好几个方面来思考方法。不要只从一面来思考。先不着急着否定了某个想法。先记下来。可惜可惜！</p><p>但是这个方法好像有问题。不是这个解法有问题，自己该用什么数据结构的存储，Jon首先说用字符串的方式。然后我说用数组的方式，我觉得都可以。好的牛皮！</p><h3 id="习题1-6"><a href="#习题1-6" class="headerlink" title="习题1.6"></a>习题1.6</h3><h4 id="2-问：如何使用位逻辑运算符（如与，或，移位）来实现位向量？"><a href="#2-问：如何使用位逻辑运算符（如与，或，移位）来实现位向量？" class="headerlink" title="2.问：如何使用位逻辑运算符（如与，或，移位）来实现位向量？"></a>2.问：如何使用位逻辑运算符（如与，或，移位）来实现位向量？</h4><p>首先我因为不明白为向量是什么而搜索以下这个问题：“什么是位向量？”，我看了一下百度百科，CSDN的zeb_perfect以及远航先生的博客，我决定自己先来解决问题（笑）。因为百度的解释太深奥，不是看的很懂，zeb_perfect先生解读的可能有些偏差（无意冒犯），远航先生的解读过于深入，暂时不想看。但是我将二位的博客都添加到我的收藏夹下，待我先思考一番之后，且是全面的思考，定是全面的思考，再来拜读二位的博客。好了，废话不多说，先来探究问题，如果Jon先生在我面前，倘若有幸见到先生，那我一定会说：您这是问的什么鸡巴问题？可不可以不要那么抽象呢？而且也不明确。再读一遍问题：“如何使用位逻辑运算符（如与，或，移位）来实现位向量？”我还是不明白要问的是什么？原因以下1.可能是不明白什么是位向量？我的理解是位向量就是位图的延伸，使用多个位来表示一个单位，我们且将其称之为——位向量。哇哇哇~，如此简洁明了，怕是只有张某人能做出这一定义了，好了，不再废话，我的脑海中给出的答案现在有两个，<br>第一个是假设用四个位为一个单位，那么第一个与第二位的与可以表示一个单位的性质或者属性，那么这个这个位向量可以表示4+n个属性。<br>第二个通过使用位置位逻辑运算来生成其他几个位（这个也还是可以）。<br>好了，先到这里吃饭。</p><h1 id="2008年8月14日"><a href="#2008年8月14日" class="headerlink" title="2008年8月14日"></a>2008年8月14日</h1><blockquote><p><em>(昨晚将昨天的笔记通过讯飞输入法这样记录备忘录，然后又通过人工修正，最后发布到CSDN的博客上，此过程，大概共花费了我约一个小时的时间，其中语音录入20分钟，人工修正20分钟，重新排版30分钟。)</em></p></blockquote><hr><p>现在继续来看第三题。</p><h2 id="第三题"><a href="#第三题" class="headerlink" title="第三题"></a>第三题</h2><p>题目是要我来比较不同的方法的运行时效率。方法包括：</p><ol><li>自己系统上实现的位图排序。（嗯，因为昨天没有实现，所以这个暂时不能）</li><li>系统排序的运行时间；</li><li>习题一中排序的运行时间及潘盛内置函数的排序时间。<br>且Jon先生规定输入文件为一千万个，每个数不大于一千万。</li></ol><hr><h2 id="第四题"><a href="#第四题" class="headerlink" title="第四题"></a>第四题</h2><p>吉先生很调皮，他说习题三中有一个小问题，如何生成小于n，且没有重复的k个整数?<br>至此，我吸取昨日的教训，决定从多个角度来回答这个问题。</p><h3 id="解法一"><a href="#解法一" class="headerlink" title="解法一"></a>解法一</h3><p>可用攀升的内置函数生成随机数，即random.randint()因为这方法每次只能生成一个水技术，所以我们要将其稍微加工一下，使之成为深沉宿主的答案以下是我的潘神代码。</p><p>(由于忘记了Python的随机数生成的函数名，所以我搜索了一下，查到了random的模块，同时有了意外的发现这便是方法二。)</p><h3 id="解法二"><a href="#解法二" class="headerlink" title="解法二"></a>解法二</h3><p>先上代码<br>‘’ import numpy<br>‘’<br>arr = numpy.arange(10)<br>numpy.random.shuffle(arr)<br>print(arr)</p><p>[7 4 8 3 2 9 0 1 5 6]</p><p>摘自CSDN christianashannon先生的博客<a href="https://blog.csdn.net/christianashannon/article/details/78867204" target="_blank" rel="noopener">https://blog.csdn.net/christianashannon/article/details/78867204</a></p><p>首先我是听说过numpy这个库的该库是由cpp实现的用来多用来实现科学计算(矩阵,向量)，其中函数的性能较Python自带的同功能函数而言是提高了不少。(我目前没有考证，但是我同意该说法，因为是cpp的性能还是毋庸置疑的)</p><p>以下是我的解读：<br>经我猜测arange()函数便是生成数组0-n的函数。而np.random.shuffle(arr)便是将arr数列打乱，不知其原理为何？其效果如何？待我回去一检验，现在我还不知道如何查看python函数的源码，中午可以查一下。<br>经查：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import random</span><br><span class="line">random.__file__</span><br><span class="line">Out: &#39;&#x2F;Users&#x2F;mrzhang&#x2F;anaconda3&#x2F;lib&#x2F;python3.6&#x2F;random.py&#39;</span><br></pre></td></tr></table></figure><br>即在ipyhton交互环境下使用 函数名.<strong>file</strong> (双下滑线)的方法即可查看文件位置<br>感谢Google-boy先生<br><a href="https://www.cnblogs.com/ylHe/p/8621786.html" target="_blank" rel="noopener">https://www.cnblogs.com/ylHe/p/8621786.html</a></p><p>同时，这位先生还提供了另一种方法，看起来相当简洁。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">print (numpy.random.permutation(10))</span><br><span class="line"></span><br><span class="line">Out: [6 7 5 3 0 4 1 9 8 2]</span><br></pre></td></tr></table></figure></p><p>(牛皮牛皮numpy不愧是作为科学计算用的，可能是因为科学计算也是常常用到随机数列这个功能，所以python的numpy库对其支持的如此人性化，我决定晚上要看一下这个numpy的函数的源码。)</p><p>以上两个方法便是库函数的方法。明天再来说说我自己的想法。</p><h1 id="2008年8月15日。"><a href="#2008年8月15日。" class="headerlink" title="2008年8月15日。"></a>2008年8月15日。</h1><blockquote><p>昨晚并没有完成理想中的任务，同时昨天也没有完习题第三题的解答。自己思考的结果没有完成，并且解法二也没有自己在机器上实现，所以今天用25分钟来完成习题3的思考以后，便是对后面几题的解答好了，先读一下昨天的思考。</p></blockquote><p>简单总结下昨天的思路，如下图所示。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">graph TD</span><br><span class="line">A(思路) --&gt;B(自己推导)</span><br><span class="line">A --&gt;C(同余定理)</span><br><span class="line">B --&gt;D(直接生成数列)</span><br><span class="line">B --&gt;E(生成单个随机数再生成数列)</span><br></pre></td></tr></table></figure><p>%% 直接生成数列:<br>%% 用列举的方法将全部结果。结果列出，然后用生成随机数的方法，在里面取一个作为生成出的随机数列，这方法虽虽然有点蠢，但是不是不可行。</p><p>%% 同余定理:<br>%% 用取模运算加上移位运算来将一个数生成一个与当今函数看起来完全没有关系的书。</p><p>在这里又打算用同余定理来解这道题，即暂时放弃其他的想法。同时决定要在今日的晚些时候来实现由我自己写的同余定理的代码，调试并计算程序运行的时间，并与mp外的标准库函数的运行时间作一个简单的比较，只要不是太缓慢我都可以接受。</p><p>好了开始设计，先写一个简单的文本，等上机后面再根据数据量再来调整，移位的原理即是乘除。二进制的移位是乘除2，十进制的移位便是乘除10</p><p>首先用97 98 99来当做实验数据。</p><p>公式如下。<br>result = (n % 2333 * 13 + 56) // 10</p><p>%% 因计算器没有去于这个运算符，所以只能中午晚上用电脑做。</p><p>练习五：<br>如果严格规定空间为1M，那么该如何处理算法与运行时间又是多少？</p><p>我能想到的是两方面，一是优化现有的代码，第二重新设计。<br>%% （很好，讲想法都列出来了，有很大的进步。）</p><p>先说优化，我觉得可以将其分为两次来操作，因为共有一千万条数据，第一次就是先遍历前500万个，然后将第二次遍历后后面的500万个。</p><blockquote><p>1 M = 1000 KB = 1000000 B = 8000000 bit </p></blockquote><p>方法是可行的，时间就是以前的两倍，因为遍历了两次。</p><p>再说重新设计，我觉得也可以。因为这个问题是一个实际问题，它数据密集度可能很高，那么我们便可以将n个连续的1用二进制表示，那么便可节约很大的空间。</p><p>比如将连续的三个一转换成二进制，<br>例：数据[1,2,3,5,8,13]<br>则有，011101001000100 ，用（11）（二进制的3）表示有3个1是连续的<br>则有，01101001000100<br>可能这组数据不能说明问题，那我们来换一组数据。<br>[1,2,3,4,5,7,9,12,13,14,15]<br>0111110101001111<br>0,101,010100,100,<br>好了，现在出问题了，因为都是0与1，怎么判断那几个零与一是连起的就是个问题了。所以我觉得我们有必要引入‘n位二进制’这个概念了，那么问题来了，这个n该设置为多少？</p><blockquote><p>2^32 = 4297967295</p></blockquote><p>32位好像是足够了。</p><blockquote><p>1M / 32bit = 250000</p></blockquote><p>1M内存可以存放25万个int字节（int为四个字节，每个字节8位，则int为32位）<br>下面便要考虑数据的连续性，如果程序员先生的数据有25万次不连续，那么便不可以用这个方法，一千万个数，25万次不连续可能还是有点困难的吧。</p><blockquote><p>25万 / 1千万 = 1 / 400 = 0.25 %</p></blockquote><p>若连续的概率要超过99.75%，即400个数才可以有一次断裂，我觉得这还是难为人家了，但是将此方法写出来，便是有意义的。</p><h3 id="1-使用动态拼接SQL查询"><a href="#1-使用动态拼接SQL查询" class="headerlink" title="1.使用动态拼接SQL查询"></a>1.使用动态拼接SQL查询</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line"> * 查询 数据</span><br><span class="line"> * @return</span><br><span class="line"> * @throws ParseException</span><br><span class="line"> *&#x2F;</span><br><span class="line">@RequestMapping(&quot;&#x2F;getTableAList&quot;)</span><br><span class="line">@ResponseBody</span><br><span class="line">public JsonResult getTableAList(@RequestBody String json, HttpSession session)&#123;</span><br><span class="line">    JSONObject jsonObject &#x3D; JSON.parseObject(json);&#x2F;&#x2F;解析json</span><br><span class="line">    String voucherDate &#x3D; jsonObject.getString(&quot;voucherDate&quot;);</span><br><span class="line">    String sortTag &#x3D; jsonObject.getString(&quot;sortTag&quot;);</span><br><span class="line">    StringBuilder sb &#x3D; new StringBuilder(&quot; select distinct t.* &quot; +</span><br><span class="line">            &quot;from table_a a &quot; +</span><br><span class="line">            &quot;right join table_b b&quot; +</span><br><span class="line">            &quot;on a.id &#x3D; b.a_id&quot; +</span><br><span class="line">            &quot;where a.name &#x3D; &quot; +</span><br><span class="line">            GetUserUtils.GetUserUnitId(session));</span><br><span class="line">    String[] strArr &#x3D; voucherDate.split(&quot;,&quot;);</span><br><span class="line">    &#x2F;&#x2F;拼接字符串</span><br><span class="line">    if (strArr[0] !&#x3D; null &amp;&amp; !strArr[0].equals(&quot; &quot;)) &#123;</span><br><span class="line">        sb.append(&quot; and t.creat_time &gt;&#x3D; &#39;&quot; + strArr[0] + &quot;&#39;&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    if (strArr[1] !&#x3D; null &amp;&amp; !strArr[1].equals(&quot; &quot;)) &#123;</span><br><span class="line">        sb.append(&quot; and t.creat_time &lt;&#x3D; &#39;&quot; + strArr[1] + &quot;&#39;&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    &#x2F;&#x2F;排序方式</span><br><span class="line">    if (sortTag !&#x3D; null &amp;&amp; !sortTag.equals(&quot;&quot;))&#123;</span><br><span class="line">        if (!sortTag.equals(&quot;sortTime&quot;))&#123;</span><br><span class="line">            sb.append(&quot; order by t.creat_time DESC&quot;);</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">            sb.append(&quot; order by t.voucher_code  DESC &quot;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">            </span><br><span class="line">    Query query &#x3D; entityManager.createNativeQuery(sb.toString(),VoucherTotal.class);</span><br><span class="line">    Pageable pageable &#x3D; new PageRequest(Integer.valueOf(pageNumber) - 1, Integer.valueOf(   pageSize));</span><br><span class="line">    query.setFirstResult(pageable.getPageSize() * pageable.getPageNumber());</span><br><span class="line">    query.setMaxResults(pageable.getPageSize());</span><br><span class="line">    &#x2F;&#x2F;获取查询结果的个数</span><br><span class="line">    Integer count &#x3D; queryAll.getResultList().size();</span><br><span class="line">    &#x2F;&#x2F;将查询到的结果放入列表中</span><br><span class="line">    List&lt;VoucherTotal&gt; resultList &#x3D; new ArrayList&lt;VoucherTotal&gt;(query.getResultList());</span><br><span class="line">    Integer count &#x3D; queryAll.getResultList().size();</span><br><span class="line">    return JsonResult.success(count, &quot;查询成功&quot;, resultList);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="2-使用存储结构"><a href="#2-使用存储结构" class="headerlink" title="2. 使用存储结构"></a>2. 使用存储结构</h3><p>存储结构的优势是速度快，因为sql是编译好的，只要加上查询的字段就可以了</p><h4 id="MySQL的存储过程大概长这样："><a href="#MySQL的存储过程大概长这样：" class="headerlink" title="MySQL的存储过程大概长这样："></a>MySQL的存储过程大概长这样：</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">CREATE DEFINER&#x3D;&#96;root&#96;@&#96;localhost&#96; PROCEDURE &#96;proc_adder&#96;(IN a int, IN b int, OUT sum int)</span><br><span class="line">BEGIN</span><br><span class="line">    #Routine body goes here...</span><br><span class="line">    DECLARE c int;</span><br><span class="line">    if a is null then set a &#x3D; 0; </span><br><span class="line">    end if;</span><br><span class="line">    if b is null then set b &#x3D; 0;</span><br><span class="line">    end if;</span><br><span class="line">    set sum  &#x3D; a + b;</span><br><span class="line">END</span><br></pre></td></tr></table></figure><h4 id="调用存储结构的方法"><a href="#调用存储结构的方法" class="headerlink" title="调用存储结构的方法"></a>调用存储结构的方法</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line"> * EntityManager的查询方法 </span><br><span class="line"> * @return</span><br><span class="line"> *&#x2F;</span><br><span class="line">@RequestMapping(&quot;&#x2F;demoForProc&#x2F;&#123;a&#125;&#x2F;&#123;b&#125;&quot;)</span><br><span class="line">@ResponseBody</span><br><span class="line">public JsonResult demoForProc(@PathVariable Integer a,@PathVariable Integer b)&#123;</span><br><span class="line">    Query query &#x3D; entityManager.createNativeQuery(&quot;&#123;call proc_adder(?,?)&#125;&quot;);</span><br><span class="line">    query.setParameter(1, a);</span><br><span class="line">    query.setParameter(2, b);</span><br><span class="line">    Integer result&#x3D;(Integer) query.getSingleResult();</span><br><span class="line">    entityManager.close();</span><br><span class="line">    return JsonResult.success(result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Jpa调用存储结构的方法略显复杂这里就不写了</p><h3 id="3…-（待续）"><a href="#3…-（待续）" class="headerlink" title="3….（待续）"></a>3….（待续）</h3><p>由于国内关于myPagination插件的文档并不多，由于参照官方给的文档一直出现问题，<br>所以自己摸索出了一种新的食用方法。</p><h4 id="定义全局变量和默认搜索条件"><a href="#定义全局变量和默认搜索条件" class="headerlink" title="定义全局变量和默认搜索条件"></a>定义全局变量和默认搜索条件</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">var searchJson &#x3D; &#123;&#125;;</span><br><span class="line">&#x2F;&#x2F;默认的搜索条件</span><br><span class="line">searchJson.voucherDate &#x3D; &quot; , &quot;;</span><br><span class="line">searchJson.sortTag &#x3D; &quot;sortTime&quot;;</span><br><span class="line">searchJson.pageNumber &#x3D; 1;</span><br><span class="line">searchJson.pageSize &#x3D; 10;</span><br><span class="line"></span><br><span class="line">var pagin &#x3D; new myPagination(&#123;</span><br><span class="line">    id: &#39;pagination&#39;,</span><br><span class="line">    curPage:1, &#x2F;&#x2F;初始页码</span><br><span class="line">    pageTotal: 5,　　   &#x2F;&#x2F;总页数</span><br><span class="line">    pageAmount: 10,     &#x2F;&#x2F;每页多少条</span><br><span class="line">    dataTotal: 50,      &#x2F;&#x2F;总共多少条数据</span><br><span class="line">    showPageTotalFlag:true, &#x2F;&#x2F;是否显示数据统计</span><br><span class="line">    showSkipInputFlag:true, &#x2F;&#x2F;是否支持跳转</span><br><span class="line">    getPage: function (page) &#123;&#x2F;&#x2F;获取当前页数</span><br><span class="line">        searchJson.pageNumber &#x3D; page;</span><br><span class="line">        getTotalList(JSON.stringify(searchJson));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="ajax请求数据并渲染"><a href="#ajax请求数据并渲染" class="headerlink" title="ajax请求数据并渲染"></a>ajax请求数据并渲染</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;ajax获取要显示的数据</span><br><span class="line">function getTotalList(json)&#123;</span><br><span class="line">    $.ajax(&#123;</span><br><span class="line">        type: &quot;POST&quot;,</span><br><span class="line">        contentType: &#39;application&#x2F;json;charset&#x3D;utf-8&#39;,</span><br><span class="line">        url: &quot;url&quot;,</span><br><span class="line">        data: json,</span><br><span class="line">        success: function(data)&#123;</span><br><span class="line">            &#x2F;&#x2F;关闭弹出框</span><br><span class="line">            $(&quot;#searchDiv&quot;).find(&quot;div.dropdown-menu&quot;).hide();</span><br><span class="line">            var msg &#x3D; JSON.parse(data);</span><br><span class="line">            if (msg.message &#x3D;&#x3D; &quot;查询成功&quot;) &#123;&#x2F;&#x2F;将查询到的数据渲染到页面</span><br><span class="line">                var totalData &#x3D; msg.code;</span><br><span class="line">                var suns &#x3D; msg.data;</span><br><span class="line">                var $div &#x3D; $(&quot;#voucherList&quot;).empty();</span><br><span class="line">                $.each(suns,function(index,item)&#123;...&#125;);&#x2F;&#x2F;省略渲染数据的代码</span><br><span class="line">                pagin.pageTotal &#x3D; Math.ceil(totalData&#x2F;10);</span><br><span class="line">                pagin.dataTotal &#x3D; totalData;</span><br><span class="line">                pagin.init();</span><br><span class="line">            &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>最重要的是最后一行代码：</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pagin.init();</span><br></pre></td></tr></table></figure><p><strong>初始化，即让上面两行修改的总页数和总条数参数生效</strong></p><h4 id="搜索按钮点击事件"><a href="#搜索按钮点击事件" class="headerlink" title="搜索按钮点击事件"></a>搜索按钮点击事件</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;弹出搜索框</span><br><span class="line">$(&quot;.dropdown-menu&quot;).click(function (e) &#123;</span><br><span class="line">    var type &#x3D; $(e.target).attr(&quot;id&quot;);</span><br><span class="line">    if(type &#x3D;&#x3D;&#x3D; &quot;inputZhaiYao&quot;)&#123;</span><br><span class="line">        $(&quot;#InfoKemu&quot;).hide();</span><br><span class="line">        e.stopPropagation();</span><br><span class="line">    &#125;</span><br><span class="line">    else if(type &#x3D;&#x3D;&#x3D; &quot;inputKemu&quot;)&#123;</span><br><span class="line">        $(&quot;#InfoZhaiYao&quot;).hide();</span><br><span class="line">        e.stopPropagation();</span><br><span class="line">    &#125;</span><br><span class="line">    else if(type &#x3D;&#x3D;&#x3D; &quot;searchBtn&quot;)&#123;&#x2F;&#x2F;搜索按钮</span><br><span class="line">        var time1 &#x3D; $(&quot;#sele-month1&quot;).val();</span><br><span class="line">        var time2 &#x3D; $(&quot;#sele-month2&quot;).val();</span><br><span class="line">        var sortTag &#x3D; $(&quot;#frm&quot;).find(&quot;input[name&#x3D;&#39;sort&#39;]:checked&quot;).val();</span><br><span class="line">        var pageNumber &#x3D; $()</span><br><span class="line">        searchJson.voucherDate &#x3D; time1+&quot; , &quot;+time2;</span><br><span class="line">        searchJson.sortTag &#x3D; sortTag;</span><br><span class="line">        searchJson.pageNumber &#x3D; 1;</span><br><span class="line">        searchJson.pageSize &#x3D; 10;</span><br><span class="line">        $(&quot;#searchDiv&quot;).removeClass(&quot;open&quot;);</span><br><span class="line">        $(&quot;#searchDiv&quot;).find(&quot;div.dropdown-menu&quot;).hide();</span><br><span class="line">        $(&quot;#InfoZhaiYao&quot;).hide();</span><br><span class="line">        $(&quot;#InfoKemu&quot;).hide();</span><br><span class="line">        &#x2F;&#x2F;渲染数据</span><br><span class="line">        getTotalList(JSON.stringify(jsonData));</span><br><span class="line">        e.stopPropagation();</span><br><span class="line">    &#125;</span><br><span class="line">    else&#123;</span><br><span class="line">        $(&quot;#InfoZhaiYao&quot;).hide();</span><br><span class="line">        $(&quot;#InfoKemu&quot;).hide();</span><br><span class="line">        e.stopPropagation();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>参考文档：<br><a href="https://code.google.com/archive/p/mypagination/downloads" target="_blank" rel="noopener">myPagination插件</a></p><p>天气冷了，多买几双厚袜子因该是最容易提升幸福感的事了。晚上洗完澡穿上厚袜子组图书馆看会儿书真的是很幸福了。<br>   洗澡的时候想到的，做什么事都不要一开始用尽全力。</p><p>一是因为可能用力过猛，导致后面没力气了，这很尴尬；</p><p>二是如果不能坚持下去，那么别人就会觉得你虎头蛇尾，或是三分钟热度。</p><p>   做一件事情因该把握好节奏，</p><p>开始的时候稳着点，</p><p>该用力的时候用力，</p><p>在合适的时候用力，</p><p>在合适的时间收尾。</p><p>   工作是这样，爱情也是。</p><p>环境：</p><ol><li>IDEA</li><li>JDK8</li><li>Spring Boot</li><li>MySQL</li><li>Spring Data JPA</li></ol><h3 id="在数据库中创建一个存储过程"><a href="#在数据库中创建一个存储过程" class="headerlink" title="在数据库中创建一个存储过程"></a>在数据库中创建一个存储过程</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">CREATE PROCEDURE GetStudent(IN ageMin int, IN gradeMin int)</span><br><span class="line">BEGIN</span><br><span class="line">SELECT * FROM student</span><br><span class="line">WHERE age &gt; ageMin</span><br><span class="line">AND grade &gt; gradeMin;</span><br><span class="line">END;</span><br></pre></td></tr></table></figure><p>简单解释：</p><pre><code>第一行中的GetStudent 是过程名，括号中的是参数，IN代表传入参数，OUT是传出参数, ageMin是参数名，int是参数类型（参数类型需是数据库中的参数类型）。BEGIN和END中间的就是SQL语句</code></pre><p>在数据库中调用：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">call GetStudent(1,2);</span><br></pre></td></tr></table></figure></p><h3 id="使用spring-data-jpa调用这个存储过程："><a href="#使用spring-data-jpa调用这个存储过程：" class="headerlink" title="使用spring data jpa调用这个存储过程："></a>使用spring data jpa调用这个存储过程：</h3><p>步骤： </p><ol><li>创建一个实体类 </li><li>在实体类中使用注解的方式绑定数据库中的存储过程 </li><li><p>调用这个存储过程</p><p>先上代码</p><h4 id="实体类："><a href="#实体类：" class="headerlink" title="实体类："></a>实体类：</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">package com.zhang.demo;</span><br><span class="line">import lombok.AllArgsConstructor;</span><br><span class="line">import lombok.Data;</span><br><span class="line">import lombok.NoArgsConstructor;</span><br><span class="line">import javax.persistence.*;</span><br><span class="line"></span><br><span class="line">@Entity</span><br><span class="line">@NamedStoredProcedureQuery(name &#x3D; &quot;GetStudent&quot;, procedureName &#x3D; &quot;GetStudent&quot;,</span><br><span class="line">    resultClasses &#x3D; &#123;Student.class&#125;,</span><br><span class="line">    parameters &#x3D; &#123;</span><br><span class="line">        @StoredProcedureParameter(mode &#x3D; ParameterMode.IN, name &#x3D; &quot;ageMin&quot;, type &#x3D; Integer.class),</span><br><span class="line">        @StoredProcedureParameter(mode &#x3D; ParameterMode.IN, name &#x3D; &quot;gradeMin&quot;, type &#x3D; Integer.class)</span><br><span class="line">&#125;)</span><br><span class="line">@Data</span><br><span class="line">@NoArgsConstructor</span><br><span class="line">@AllArgsConstructor</span><br><span class="line">public class Student &#123;</span><br><span class="line">    @Id</span><br><span class="line">    @GeneratedValue</span><br><span class="line">    private Long id;</span><br><span class="line">    private String no;</span><br><span class="line">    private String name;</span><br><span class="line">    private Integer grade;</span><br><span class="line">    private Integer age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>说明：<br>@NamedStoredProcedureQuery 申明一个存储过程</p><pre><code>name属性是给这个存储结构起一个名字procedureName属性是存储结构在数据库中的名字resultClasses属性声明这个存储过程返回的结果集的类型parameters属性声明这个存储结构的参数（如果存储过程返回的是一个临时表，那么resultClasses对应的临时表的字段要与数据库中的字    段匹配，匹配不意味着完全相等而是：下划线-&gt;驼峰，因为它使用的是jpa的规范）</code></pre></li></ol><p>@Entity注解的作用是声明这是一个实体类</p><p>下面三个注解是插件lombok的方法<br>@Data 生成getter and setter方法<br>@NoArgsConstructor 生成无参的构造函数<br>@AllArgsConstructor 生成全参的构造函数</p><p>使用lombok插件的方法很简单:<br>先添加依赖（使用Maven构建项目）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.projectlombok&lt;&#x2F;groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;lombok&lt;&#x2F;artifactId&gt;</span><br><span class="line">&lt;&#x2F;dependency&gt;</span><br></pre></td></tr></table></figure><br>然后在IDEA的 setting -&gt; Plugins 搜索lombok点击安装<br>最后重启IDEA</p><p>@Id与@GeneratedValue是JPA的注解，意思是声明id字段是主键，且设置自增</p><h4 id="调用："><a href="#调用：" class="headerlink" title="调用："></a>调用：</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">package com.zhang.demo;</span><br><span class="line">import org.springframework.web.bind.annotation.*;</span><br><span class="line">import javax.persistence.EntityManager;</span><br><span class="line">import javax.persistence.PersistenceContext;</span><br><span class="line">import javax.persistence.StoredProcedureQuery;</span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line">&#x2F;**</span><br><span class="line"> * Created by mrzhang on 2018&#x2F;11&#x2F;2.</span><br><span class="line"> *&#x2F;</span><br><span class="line">@RestController</span><br><span class="line">public class StudentController &#123;</span><br><span class="line"></span><br><span class="line">    @PersistenceContext</span><br><span class="line">    private EntityManager entityManager;</span><br><span class="line"></span><br><span class="line">    @GetMapping(&quot;&#x2F;getStudent&quot;)</span><br><span class="line">    @ResponseBody</span><br><span class="line">    public JsonResult findStudentByAgeAndGrade()&#123;</span><br><span class="line">        StoredProcedureQuery store &#x3D; this.entityManager.createNamedStoredProcedureQuery(&quot;GetStudent&quot;);</span><br><span class="line">        store.setParameter(&quot;ageMin&quot;, 10);</span><br><span class="line">        store.setParameter(&quot;gradeMin&quot;, 10);</span><br><span class="line">        List&lt;Student&gt; students &#x3D;  store.getResultList();</span><br><span class="line">        return JsonResult.success(students);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>因为是demo所以就粗糙一点没有使用service层，直接在Controller中调用</p><p>获取spring容器中的EntityManager<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">@PersistenceContext</span><br><span class="line">private EntityManager entityManager;</span><br></pre></td></tr></table></figure><br>createNamedStoredProcedureQuery()方法创建一个查询对象<br>setParameter()来设置参数的值<br>getResultList()方法来获取结果集</p><p>完整的代码：<a href="https://github.com/ZhangnLei/demo-for-procedure-query.git" target="_blank" rel="noopener">https://github.com/ZhangnLei/demo-for-procedure-query.git</a><br>between的用法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@Query(nativeQuery &#x3D; true,</span><br><span class="line">       value &#x3D; &quot;select * from z_cashier_data&quot; +</span><br><span class="line">               &quot;where abstract_code &#x3D; ?1 &quot; +</span><br><span class="line">               &quot;and time BETWEEN ?2 and ?3&quot;)</span><br><span class="line">Page&lt;CashierData&gt; findAllabcd(String code, Date start, Date end, Pageable pageable);&#x2F;&#x2F;函数名随意</span><br></pre></td></tr></table></figure><br>相当于下面这条<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Page&lt;CashierData&gt; findAllByAbstractCodeAndTimeBetween(String code, Date start, Date end, Pageable pageable);</span><br></pre></td></tr></table></figure><br>in的用法<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">@Modifying</span><br><span class="line">@Query(nativeQuery &#x3D; true, value &#x3D; &quot;DELETE from z_cashier_data where id in (:ids)&quot;)</span><br><span class="line">void deleteIn(@Param(&quot;ids&quot;) List&lt;Long&gt; ids);&#x2F;&#x2F;函数名随意</span><br></pre></td></tr></table></figure><br>相当于下面这条<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">void deleteByIdIn(List&lt;Long&gt; ids);</span><br></pre></td></tr></table></figure><br>}</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">场景自动生成代码，要根据上一条记录的代码，代码要为上一条代码+1</span><br></pre></td></tr></table></figure><p>select * FROM z_cashier_data<br>where id = (SELECT max(z_cashier_data.id) from z_cashier_data where abstract_code = “1001”);<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ajax的async这个属性默认是true：异步，false：同步。</span><br><span class="line">区别：</span><br></pre></td></tr></table></figure><br> $.ajax({<br>        type: “GET”,<br>        dataType: ‘json’,<br>        async: false,<br>        contentType: ‘application/json;charset=utf-8’,<br>        url: ctx+”/admin/cashierManager/getCode”,<br>        success: function(msg){<br>            if (msg.code === 0){<br>                newCode = msg.data;<br>            }<br>        }<br>    });<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">有了这个属性可以相对的减少代码运行书序问题，但是如果用的太多，页面假死次数太多。这样反而导致用户体验不佳~！</span><br><span class="line"></span><br><span class="line">$.Ajax()中 async 和success的官方的解释：</span><br><span class="line">    </span><br><span class="line">    async </span><br><span class="line">    Boolean </span><br><span class="line">    Default: true</span><br><span class="line">    </span><br><span class="line">    By default, all requests are sent asynchronous (e.g. this is set to true by default). </span><br><span class="line">    If you need synchronous requests, set this option to false. Note that synchronous </span><br><span class="line">    requests may temporarily lock the browser, disabling any actions while the request </span><br><span class="line">    is active.</span><br><span class="line">    </span><br><span class="line">    success </span><br><span class="line">    Function</span><br><span class="line">    </span><br><span class="line">    A function to be called if the request succeeds. The function gets passed two </span><br><span class="line">    arguments: The data returned from the server, formatted according to the &#39;dataType&#39;</span><br><span class="line">    parameter, and a string describing the status. This is an Ajax Event.</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">在这里，async默认的设置值为true，这种情况为异步方式，就是说当ajax发送请求后，在等待server端返回的这个过程中，前台会继续 执行ajax块后面的脚本，直到server端返回正确的结果才会去执行success，也就是说这时候执行的是两个线程，ajax块发出请求后一个线程 和ajax块后面的脚本（另一个线程）例：</span><br></pre></td></tr></table></figure><br>$.ajax({<br>    type:”POST”,<br>    url:”Venue.aspx?act=init”,<br>    dataType:”html”,<br>    success:function(result){   //function1()<br>        f1();<br>        f2();<br>    }<br>    failure:function (result) {<br>        alert(‘Failed’);<br>    },<br>}<br>function2();<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">在上例中，当ajax块发出请求后，他将停留function1()，等待server端的返回，但同时（在这个等待过程中），前台会去执行function2(),也就是说，在这个时候出现两个线程，我们这里暂且说为function1() 和function2()。</span><br><span class="line"></span><br><span class="line">当把asyn设为false时，这时ajax的请求时同步的，也就是说，这个时候ajax块发出请求后，他会等待在function1（）这个地方，不会去执行function2()，知道function1()部分执行完毕。</span><br><span class="line"></span><br><span class="line">我有一个问题，js时单线程的，那么为什么ajax可以多线程？</span><br><span class="line"></span><br><span class="line">参考：[https:&#x2F;&#x2F;www.cnblogs.com&#x2F;xmphoenix&#x2F;archive&#x2F;2011&#x2F;11&#x2F;21&#x2F;2257651.html](https:&#x2F;&#x2F;www.cnblogs.com&#x2F;xmphoenix&#x2F;archive&#x2F;2011&#x2F;11&#x2F;21&#x2F;2257651.html)</span><br><span class="line">### 问题：</span><br><span class="line">使用JS的函数时，将对象类型的值作为参数传到函数内，且在函数内修改了该参数，导致原值被修改。</span><br><span class="line"></span><br><span class="line">### 原因：</span><br><span class="line">JS函数的参数有两种类型，基本类型和引用类型。传参时会传入一个该值的拷贝，且该拷贝类型为浅拷贝</span><br><span class="line"></span><br><span class="line">#### 浅拷贝与深拷贝</span><br><span class="line">首先，浅拷贝和深拷贝都只针对于像Object， Array这样的复杂对象，</span><br><span class="line"></span><br><span class="line">区别：浅拷贝只复制对象的第一层属性、深拷贝可以对对象的属性进行递归复制</span><br><span class="line"> </span><br><span class="line">### 解决办法：</span><br><span class="line">不在方法里修改引用性参数的值，如果一定要这么做那就创建一个拷贝</span><br><span class="line"></span><br><span class="line">### 创建深拷贝拷贝的方法：</span><br><span class="line"></span><br><span class="line">#### 1.自己写</span><br></pre></td></tr></table></figure><br> deepCopy (o, c) {<br>   c = c || {}<br>   for (let i in o) {<br>     if (typeof o[i] === ‘object’) {<br>       // 需要深拷贝<br>       if (o[i].constructor === Array) {<br>         // 数组<br>         console.log(‘是数组’)<br>         c[i] = []<br>       } else {<br>         // 对象<br>         console.log(‘是对象’)<br>         c[i] = {}<br>       }<br>       this.deepCopy(o[i], c[i])<br>     } else {<br>       c[i] = o[i]<br>     }<br>   }<br>   return c<br> }<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#### 1.JQuery的extend()方法</span><br><span class="line"></span><br><span class="line">$.extend( [deep ], target, object1 [, objectN ] )</span><br><span class="line"></span><br><span class="line">deep表示是否深拷贝，为true为深拷贝，为false，则为浅拷贝</span><br><span class="line"></span><br><span class="line">target Object类型 目标对象，其他对象的成员属性将被附加到该对象上。</span><br><span class="line"></span><br><span class="line">object1  objectN可选。 Object类型 第一个以及第N个被合并的对象。 </span><br><span class="line"></span><br><span class="line">示例：</span><br></pre></td></tr></table></figure><br>// 期初余额的数据<br>var insertRow = {<br>    endBalance: $(“#beginBalance”).val(),<br>    type: “期初余额”<br>};<br>printTable(insertRow);</p><p>function printTable(insertRow) {<br>    var data = new Array();<br>    newRow = $.extend(true, insertRow.type, insertRow);<br>    newRow.endBalance = insertRowBalance;<br>    data.unshift(newRow);<br>}<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#### 2.使用JSON对象的parse()和stringify()方法</span><br></pre></td></tr></table></figure><br>function deepClone(obj){<br>    let _obj = JSON.stringify(obj),<br>        objClone = JSON.parse(_obj);<br>    return objClone<br>}<br>let a=[0,1,[2,3],4],<br>    b=deepClone(a);<br>a[0]=1;<br>a[2][0]=1;<br>console.log(a,b);<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">还有尽量不用全局变量</span><br><span class="line"></span><br><span class="line">参考：</span><br><span class="line"></span><br><span class="line">[https:&#x2F;&#x2F;www.cnblogs.com&#x2F;echolun&#x2F;p&#x2F;7889848.html](https:&#x2F;&#x2F;www.cnblogs.com&#x2F;echolun&#x2F;p&#x2F;7889848.html)</span><br><span class="line"></span><br><span class="line">[https:&#x2F;&#x2F;blog.csdn.net&#x2F;qq_28978893&#x2F;article&#x2F;details&#x2F;79272422 ](https:&#x2F;&#x2F;blog.csdn.net&#x2F;qq_28978893&#x2F;article&#x2F;details&#x2F;79272422)</span><br><span class="line">### 设置高度为灵活高度</span><br><span class="line">添加高度属性</span><br></pre></td></tr></table></figure><br>    height: $(window).height() <em> 0.68,<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 添加数据统计</span><br><span class="line">分为两步：</span><br><span class="line"></span><br><span class="line">第一步</span><br></pre></td></tr></table></figure><br>    showFooter: true,<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">第二步</span><br></pre></td></tr></table></figure><br>            footerFormatter: function (value) {<br>                var count = 0;<br>                for (var i in value){<br>                    count += parseFloat(value[i].hBorrow);<br>                }<br>                return xiaoshu(count);<br>            }<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 不显示某些列</span><br></pre></td></tr></table></figure><br>        onLoadSuccess: function(){<br>            if(type == 2){<br>                $table.bootstrapTable(‘hideColumn’, ‘abstractName’);<br>            }<br>        }<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 给每一行添加属性</span><br></pre></td></tr></table></figure><br>    rowAttributes: function (row, index) {<br>        return {“data-acc”: row.acc};<br>    }<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">完整示例代码</span><br></pre></td></tr></table></figure><br>$(‘#table’).bootstrapTable({<br>    // data:data,<br>    idField: ‘id’,<br>    dataType: ‘jsonp’,<br>    height: $(window).height() </em> 0.68,//设置高度为页面的68%<br>    showFooter: true,//设置启用统计功能<br>    columns: [<br>        {field: ‘id’, title: ‘科目代码’, width: ‘150px’,<br>            footerFormatter: function (value) {<br>                return “汇总”;<br>            }},<br>        {field: ‘subjectName’, title: ‘科目名称’,},<br>        {field: ‘dir1’, title: ‘方向’, width: ‘40px’, align: ‘center’},<br>        {field: ‘startBalance’, title: ‘期初余额’, align: ‘right’, width: ‘140px’,<br>            footerFormatter: function (value) {<br>                var count = 0;<br>                for (var i in value){<br>                    count += parseFloat(value[i].startBalance);<br>                }<br>                return xiaoshu(count);<br>            }},<br>        {field: ‘hBorrow’, title: ‘借方发生’, align: ‘right’, width: ‘140px’,<br>            footerFormatter: function (value) {<br>                var count = 0;<br>                for (var i in value){<br>                    count += parseFloat(value[i].hBorrow);<br>                }<br>                return xiaoshu(count);<br>            }},<br>        {field: ‘hLoad’, title: ‘贷方发生’, align: ‘right’, width: ‘140px’,<br>            footerFormatter: function (value) {<br>                var count = 0;<br>                for (var i in value){<br>                    count += parseFloat(value[i].hLoad);<br>                }<br>                return xiaoshu(count);<br>            }}<br>    ],<br>    showHeader: true,<br>    onPreBody: function (data) {<br>        if (data.length &gt; 0){<br>            for (var i in data) {<br>                data[i].startBalance = xiaoshu(data[i].startBalance);<br>                data[i].hBorrow = xiaoshu(data[i].hBorrow);<br>                data[i].hLoad = xiaoshu(data[i].hLoad);<br>            }<br>        }<br>    },<br>    //在哪一列展开树形<br>    treeShowField: ‘id’,<br>    //指定父id列<br>    parentIdField: ‘pid’,<br>    onResetView: function (data) {<br>        $table.treegrid({<br>            initialState: ‘collapsed’,// 所有节点都折叠<br>            treeColumn: 0,<br>            onChange: function () {<br>                $table.bootstrapTable(‘resetWidth’);<br>            }<br>        });<br>    },<br>    rowStyle: function (row, index) {<br>        return {classes: ‘setli’};<br>    },<br>    //给每一行添加属性<br>    rowAttributes: function (row, index) {<br>        return {“data-acc”: row.acc};<br>    }<br>});</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 使用onProBody()方法修改从服务器端拉取的数据</span><br><span class="line"></span><br><span class="line">onProBody()方法可以在表格渲染之前触发，于是可以在这里更改表格的数据</span><br><span class="line"></span><br><span class="line">但是 onProBody()方法被运行了两次， </span><br><span class="line"></span><br><span class="line">如下例：</span><br></pre></td></tr></table></figure><p>function printTable(insertRow) {<br>    $table.bootstrapTable({<br>        method: “POST”,<br>        cache: false,<br>        url: ctx + “/admin/cashierManager/getCashierDataList”,<br>        contentType: “application/x-www-form-urlencoded”,<br>        pageSize: 5,<br>        pageNumber: 1,<br>        pageList: [5, 10, 20],<br>        dataSidePagination: “server”,<br>        sidePagination: “server”,<br>        dataType: ‘json’,<br>        pagination: true, //分页<br>        paginationLoop: false,<br>        showPaginationSwitch: false,<br>        paginationPreText: ‘上一页’,<br>        paginationNextText: ‘下一页’,<br>        responseHandler: function (res) {<br>            return {<br>                “rows”: res.content,<br>                “total”: res.totalElements<br>            };<br>        },<br>        columns: [<br>            {field: ‘code’, title: ‘单据号’, width: ‘100px’, align: ‘center’,},<br>            {field: ‘time’, title: ‘日期’, width: ‘100px’, align: ‘center’,},<br>            {field: ‘type’, title: ‘单据类型’, width: ‘100px’, align: ‘center’,},<br>            {field: ‘abstractName’, title: ‘摘要’, align: ‘center’,},<br>            {field: ‘borrow’, title: ‘借方’, width: ‘130px’, align: ‘right’,},<br>            {field: ‘loan’, title: ‘贷方’, width: ‘130px’, align: ‘right’,},<br>            {field: ‘endBalance’, title: ‘余额’, width: ‘130px’, align: ‘right’,},<br>           ],<br>        onPreBody: function (data) {<br>            console.log(data); // 1<br>            if (data.length &gt; 0){<br>                // console.log(data);<br>                var balance = accAdd(insertRow.endBalance, 0);<br>                var insertRowBalance = accAdd(data[0].endBalance, balance);<br>                for (var i in data) {<br>                    if (i == 0){<br>                        balance = balance + data[i].endBalance;<br>                    }<br>                    balance = balance + data[i].borrow - data[i].loan;<br>                    data[i].endBalance = balance;<br>                }<br>                //如果是第一页，要在行首加一条数据<br>                if (this.pageNumber == 1) {<br>                    newRow = $.extend(true, insertRow.type, insertRow);<br>                    newRow.endBalance = insertRowBalance;<br>                    data.unshift(newRow);<br>                }<br>            }<br>        }<br>    });<br>}</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">在onProBody()方法中使用console.log()方法打印</span><br><span class="line"></span><br><span class="line">![图片](https:&#x2F;&#x2F;github.com&#x2F;ZhangnLei&#x2F;pic-for-blog&#x2F;blob&#x2F;master&#x2F;js&#x2F;bootstrap%20table_onProBody().png)</span><br><span class="line"></span><br><span class="line">会打印两次data，data是一个列表</span><br><span class="line"></span><br><span class="line">第一次打印一个空列表</span><br><span class="line"></span><br><span class="line">第二次打印从后端返回的数据</span><br><span class="line"></span><br><span class="line">然后下面的操作data时，由于data为空，会报data[0].endBalance不存在的错</span><br><span class="line"></span><br><span class="line">解决办法：</span><br><span class="line"></span><br><span class="line">添加判断</span><br></pre></td></tr></table></figure><pre><code>if (data.length &gt; 0){}</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 解决bootstrapTable的load方法不可用的问题</span><br><span class="line"></span><br><span class="line">迁移系统后使用bootstrapTable的load方法加载数据</span><br></pre></td></tr></table></figure><p>$table.bootstrapTable(‘load’,data);<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">方法无效；（确认可以查询到数据且打印在前端但是没有渲染到bootstrap table上）</span><br><span class="line"></span><br><span class="line">解决办法：</span><br></pre></td></tr></table></figure><br>table.bootstrapTable(‘removeAll’);<br>table.bootstrapTable(‘append’,data.data);<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">使用先清空再添加的方法解决该问题。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">重装mysql的时候在删除玩文件、注册表之后一定记得重启然后再安装新的软件</span><br><span class="line">最近金常用到的，写下来。</span><br><span class="line"></span><br><span class="line">最近需要经常操作list 数据库查询出来的list需要加工，然后返回给前端</span><br><span class="line"></span><br><span class="line">其中加工的过程有常见的两种操作， 一是修改二是删除</span><br><span class="line"></span><br><span class="line">如果List的元素是对象，那么修改他没有关系，直接for循环遍历，如果是基础类型，那么最好还是new一个数组，然后来接收他吧</span><br><span class="line"></span><br><span class="line">如果是删除的话for循环遍历恐怕不行，因为删除的过程中改变了List的索引，可能会报out of bounds 的错</span><br><span class="line"></span><br><span class="line">那么迭代的方法便可以解决这一个问题</span><br><span class="line"></span><br><span class="line">代码如下：</span><br></pre></td></tr></table></figure><br>      Iterator<AccountBalance> iterator = finalResult.iterator();<br>            while(iterator.hasNext()){<br>                AccountBalance balance = iterator.next();<br>                if(balance.getStartBalance().compareTo(BigDecimal.ZERO) == 0 &amp;&amp; balance.getEndBalance().compareTo(BigDecimal.ZERO) == 0){<br>                    iterator.remove();<br>                }<br>            }<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">问题描述：</span><br><span class="line"></span><br><span class="line">迁移系统后使用bootstrapTable的load方法加载数据</span><br></pre></td></tr></table></figure><br>$table.bootstrapTable(‘load’,data);<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">方法无效；（确认可以查询到数据且打印在前端但是没有渲染到bootstrap table上）</span><br><span class="line"></span><br><span class="line">解决办法：</span><br></pre></td></tr></table></figure><br>table.bootstrapTable(‘removeAll’);<br>table.bootstrapTable(‘append’,data.data);<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line">使用先清空再添加的方法解决该问题。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">##Redis学习笔记 2018-4-3</span><br><span class="line"></span><br><span class="line">###关于Redis的小故事：</span><br><span class="line">很有意思，Redis是由MySQL的开发者开发的，因为他对MySQL的性能不满意，故自己和另一位开发者写了Redis</span><br><span class="line">###NoSQL</span><br><span class="line">not only sql 非关系型数据库</span><br><span class="line"></span><br><span class="line">###Mac下安装及启动Redis</span><br><span class="line">一、下载安装</span><br><span class="line"></span><br><span class="line">百度 redis下载，进官网[https:&#x2F;&#x2F;redis.io&#x2F;]或中文官网[http:&#x2F;&#x2F;www.redis.cn]下载。</span><br><span class="line"></span><br><span class="line">二、本地存放</span><br><span class="line"></span><br><span class="line">本地新建个redis文件夹，把下载的文件加压到redis文件夹中。</span><br><span class="line"></span><br><span class="line">三、安装</span><br><span class="line"></span><br><span class="line">进入解压的redis文件夹中，编译安装，结果大致如图</span><br><span class="line"></span><br><span class="line">输入命令：</span><br><span class="line"></span><br><span class="line">cd redis-x.x.x</span><br><span class="line"></span><br><span class="line">sudo make install  (会提示输入电脑密码)</span><br><span class="line"></span><br><span class="line">四、启动redis服务</span><br><span class="line"></span><br><span class="line">进入 src文件夹 后 执行启动命令  如图</span><br><span class="line"></span><br><span class="line">cd src</span><br><span class="line"></span><br><span class="line">.&#x2F;redis-server</span><br><span class="line"></span><br><span class="line">五、启动redis客户端实测</span><br><span class="line"></span><br><span class="line">新开个终端，进入到src文件夹，执行命令 如图</span><br><span class="line"></span><br><span class="line">.&#x2F;redis-cli  &#x2F;&#x2F;表示启动redis客户端</span><br><span class="line"></span><br><span class="line">set admin echoRedis  &#x2F;&#x2F; 设置 key为admin value为echoRedis（redis的set语法）</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;返回结果OK为 设置成功</span><br><span class="line"></span><br><span class="line">get admin &#x2F;&#x2F; 取 key为admin的value值（redis的get语法）</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;返回结果为 echoRedis（我们设置的值）</span><br><span class="line"></span><br><span class="line">【表示redis客户端测试成功】</span><br><span class="line"></span><br><span class="line">六、简单的和java结合</span><br><span class="line"></span><br><span class="line">   public Object demo1()&#123;</span><br><span class="line">        Jedis jedis &#x3D; new Jedis(&quot;localhost&quot;);</span><br><span class="line">        jedis.set(&quot;name&quot;,&quot;zhang&quot;);</span><br><span class="line">        String value &#x3D; jedis.get(&quot;name&quot;);</span><br><span class="line">        System.out.println(value);</span><br><span class="line">        jedis.close();</span><br><span class="line">        return value;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">七、结束</span><br><span class="line"></span><br><span class="line">###Redis数据类型（五种）</span><br><span class="line">字符串 string</span><br><span class="line"></span><br><span class="line">哈希 hash</span><br><span class="line"></span><br><span class="line">字符串列表 list</span><br><span class="line"></span><br><span class="line">字符串集合 set</span><br><span class="line"></span><br><span class="line">有序字符串集合 sorted set</span><br><span class="line"></span><br><span class="line">###Code From imook</span><br></pre></td></tr></table></figure></p><pre><code>/** * 单实例的测试 */public Object demo1(){    Jedis jedis = new Jedis(&quot;localhost&quot;);    jedis.set(&quot;name&quot;,&quot;zhang&quot;);    String value = jedis.get(&quot;name&quot;);    System.out.println(value);    jedis.close();    return value;}/** * 连接池的方式 */public Object demo2(){    //或得连接池的配置对象    JedisPoolConfig config = new JedisPoolConfig();    //设置最大连接数    config.setMaxTotal(30);    //最大空闲连接数    config.setMaxIdle(10);    //或得连接池    JedisPool jedisPool = new JedisPool(config,&quot;localhost&quot;,6379);    //或得对象核心    Jedis jedis = null;    try{        //获得连接池        jedis = jedisPool.getResource();        //设置数据        jedis.set(&quot;name&quot;,&quot;zhang&quot;);        //获取数据        String value = jedis.get(&quot;name&quot;);        System.out.println(value);        return value;    }catch (Exception e){        e.printStackTrace();    }finally {        //释放资源        if (jedis != null){            jedis.close();        }        if (jedisPool != null){            jedisPool.close();        }    }    return null;}</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">### 1.使用ajax传递对象</span><br><span class="line"></span><br><span class="line">前端代码：</span><br></pre></td></tr></table></figure><p>function save(status) {<br>    var dataList = $table.bootstrapTable(“getData”, true);<br>    var obj = dataList[0];<br>    obj.status = status;<br>    obj.opinion = $(“#opinion”).val();</p><pre><code>$.ajax({    type: &quot;post&quot;,    url: &quot;/admin/warning/approve/save&quot;,    contentType: &apos;application/json;charset=utf-8&apos;,    data: JSON.stringify(obj),    dataType: &quot;json&quot;,    success: function (msg) {        console.log(msg);        if (msg.code == 0) {            layer.msg(msg.message, {icon: 1, time: 1000}, function () {                var index = parent.layer.getFrameIndex(window.name);                parent.layer.close(index);            });        } else {            layer.msg(msg.message, {icon: 2, time: 1000})        }    }});</code></pre><p>}<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">后端代码：</span><br></pre></td></tr></table></figure><br>/**</p><ul><li>保存</li><li>@param costStr</li><li><p>@return<br>*/<br>@RequestMapping(“/save”)<br>@ResponseBody<br>public JsonResult save(@RequestBody String costStr){<br> CostApplication costApplication = JSON.parseObject(costStr, new TypeReference<CostApplication>() {});<br> costApplicationService.save(costApplication);<br> return JsonResult.success();<br>}</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">### 2.使用post方式传递多个参数</span><br><span class="line">前端代码：</span><br></pre></td></tr></table></figure><p>function saveOrSubmit(type) {<br> var dataList = $table.bootstrapTable(“getData”, true);<br> console.log(dataList);<br> console.log($(“#kj”).val());<br> $.ajax({</p><pre><code>type: &quot;post&quot;,url: &quot;/admin/warning/apply/save&quot;,data: {    saveType: type,    dataListStr: JSON.stringify(dataList),    bzy: $(&quot;#bzy&quot;).val(),    kj: $(&quot;#kj&quot;).val(),    cn: $(&quot;#cn&quot;).val(),},dataType: &quot;json&quot;,success: function (msg) {    // msg = JSON.parse(msg);    console.log(msg);    if (msg.code == 0) {        layer.msg(msg.message, {icon: 1, time: 2000}, function () {            var index = parent.layer.getFrameIndex(window.name);            parent.layer.close(index);        });    } else {        layer.msg(msg.message, {icon: 2, time: 2000})    }}</code></pre><p> });<br>}</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">后端代码：</span><br></pre></td></tr></table></figure><p>/**</p></li><li>保存</li><li>@return<br>*/<br>@RequestMapping(“/save”)<br>@ResponseBody<br>public JsonResult save(Integer saveType, String dataListStr, String reason, String bzy, String kj, String cn, HttpSession session, ModelMap map){<br> List<CostApplication> dataList = readListValue(dataListStr, CostApplication.class);<br> if (dataList != null){<pre><code>for (CostApplication c: dataList){    if (saveType != null){        c.setStatus(saveType);    }    if (reason != null){        c.setReason(reason);    }    if (bzy != null){        c.setBzy(bzy);    }    if (kj != null){        c.setKj(kj);    }    if (cn != null){        c.setCn(cn);    }}costApplicationService.save(dataList);return JsonResult.success();</code></pre> }<br> return JsonResult.failure(“操作失败！”);<br>}<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 同步与异步</span><br><span class="line">ajax的async这个属性默认是true：异步，false：同步。</span><br><span class="line"></span><br><span class="line">使用示例：</span><br></pre></td></tr></table></figure>$.ajax({<pre><code>type: &quot;GET&quot;,dataType: &apos;json&apos;,async: false,contentType: &apos;application/json;charset=utf-8&apos;,url: ctx+&quot;/admin/cashierManager/getCode&quot;,success: function(msg){    if (msg.code === 0){        console.log(msg.data);    }}</code></pre> });<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">这个属性可以相对的减少代码运行书序问题，但是如果用的太多，页面假死次数太多。这样反而导致用户体验不佳~！</span><br><span class="line"></span><br><span class="line">$.Ajax()中 async 和success的官方的解释：</span><br><span class="line">    </span><br><span class="line">    async </span><br><span class="line">    Boolean </span><br><span class="line">    Default: true</span><br><span class="line">    </span><br><span class="line">    By default, all requests are sent asynchronous (e.g. this is set to true by default). </span><br><span class="line">    If you need synchronous requests, set this option to false. Note that synchronous </span><br><span class="line">    requests may temporarily lock the browser, disabling any actions while the request </span><br><span class="line">    is active.</span><br><span class="line">    </span><br><span class="line">    success </span><br><span class="line">    Function</span><br><span class="line">    </span><br><span class="line">    A function to be called if the request succeeds. The function gets passed two </span><br><span class="line">    arguments: The data returned from the server, formatted according to the &#39;dataType&#39;</span><br><span class="line">    parameter, and a string describing the status. This is an Ajax Event.</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">在这里，async默认的设置值为true，这种情况为异步方式，就是说当ajax发送请求后，在等待server端返回的这个过程中，前台会继续 执行ajax块后面的脚本，直到server端返回正确的结果才会去执行success，也就是说这时候执行的是两个线程，ajax块发出请求后一个线程 和ajax块后面的脚本（另一个线程）例：</span><br></pre></td></tr></table></figure>$.ajax({<br> type:”POST”,<br> url:”Venue.aspx?act=init”,<br> dataType:”html”,<br> success:function(result){   //function1()<pre><code>f1(); f2(); </code></pre> }<br> failure:function (result) {  <pre><code>alert(&apos;Failed&apos;);  </code></pre> },<br>}<br>function2(); <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line">    </span><br><span class="line">在上例中，当ajax块发出请求后，他将停留function1()，等待server端的返回，但同时（在这个等待过程中），</span><br><span class="line">前台会去执行function2(),也就是说，在这个时候出现两个线程，我们这里暂且说为function1() 和function2()。</span><br><span class="line">    </span><br><span class="line">当把asyn设为false时，这时ajax的请求时同步的，也就是说，这个时候ajax块发出请求后，他会等待在function1（）这个地方，</span><br><span class="line">不会去执行function2()，直到function1()部分执行完毕。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### $.ajax()方法常用参数详解</span><br><span class="line">    </span><br><span class="line">    $.ajax()方法是jQuery最底层的Ajax实现。它的结构为：</span><br><span class="line">    </span><br><span class="line">    　　$.ajax(options)</span><br><span class="line">    </span><br><span class="line">    该方法只有一个参数，但是这个对象里包含了$.ajax()方法所需要的请求设置以及回调函数等信息，参数以key&#x2F;value的形式存在，所有的参数都是可选的。</span><br><span class="line">    常用参数见下表：</span><br><span class="line">    </span><br><span class="line">    1.url</span><br><span class="line">    </span><br><span class="line">    要求为String类型的参数，（默认为当前地址）发送请求的页面。</span><br><span class="line">    </span><br><span class="line">    2.type</span><br><span class="line">    </span><br><span class="line">    要求为String类型的参数，请求方式（post或get）默认为get。注意其他http请求方法，例如put和delete也可以使用，但仅部分浏览器支持。</span><br><span class="line">    </span><br><span class="line">    3.data</span><br><span class="line">    </span><br><span class="line">    要求为Object或String类型的参数，发送到服务器的数据。如果不是字符串，将自动转换为字符串格式。get请求中将附加在URL后。防止这种自动转换，可以查看　　</span><br><span class="line">    processData选项。对象必须为key&#x2F;value格式，例如&#123;foo1:&quot;bar1&quot;,foo2:&quot;bar2&quot;&#125;转换为&amp;foo1&#x3D;bar1&amp;foo2&#x3D;bar2。</span><br><span class="line">    如果是数组，JQuery将自动为不同值对应同一个名称。例如&#123;foo:[&quot;bar1&quot;,&quot;bar2&quot;]&#125;转换为&amp;foo&#x3D;bar1&amp;foo&#x3D;bar2。</span><br><span class="line">    </span><br><span class="line">    4.contentType</span><br><span class="line">    </span><br><span class="line">    要求为String类型的参数，当发送信息至服务器时。内容编码类型默认为&quot;application&#x2F;x-www-form-urlencoded&quot;。该默认值适合大多数应用场合。</span><br><span class="line">    </span><br><span class="line">    5.dataType</span><br><span class="line">    </span><br><span class="line">    要求为String类型的参数，预期服务器返回的数据类型。如果不指定，jQuery将自动根据HTTP包的mine信息返回responseXML或responseText，</span><br><span class="line">    并作为回调函数参数传递。可用的类型如下：</span><br><span class="line">    </span><br><span class="line">    　　xml：返回XML文档，可用jQuery处理。</span><br><span class="line">    </span><br><span class="line">    　　html：返回纯文本HTML信息；包含的script标签会在插入DOM时执行。</span><br><span class="line">    </span><br><span class="line">    　　script：返回纯文本javascript代码。不会自动缓存结果，除非设置了cache参数。注意在远程请求时（不在同一个域下），所有post请求都将转为get请求。</span><br><span class="line">    </span><br><span class="line">    　　json：返回JSON数据。</span><br><span class="line">    </span><br><span class="line">    　　jsonp:JSON格式。使用JSONP形式调用函数时，例如myurl?callback&#x3D;?，JQuery将自动替换后一个“?”为正确的函数名，以执行回调函数。</span><br><span class="line">    </span><br><span class="line">    　　text：返回纯文本字符串。</span><br><span class="line">    </span><br><span class="line">    6.success</span><br><span class="line">    </span><br><span class="line">    要求为Function类型的参数，请求成功后调用的回调函数，有两个参数。</span><br><span class="line">    </span><br><span class="line">    　　（1）由服务器返回，并根据dataType参数进行处理后的数据。</span><br><span class="line">    </span><br><span class="line">    　　（2）描述状态的字符串。</span><br><span class="line">    </span><br><span class="line">    　　function(data,textStatus)&#123;</span><br><span class="line">    </span><br><span class="line">    　　　　&#x2F;&#x2F;data可能是xmlDoc、jsonObj、html、text等</span><br><span class="line">    </span><br><span class="line">    　　　　this;    &#x2F;&#x2F;调用本次ajax请求时传递的options参数</span><br><span class="line">    </span><br><span class="line">    　　&#125;</span><br><span class="line">    </span><br><span class="line">    7.error</span><br><span class="line">    </span><br><span class="line">    要求为Function类型的参数，请求失败时被调用的函数。该函数有3个参数，即XMLHttpRequest对象、错误信息、捕获的错误对象（可选）。ajax事件函数如下：</span><br><span class="line">    </span><br><span class="line">    　　function(XMLHttpRequest,textStatus,errorThrown)&#123;</span><br><span class="line">    </span><br><span class="line">    　　　　&#x2F;&#x2F;通常情况下textStatus和errorThrown只有其中一个包含信息</span><br><span class="line">    </span><br><span class="line">    　　　　this;    &#x2F;&#x2F;调用本次ajax请求时传递的options参数</span><br><span class="line">    </span><br><span class="line">    　　&#125;</span><br><span class="line">    </span><br><span class="line">    8.async</span><br><span class="line">    </span><br><span class="line">    要求为Boolean类型的参数，默认设置为true，所有请求均为异步请求。如果需要同步请求，请将此选项设置为false。</span><br><span class="line">    注意，同步请求将锁住浏览器，用户其他操作必须等待请求完成才可以执行。</span><br><span class="line"></span><br><span class="line">[参考]()</span><br><span class="line"></span><br><span class="line">[https:&#x2F;&#x2F;www.cnblogs.com&#x2F;xmphoenix&#x2F;archive&#x2F;2011&#x2F;11&#x2F;21&#x2F;2257651.html](https:&#x2F;&#x2F;www.cnblogs.com&#x2F;xmphoenix&#x2F;archive&#x2F;2011&#x2F;11&#x2F;21&#x2F;2257651.html)</span><br><span class="line"></span><br><span class="line">[https:&#x2F;&#x2F;www.cnblogs.com&#x2F;lengyuehuahun&#x2F;p&#x2F;5626668.html](https:&#x2F;&#x2F;www.cnblogs.com&#x2F;lengyuehuahun&#x2F;p&#x2F;5626668.html)</span><br><span class="line">## layer用法</span><br><span class="line"></span><br><span class="line">### 1.layer提示框</span><br></pre></td></tr></table></figure>layer.msg(“操作成功”, {time:2000, icon:1}); //icon:0-2 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">### 2.ajax请求后成功刷新页面，失败提示信息（使用layer组件）</span><br></pre></td></tr></table></figure>$.ajax({<br> type: “POST”,<br> data: json,<br> contentType: ‘application/json;charset=utf-8’,<br> url: “${ctx!}/admin/voucher/select/delete”,<br> success: function(msg){<pre><code>msg = JSON.parse(msg);if (msg.code == 0){    layer.msg(msg.message, {icon:1, time: 2000}, function () {        window.location.reload();        //table.bootstrapTable(&quot;refresh&quot;);    });} else {    layer.msg(msg.message, {icon:2, time:2000})}</code></pre> }<br>});<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 3.layer确认框</span><br></pre></td></tr></table></figure>layer.confirm(‘是否确认删除？’, {btn: [‘确认’,’取消’]},<br> function(){<pre><code>$.ajax({    type: &quot;get&quot;,    contentType: &apos;application/json;charset=utf-8&apos;,    dataType: &apos;json&apos;,    url: &quot;${ctx!}/admin/warning/apply/del/&quot; + id,    success: function(msg){        if (msg.code == 0){            layer.msg(msg.message, {icon:1, time: 1000}, function () {                $table.bootstrapTable(&quot;refresh&quot;);                // window.location.reload();            });        } else {            layer.msg(msg.message, {icon:2, time:1000})        }    }});</code></pre> },<br> function () {<br> }<br>);<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">### 4.layer中打开网页</span><br></pre></td></tr></table></figure>layer.open({<br> type: 2,<br> resize: true,<br> skin: ‘layui-layer-rim’, //加上边框<br> area: [‘1000px’, ‘800px’], //宽高<br> content: “<a href="http://www.baidu.com&quot;" target="_blank" rel="noopener">http://www.baidu.com&quot;</a><br>});<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">### 5.关闭当前层</span><br></pre></td></tr></table></figure><pre><code>var index = parent.layer.getFrameIndex(window.name); //先得到当前iframe层的索引parent.layer.close(index);</code></pre></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 使列可修改</span><br></pre></td></tr></table></figure><pre><code>{field: &apos;reason&apos;, title: &apos;申请原因&apos;, align: &apos;center&apos;,    formatter: function (value, row, index) {        return &apos;&lt;input type=&quot;text&quot; id=&quot;reason&quot; data-index=&quot;&apos;+index+&apos;&quot; onchange=&quot;changeReason(this)&quot; value=&quot;&apos;+value+&apos;&quot; /&gt;&apos;    }}</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">### 被修改后触发的监听事件：</span><br></pre></td></tr></table></figure><pre><code>function changeReason(e) {    var value = $(e).val();    var index = $(e).attr(&quot;data-index&quot;);    dataList[index].reason = value;}</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">其中dataList是一个全局变量</span><br></pre></td></tr></table></figure><pre><code>var dataList = []; </code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">### 在数据加载成功时为其赋值：</span><br></pre></td></tr></table></figure><pre><code>onLoadSuccess: function(){    dataList = $table.bootstrapTable(&quot;getData&quot;, true);    if(type == 2){        $table.bootstrapTable(&apos;hideColumn&apos;, &apos;abstractName&apos;);//隐藏abstractName列    }else {        $(&apos;#table&apos;).bootstrapTable(&apos;showColumn&apos;, &apos;abstractName&apos;);    }}</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">### 提交动作：</span><br></pre></td></tr></table></figure><pre><code>function saveOrSubmit(type) {    $.ajax({        type: &quot;post&quot;,        url: &quot;/admin/warning/apply/save&quot;,        data: {            saveType: type,            dataListStr: JSON.stringify(dataList),            bzy: $(&quot;#bzy&quot;).val(),            kj: $(&quot;#kj&quot;).val(),            cn: $(&quot;#cn&quot;).val(),        },        dataType: &quot;json&quot;,        success: function (msg) {            // msg = JSON.parse(msg);            console.log(msg);            if (msg.code == 0) {                layer.msg(msg.message, {icon: 1, time: 2000}, function () {                    var index = parent.layer.getFrameIndex(window.name);                    parent.layer.close(index);                });            } else {                layer.msg(msg.message, {icon: 2, time: 2000})            }        }    });}</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">### 完整代码：</span><br></pre></td></tr></table></figure><pre><code>var dataList = []; var $table = $(&apos;#table&apos;);var type = &apos;${type}&apos;;$table.bootstrapTable({    method: &quot;POST&quot;,    url: &quot;${ctx!}/admin/warning/apply/getConfirmCostApplicationList/&quot; + type,    contentType: &quot;application/x-www-form-urlencoded&quot;,    striped: true,    pagination: true,     pageSize: 1000,    pageList: [1000],    pageNumber: 1,    sidePagination: &quot;server&quot;,    queryParamsType: &quot;undefined&quot;,    paginationPreText: &apos;上一页&apos;,    paginationNextText: &apos;下一页&apos;,    height: $(window).height() * 0.58,    responseHandler: function (res) {        return {            &quot;rows&quot;: res.content,            &quot;total&quot;: res.totalElements,        };    },    columns: [        {field: &apos;subjectCode&apos;, title: &apos;科目代码&apos;, align: &apos;center&apos;,},        {field: &apos;subject&apos;, title: &apos;科目名称&apos;, align: &apos;center&apos;,},        {field: &apos;abstractName&apos;, title: &apos;摘要&apos;, align: &apos;center&apos;,},        {field: &apos;limitAmount&apos;, title: &apos;限制金额&apos;, align: &apos;center&apos;,},        {field: &apos;appliedAmount&apos;, title: &apos;申请金额&apos;, align: &apos;center&apos;,},        {field: &apos;reason&apos;, title: &apos;申请原因&apos;, align: &apos;center&apos;,            formatter: function (value, row, index) {                return &apos;&lt;input type=&quot;text&quot; id=&quot;reason&quot; data-index=&quot;&apos;+index+&apos;&quot; onchange=&quot;changeReason(this)&quot; value=&quot;&apos;+value+&apos;&quot; /&gt;&apos;            }        }    ],    onLoadSuccess: function(){        dataList = $table.bootstrapTable(&quot;getData&quot;, true);        if(type == 2){            $table.bootstrapTable(&apos;hideColumn&apos;, &apos;abstractName&apos;);        }else {            $(&apos;#table&apos;).bootstrapTable(&apos;showColumn&apos;, &apos;abstractName&apos;);        }    }});function changeReason(e) {    var value = $(e).val();    var index = $(e).attr(&quot;data-index&quot;);    dataList[index].reason = value;}function saveOrSubmit(type) {    $.ajax({        type: &quot;post&quot;,        url: &quot;/admin/warning/apply/save&quot;,        data: {            saveType: type,            dataListStr: JSON.stringify(dataList),            bzy: $(&quot;#bzy&quot;).val(),            kj: $(&quot;#kj&quot;).val(),            cn: $(&quot;#cn&quot;).val(),        },        dataType: &quot;json&quot;,        success: function (msg) {            console.log(msg);            if (msg.code == 0) {                layer.msg(msg.message, {icon: 1, time: 2000}, function () {                    var index = parent.layer.getFrameIndex(window.name);                    parent.layer.close(index);                });            } else {                layer.msg(msg.message, {icon: 2, time: 2000})            }        }    });}</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">首先</span><br><span class="line">### 存储过程是什么？</span><br><span class="line">&gt; 存储过程</span><br><span class="line">&gt; 存储过程（Stored Procedure）是在大型数据库系统中，一组为了完成特定功能的SQL 语句集，存储在数据库中，经过第一次编译后调用不需要再次编译，用户通过指定存储过程的名字并给出参数（如果该存储过程带有参数）来执行它。存储过程是数据库中的一个重要对象。    --百度百科</span><br><span class="line"></span><br><span class="line">### 使用存储过程有什么作用？</span><br><span class="line"></span><br><span class="line">&gt; “存储在数据库中，经过第一次编译后调用不需要再次编译”</span><br><span class="line"></span><br><span class="line">节省编译的时间，这是其中一点。还有一点，在开发过程中服务的性能瓶颈多是发生在在数据库的I&#x2F;O操作中，</span><br><span class="line">那么我们把要做的事情通过调用一个存储过程来取代多次与数据库的交互可以大大提高服务的性能。</span><br><span class="line"></span><br><span class="line">存储过程的写法这里不介绍了</span><br><span class="line"></span><br><span class="line">记录一下使用JDBC来调用存储过程的方法</span><br><span class="line"></span><br><span class="line">使用JDBC连接数据库的工具类</span><br></pre></td></tr></table></figure><p>import org.springframework.beans.factory.annotation.Value;<br>import org.springframework.stereotype.Component;</p><p>import java.sql.Connection;<br>import java.sql.DriverManager;<br>import java.sql.SQLException;</p><p>/**</p><ul><li>原生jdbc工具类，解决分片中间件无法调用存储过程</li><li><p>@author hql<br>*/<br>@Component<br>public class JdbcUtil {<br> @Value(“${jdbc.url}”)<br> private String url ;<br> @Value(“${jdbc.username}”)<br> private String username ;<br> @Value(“${jdbc.password}”)<br> private String password ;<br> private JdbcUtil(){}<br> public Connection getConn() throws SQLException {</p><pre><code>return DriverManager.getConnection(this.url,this.username,this.password);</code></pre><p> }<br> public void close(Connection conn){</p><pre><code>if (conn!=null) {    try {        conn.close();    } catch (SQLException e) {        e.printStackTrace();    }}</code></pre><p> }<br>}</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">application.properties中关于jdbc连接的参数配置</span><br></pre></td></tr></table></figure><p>#自定义jdbc连接<br>jdbc.url=jdbc:mysql://localhost:3306/db_name?useUnicode=true&amp;characterEncoding=utf8&amp;useSSL=true&amp;rewriteBatchedStatements=true<br>jdbc.username=root<br>jdbc.password=xxxx</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">返回单个值</span><br></pre></td></tr></table></figure><p> //注入工具类<br> @Autowired<br> private JdbcUtil jdbcutil;</p><p> private String getCheckVoucherProcedureQuerySingleResult(</p><pre><code>    Long id, String types, Date startTime, Date endTime,     String sharding) throws Exception {Connection conn = null;CallableStatement cs = null;String result;try {    //通过工具类，获取数据库链接对象    conn= jdbcUtil.getConn();    cs = conn.prepareCall(&quot;{call InitForCreateTable(?,?,?,?,?,?)}&quot;);    cs.setLong(&quot;unitId&quot;,id);    cs.setDate(&quot;endTime&quot;, (java.sql.Date) endTime);    cs.setString(&quot;sharding&quot;,sharding);    cs.registerOutParameter(&quot;result&quot;, Types.VARCHAR);    cs.execute();    result = cs.getString(&quot;result&quot;);} catch (Exception e) {    e.printStackTrace();    throw  new Exception(&quot;调用存储过程异常&quot;);}finally {    if(cs != null){        cs.close();    }    jdbcUtil.close(conn);}return result;</code></pre><p> }</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">返回结果集</span><br></pre></td></tr></table></figure><p> public List<DetailAccountProcedure> getDetailAccountProcedureProcedureQUeriesResultSet(</p><pre><code>    String fiscalPeriod, Long unitId, String subjectCode,     Date startDate, Date selectDate, Date endDate,     String voucherT, Date topOneDate, int isZero) throws Exception {Connection con = null;CallableStatement cs = null;List&lt;DetailAccountProcedure&gt; resultSet = new ArrayList&lt;&gt;();try {    con = jdbcUtil.getConn();    cs = con.prepareCall(&quot;{call DetailAccountProcedure(?,?,?,?,?,?,?,?,?,?)}&quot;);    cs.setLong(&quot;unitId&quot;, unitId);    cs.setString(&quot;sharding&quot;, fiscalPeriod);    cs.execute();    ResultSet rs = cs.getResultSet();    while (rs != null &amp;&amp; rs.next()) {        DetailAccountProcedure result = new DetailAccountProcedure(            rs.getLong(&quot;id&quot;),            rs.getDate(&quot;timer&quot;),        );        resultSet.add(result);    }} catch (Exception e) {    e.printStackTrace();    throw new Exception(&quot;调用存储过程异常&quot;);}finally {    if(cs != null){        cs.close();    }    jdbcUtil.close(con);}return resultSet;</code></pre><p> }</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">## IDEA编辑器</span><br><span class="line">### 控制台打印乱码问题</span><br><span class="line"></span><br><span class="line">首先打开你自己的idea的安装目录下（即右键桌面图标，点击打开文件所在位置），然后找到idea.exe.vmoptions文件，用记事本打开，在最后一行填加：“-Dfile.encoding&#x3D;UTF-8“，**但如果你的电脑操作系统是64位，那么请打开idea64.exe.vmoptions在最后一行填加。**</span><br><span class="line">文件如下：</span><br></pre></td></tr></table></figure><p>-Xms128m<br>-Xmx750m<br>-XX:ReservedCodeCacheSize=240m<br>-XX:+UseConcMarkSweepGC<br>-XX:SoftRefLRUPolicyMSPerMB=50<br>-ea<br>-Dsun.io.useCanonCaches=false<br>-Djava.net.preferIPv4Stack=true<br>-Djdk.http.auth.tunneling.disabledSchemes=””<br>-XX:+HeapDumpOnOutOfMemoryError<br>-XX:-OmitStackTraceInFastThrow<br>-Dfile.encoding=UTF-8</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">然后设置IDEA server编码。在菜单栏找到&quot;Run-&gt;EditConfigrations &quot; 找到&quot;Server&quot;选项卡 设置 VM options 为 -Dfile.encoding&#x3D;UTF-8，</span><br><span class="line"></span><br><span class="line">如图所示:</span><br><span class="line">![vm options 设置](https:&#x2F;&#x2F;img-blog.csdnimg.cn&#x2F;20181218143043531.png?x-oss-process&#x3D;image&#x2F;watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01yX1poYW5nX19fXw&#x3D;&#x3D;,size_16,color_FFFFFF,t_70)</span><br><span class="line"></span><br><span class="line">**最后重启idea。**</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 读取properties配置文件的中文乱码问题</span><br><span class="line">具体步骤：</span><br><span class="line"></span><br><span class="line">依次点击: File -&gt; Settings -&gt; Editor -&gt; File Encodings（或者 File -&gt; Settings 后搜索：File Encodings）</span><br><span class="line"></span><br><span class="line">将页面顶端的Global Encoding和Project Encoding置为UTF-8</span><br><span class="line"></span><br><span class="line">将Properties Files (*.properties)下的Default encoding for properties files设置为UTF-8，</span><br><span class="line"></span><br><span class="line">将Transparent native-to-ascii conversion勾选上。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">如图所示：</span><br><span class="line">![.properties设置](https:&#x2F;&#x2F;img-blog.csdnimg.cn&#x2F;20181218094757950.png?x-oss-process&#x3D;image&#x2F;watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01yX1poYW5nX19fXw&#x3D;&#x3D;,size_16,color_FFFFFF,t_70)</span><br><span class="line"></span><br><span class="line">## 线上项目解决办法:</span><br><span class="line">线上项目中使用向数据库中执行插入语句时出现乱码</span><br><span class="line"></span><br><span class="line">在Tomcat -&gt; bin -&gt; catalina.bat 配置文件中，添加设置设置编码</span><br></pre></td></tr></table></figure><p>set JAVA_OPTS=%JAVA_OPTS% %JSSE_OPTS%  -Dfile.encoding=UTF-8</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">参考：</span><br><span class="line"></span><br><span class="line">[https:&#x2F;&#x2F;blog.csdn.net&#x2F;Java_wucao&#x2F;article&#x2F;details&#x2F;78215173#commentBox](https:&#x2F;&#x2F;blog.csdn.net&#x2F;Java_wucao&#x2F;article&#x2F;details&#x2F;78215173#commentBox)</span><br><span class="line"></span><br><span class="line">[https:&#x2F;&#x2F;blog.csdn.net&#x2F;White55kai&#x2F;article&#x2F;details&#x2F;71194664](https:&#x2F;&#x2F;blog.csdn.net&#x2F;White55kai&#x2F;article&#x2F;details&#x2F;71194664)</span><br><span class="line">#### 添加新硬件</span><br><span class="line"></span><br><span class="line">解决办法: 拆除新硬件重新开机，定位问题。</span><br><span class="line"></span><br><span class="line">#### 内存条有灰尘</span><br><span class="line"></span><br><span class="line">解决办法: 拆下内存条 擦拭金手指。</span><br><span class="line"></span><br><span class="line">#### 风扇老化</span><br><span class="line"></span><br><span class="line">解决办法: 更换风扇, 或者进BIOS查看，开机后按下DEL键进入BIOS选项，接着进入Power→Hardware monitor，我们会看到有三个选项CPU FAN SPEED；CHASSIS FANSPEED；POWER FAN SPEED，将CPU FAN SPEED项改成IGNORED，CHASSIS FANSPEED项改成N&#x2F;A，POWER FAN SPEED项改成IGNORED。</span><br><span class="line"></span><br><span class="line">#### 显卡驱动问题：</span><br><span class="line"></span><br><span class="line">开机F8进入安全模式 --&gt; 打开设备管理器 --&gt; 禁用独显 --&gt; 重新启动</span><br><span class="line">重启后使用驱动软件(大师、精灵)重新安装显卡驱动，若不行则可能是显卡出现问题，可到维修电修理</span><br><span class="line"></span><br><span class="line">参考: </span><br><span class="line"></span><br><span class="line">[https:&#x2F;&#x2F;blog.csdn.net&#x2F;hhxy_wlzx&#x2F;article&#x2F;details&#x2F;78943294](https:&#x2F;&#x2F;blog.csdn.net&#x2F;hhxy_wlzx&#x2F;article&#x2F;details&#x2F;78943294)</span><br><span class="line"># 游标是什么？</span><br><span class="line"></span><br><span class="line">## 基本信息</span><br><span class="line"></span><br><span class="line">    游标（Cursor）是处理数据的一种方法，为了查看或者处理结果集中的数据，</span><br><span class="line">    游标提供了在结果集中一次一行或者多行前进或向后浏览数据的能力。</span><br><span class="line">    可以把游标当作一个指针，它可以指定结果中的任何位置，然后允许用户对指定位置的数据进行处理。</span><br><span class="line"></span><br><span class="line"># 使用的方法</span><br></pre></td></tr></table></figure><p>定义游标<br>打开游标<br> 循环遍历</p><pre><code>#具体操作</code></pre><p>关闭游标</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"># 代码示例</span><br></pre></td></tr></table></figure><p>CREATE DEFINER=<code>root</code>@<code>%</code> PROCEDURE <code>CarryDown</code>(<br>IN <code>unitId</code> bigint,<br>IN <code>sharding</code> varchar(255))<br>BEGIN<br> DECLARE id bigint;<br> DECLARE subject_code varchar(255);<br> DECLARE begin_balance decimal(16, 2) default 0.00;<br> DECLARE sumDebit decimal(16, 2) default 0.00;<br> DECLARE sumCredit decimal(16, 2) default 0.00;<br> DECLARE done INT DEFAULT false; – 自定义控制游标循环变量,默认false  </p><p> –SQL语句中强制规定游标的定义及其他变量都是在最开始定义的<br> DECLARE summary CURSOR FOR (SELECT s.id, s.subject_code, s.begin_balance </p><pre><code>from z_cashier_summary s WHERE s.unit_id = unitId AND s.year = sharding) ;</code></pre><p>  – 绑定控制变量到游标,游标循环结束自动转true<br> DECLARE CONTINUE HANDLER FOR NOT FOUND SET done = true;</p><p> OPEN summary;   – 打开游标<br> summaryLoop:LOOP   – summaryLoop为循环名</p><pre><code> --将当前游标得到的的变量赋值给自定义变量FETCH summary INTO id, subject_code, begin_balance;  IF done THEN  LEAVE summaryLoop;     --退出循环</code></pre><p> else     </p><pre><code>select ifnull(sum(d.borrow), 0.00), ifnull(sum(d.loan), 0.00)     from z_cashier_data  d     where d.unit_id = unitId and d.abstract_code = subject_code     into sumDebit, sumCredit;update z_cashier_summary s     set s.debit_balance = sumDebit, s.credit_balance = sumCredit     where s.id = id; -- 更新数据END IF;      </code></pre><p> END LOOP;<br> CLOSE summary;   – 关闭游标</p></li></ul><p>END<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">## Unknown column &#39;xxx&#39; in &#39;field list&#39;</span><br><span class="line"></span><br><span class="line">多数是字段名错误，如果检查字段名没有问题 那就顺便检查一下表名吧 &#x2F;哭笑</span><br><span class="line">不知道你否同意，人都有惰性的说法，我这也是很同意的，有很多时候以此为借口，不运动，好吃懒做，直到我听说了一种说法，人的本性，其实和动物的本性差不多 - 生存。</span><br><span class="line"></span><br><span class="line">下面是自己关于生存的一点思考</span><br><span class="line"></span><br><span class="line">### 多吃少动</span><br><span class="line">要生存，那么好吃不动，多吃可以囤积脂肪，脂肪可以抵御寒冷，这是祖先自保的有力手段。也是维持生存的两个最容易，也最有效的办法。</span><br><span class="line"></span><br><span class="line">### 繁衍</span><br><span class="line">说到繁衍，自然想到性，中国传统含蓄的教育让我很长一段时间里不敢提性，甚至谈“性”变色，王小波的书让我重新认识了性，现在已经可以很泰然自若的聊起这件事情，因为他不是见不得人的事，相反的是很平常的事情，往大了说因为有了性才有繁衍，有了繁衍才有文明，才有传承。往小了说性，或是性冲动都是作为一个正常人都因该有的东西，而且是一件让人兴奋的东西。当然除了王小波先生还有一些自己在网上探索努力。</span><br><span class="line"></span><br><span class="line">### 狩猎</span><br><span class="line">狩猎，发展到现如今的社会没有太多的狩猎机会，于是，运动取而代之。</span><br><span class="line"></span><br><span class="line">#### 多巴胺</span><br><span class="line">我总结的这三样东西都有一个共同的特点，那就是多巴胺。</span><br><span class="line">吃东西，性，运动的过程都会产生多巴胺，所以我觉得我的总结不无道理。</span><br><span class="line">数据库报错： The user specified as a definer (xxx@xxx) does not exist</span><br><span class="line"></span><br><span class="line">原因：</span><br><span class="line">视图或存储过程的定义者不存在</span><br><span class="line"></span><br><span class="line">解决办法：</span><br><span class="line">添加该用户或者修改用户为已有用户</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">参考： [https:&#x2F;&#x2F;yunzhu.iteye.com&#x2F;blog&#x2F;1168667](https:&#x2F;&#x2F;yunzhu.iteye.com&#x2F;blog&#x2F;1168667)</span><br><span class="line">有时候看一本书被他的细节打动，一定是因为你在意过这个细节，所以你在阅读到作者写到的这个细节时会觉得很有共鸣，继而产生一种自我认同。所以很多时候我们觉得作者学的文章好，是因为他的细节描写的生动，其实也就是写出了你曾经历过但没有用语言表达过的东西。</span><br><span class="line">### 文件属性</span><br><span class="line">每个文件的属性由左边第一部分的10个字符来确定（如下图）。</span><br><span class="line"></span><br><span class="line">![image](https:&#x2F;&#x2F;7n.w3cschool.cn&#x2F;attachments&#x2F;uploads&#x2F;2014&#x2F;06&#x2F;363003_1227493859FdXT.png)</span><br><span class="line"></span><br><span class="line">从左至右用0-9这些数字来表示。</span><br><span class="line">    </span><br><span class="line">    第0位确定文件类型，第1-3位确定属主（该文件的所有者）拥有该文件的权限。</span><br><span class="line">    </span><br><span class="line">    第4-6位确定属组（所有者的同组用户）拥有该文件的权限，第7-9位确定其他用户拥有该文件的权限。</span><br><span class="line">    其中，第1、4、7位表示读权限，如果用&quot;r&quot;字符表示，则有读权限，如果用&quot;-&quot;字符表示，则没有读权限；</span><br><span class="line">    </span><br><span class="line">    第2、5、8位表示写权限，如果用&quot;w&quot;字符表示，则有写权限，如果用&quot;-&quot;字符表示没有写权限；</span><br><span class="line">    第3、6、9位表示可执行权限，如果用&quot;x&quot;字符表示，则有执行权限，如果用&quot;-&quot;字符表示，则没有执行权限。</span><br><span class="line"></span><br><span class="line">### chmod：更改文件9个属性</span><br><span class="line"></span><br><span class="line">Linux文件属性有两种设置方法，一种是数字，一种是符号。</span><br><span class="line"></span><br><span class="line">Linux文件的基本权限就有九个，分别是owner&#x2F;group&#x2F;others三种身份各有自己的read&#x2F;write&#x2F;execute权限。</span><br><span class="line"></span><br><span class="line">先复习一下刚刚上面提到的数据：文件的权限字符为：『-rwxrwxrwx』， 这九个权限是三个三个一组的！其中，我们可以使用数字来代表各个权限，各权限的分数对照表如下：</span><br><span class="line">    </span><br><span class="line">    r:4</span><br><span class="line">    w:2</span><br><span class="line">    x:1</span><br><span class="line">每种身份(owner&#x2F;group&#x2F;others)各自的三个权限(r&#x2F;w&#x2F;x)分数是需要累加的，例如当权限为： [-rwxrwx---] 分数则是：</span><br><span class="line">    </span><br><span class="line">    owner &#x3D; rwx &#x3D; 4+2+1 &#x3D; 7</span><br><span class="line">    group &#x3D; rwx &#x3D; 4+2+1 &#x3D; 7</span><br><span class="line">    others&#x3D; --- &#x3D; 0+0+0 &#x3D; 0</span><br><span class="line">所以等一下我们设定权限的变更时，该文件的权限数字就是770啦！变更权限的指令chmod的语法是这样的：</span><br><span class="line"></span><br><span class="line">     chmod [-R] xyz 文件或目录</span><br><span class="line">选项与参数：</span><br><span class="line"></span><br><span class="line">xyz : 就是刚刚提到的数字类型的权限属性，为 rwx 属性数值的相加。</span><br><span class="line">-R : 进行递归(recursive)的持续变更，亦即连同此目录下的所有文件都会变更</span><br><span class="line">举例来说，如果要将.bashrc这个文件所有的权限都设定启用，那么命令如下：</span><br><span class="line">    </span><br><span class="line">    [root@www ~]# ls -al .bashrc</span><br><span class="line">    -rw-r--r--  1 root root 395 Jul  4 11:45 .bashrc</span><br><span class="line">    [root@www ~]# chmod 777 .bashrc</span><br><span class="line">    [root@www ~]# ls -al .bashrc</span><br><span class="line">    -rwxrwxrwx  1 root root 395 Jul  4 11:45 .bashrc</span><br><span class="line">    </span><br><span class="line">那如果要将权限变成 -rwxr-xr-- 呢？那么权限的分数就成为 </span><br><span class="line">    </span><br><span class="line">    [4+2+1][4+0+1][4+0+0]&#x3D;754。 </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">[参考：https:&#x2F;&#x2F;www.w3cschool.cn&#x2F;linux&#x2F;](https:&#x2F;&#x2F;www.w3cschool.cn&#x2F;linux&#x2F;)</span><br><span class="line">### 依次点击菜单：</span><br><span class="line"></span><br><span class="line">    build -&gt; Build Artifacts -&gt; Rebuild</span><br><span class="line"></span><br><span class="line">### 等待进度条跑完后</span><br><span class="line">会在项目文件的war包路径：</span><br><span class="line"></span><br><span class="line">    out -&gt; artifacts </span><br><span class="line">生成一个war包</span><br><span class="line"></span><br><span class="line">### 将该war包放到Tomcat的webapps路径下，</span><br><span class="line"></span><br><span class="line">### Tomcat检测到有新的包后会自动重启，</span><br><span class="line"></span><br><span class="line">### 重启成功则服务发布成功。</span><br><span class="line">推荐一个Win10的小程序</span><br><span class="line"></span><br><span class="line">可以使任务栏透明，效果如下：</span><br><span class="line"></span><br><span class="line">![效果图](https:&#x2F;&#x2F;img-blog.csdnimg.cn&#x2F;20190430092546822.png?x-oss-process&#x3D;image&#x2F;watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01yX1poYW5nX19fXw&#x3D;&#x3D;,size_16,color_FFFFFF,t_70)</span><br><span class="line"></span><br><span class="line">### 安装：</span><br><span class="line"></span><br><span class="line">    环境 win10</span><br><span class="line"></span><br><span class="line">### 方式一：在应用商店中下载安装 </span><br><span class="line"> - 打开开始菜单</span><br><span class="line"> - 输入store（或者“商店”）</span><br><span class="line"></span><br><span class="line">![开始菜单](https:&#x2F;&#x2F;img-blog.csdnimg.cn&#x2F;20190430094957616.png?x-oss-process&#x3D;image&#x2F;watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01yX1poYW5nX19fXw&#x3D;&#x3D;,size_16,color_FFFFFF,t_70)</span><br><span class="line"> - 打开商店搜索 translucentTB</span><br><span class="line"> - 选择安装</span><br><span class="line"> - 启动应用</span><br><span class="line"></span><br><span class="line">![商店](https:&#x2F;&#x2F;img-blog.csdnimg.cn&#x2F;20190430092519282.png?x-oss-process&#x3D;image&#x2F;watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01yX1poYW5nX19fXw&#x3D;&#x3D;,size_16,color_FFFFFF,t_70)</span><br><span class="line"></span><br><span class="line">### 方式二、在github上下载安装</span><br><span class="line"></span><br><span class="line"> - 打开[https:&#x2F;&#x2F;github.com&#x2F;TranslucentTB&#x2F;TranslucentTB&#x2F;releases](https:&#x2F;&#x2F;github.com&#x2F;TranslucentTB&#x2F;TranslucentTB&#x2F;releases)</span><br><span class="line"> - 下载下图.exe文件</span><br><span class="line"> - 运行exe文件后一直下一步</span><br><span class="line"> -  右键任务栏的TB图标，选择 regular -&gt; clear </span><br><span class="line">![github](https:&#x2F;&#x2F;img-blog.csdnimg.cn&#x2F;2019043009253863.png?x-oss-process&#x3D;image&#x2F;watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01yX1poYW5nX19fXw&#x3D;&#x3D;,size_16,color_FFFFFF,t_70)</span><br><span class="line"> - 完成</span><br><span class="line"></span><br><span class="line">### justify-content属性</span><br><span class="line"></span><br><span class="line">justify-content属性定义了项目在主轴上的对齐方式。</span><br></pre></td></tr></table></figure><br>.box {<br>  justify-content: flex-start | flex-end | center | space-between | space-around;<br>}<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">![image](http:&#x2F;&#x2F;www.ruanyifeng.com&#x2F;blogimg&#x2F;asset&#x2F;2015&#x2F;bg2015071010.png)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">它可能取5个值，具体对齐方式与轴的方向有关。下面假设主轴为从左到右。</span><br><span class="line"></span><br><span class="line">- flex-start（默认值）：左对齐</span><br><span class="line">- flex-end：右对齐</span><br><span class="line">- center： 居中</span><br><span class="line">- space-between：两端对齐，项目之间的间隔都相等。</span><br><span class="line">- space-around：每个项目两侧的间隔相等。所以，项目之间的间隔比项目与边框的间隔大一倍。</span><br><span class="line">- </span><br><span class="line"></span><br><span class="line">参考：</span><br><span class="line"></span><br><span class="line">&lt;a href&#x3D;&quot;http:&#x2F;&#x2F;www.ruanyifeng.com&#x2F;blog&#x2F;2015&#x2F;07&#x2F;flex-grammar.html&quot; target&#x3D;&quot;_blank&quot;&gt;http:&#x2F;&#x2F;www.ruanyifeng.com&#x2F;blog&#x2F;2015&#x2F;07&#x2F;flex-grammar.html&lt;&#x2F;a&gt;</span><br><span class="line">### 实现makedown中在新页面打开标签</span><br><span class="line"></span><br><span class="line">There is no such feature in markdown, however you can always use HTML inside markdown</span><br><span class="line"></span><br><span class="line">#### 代码如下：</span><br></pre></td></tr></table></figure><br><a href="https://www.google.com"target="_blank"><br>URL说明<br></a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#### 效果如下：</span><br><span class="line"></span><br><span class="line">&lt;a </span><br><span class="line">href&#x3D;&quot;https:&#x2F;&#x2F;www.google.com&quot;</span><br><span class="line">target&#x3D;&quot;_blank&quot;&gt;</span><br><span class="line">URL说明</span><br><span class="line">&lt;&#x2F;a&gt;</span><br><span class="line"></span><br><span class="line">参考:</span><br><span class="line"></span><br><span class="line">&lt;a </span><br><span class="line">href&#x3D;&quot;https:&#x2F;&#x2F;stackoverflow.com&#x2F;questions&#x2F;3492153&#x2F;markdown-open-a-new-window-link&#x2F;5803384&quot;</span><br><span class="line">target&#x3D;&quot;_blank&quot;&gt;</span><br><span class="line">https:&#x2F;&#x2F;stackoverflow.com&#x2F;questions&#x2F;3492153&#x2F;markdown-open-a-new-window-link&#x2F;5803384</span><br><span class="line">&lt;&#x2F;a&gt;</span><br><span class="line">### scp 用于文件传输</span><br><span class="line"></span><br><span class="line">使用方法：</span><br></pre></td></tr></table></figure><br>scp [] source_file target_file – 第一个文件为源文件，第二个参数为目标文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">    </span><br><span class="line">示例：</span><br></pre></td></tr></table></figure><br>scp <a href="mailto:root@zhangnlei.cn">root@zhangnlei.cn</a>:/root/service/blog/nohup.out /home/zhang/log<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">    </span><br><span class="line">以上代码即将 zhangnlei.cn 服务器上的root用户的文件夹下的nohup.out文件拷贝到本地的log文件中</span><br><span class="line"></span><br><span class="line">当然如果将两个参数的位置调换 那么就是将本地的文件上传到服务器中</span><br><span class="line"></span><br><span class="line">    总之是将文件从第一个参数的位置 传输到第二个参数的位置</span><br><span class="line"></span><br><span class="line">常用参数：</span><br></pre></td></tr></table></figure><br>-r 拷贝整个文件夹的内容<br>-P port指定传输使用的端口号<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">参数说明：</span><br></pre></td></tr></table></figure><br>-1： 强制scp命令使用协议ssh1<br>-2： 强制scp命令使用协议ssh2<br>-4： 强制scp命令只使用IPv4寻址<br>-6： 强制scp命令只使用IPv6寻址<br>-B： 使用批处理模式（传输过程中不询问传输口令或短语）<br>-C： 允许压缩。（将-C标志传递给ssh，从而打开压缩功能）<br>-p：保留原文件的修改时间，访问时间和访问权限。<br>-q： 不显示传输进度条。<br>-r： 递归复制整个目录。<br>-v：详细方式显示输出。scp和ssh(1)会显示出整个过程的调试信息。这些信息用于调试连接，验证和配置问题。<br>-c cipher： 以cipher将数据传输进行加密，这个选项将直接传递给ssh。<br>-F ssh_config： 指定一个替代的ssh配置文件，此参数直接传递给ssh。<br>-i identity_file： 从指定文件中读取传输时使用的密钥文件，此参数直接传递给ssh。<br>-l limit： 限定用户所能使用的带宽，以Kbit/s为单位。<br>-o ssh_option： 如果习惯于使用ssh_config(5)中的参数传递方式，<br>-P port：注意是大写的P, port是指定数据传输用到的端口号<br>-S program： 指定加密传输时所使用的程序。此程序必须能够理解ssh(1)的选项。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">参考：</span><br><span class="line"></span><br><span class="line">&lt;a </span><br><span class="line">href&#x3D;&quot;https:&#x2F;&#x2F;www.runoob.com&#x2F;linux&#x2F;linux-comm-scp.html&quot;</span><br><span class="line">target&#x3D;&quot;_blank&quot;&gt;</span><br><span class="line">https:&#x2F;&#x2F;www.runoob.com&#x2F;linux&#x2F;linux-comm-scp.html</span><br><span class="line">&lt;&#x2F;a&gt;</span><br><span class="line">### 使用方法：</span><br></pre></td></tr></table></figure><br>df [参数] [文件]<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">### 示例：</span><br><span class="line"></span><br><span class="line">![image](https:&#x2F;&#x2F;img-blog.csdnimg.cn&#x2F;20190515151503750.png?x-oss-process&#x3D;image&#x2F;watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01yX1poYW5nX19fXw&#x3D;&#x3D;,size_16,color_FFFFFF,t_70)</span><br><span class="line"></span><br><span class="line">### 参数：</span><br><span class="line"></span><br><span class="line">    -h 适合人类观看的数据模式（&#39;8174556&#39;的人类数据显示方式为&#39;7.8G&#39;）</span><br><span class="line">    </span><br><span class="line">    -a 全部文件系统列表</span><br><span class="line">    </span><br><span class="line">    -H 等于“-h”，但是计算式，1K&#x3D;1000，而不是1K&#x3D;1024</span><br><span class="line">    </span><br><span class="line">    -i 显示inode信息</span><br><span class="line">    </span><br><span class="line">    -k 区块为1024字节</span><br><span class="line">    </span><br><span class="line">    -l 只显示本地文件系统</span><br><span class="line">    </span><br><span class="line">    -m 区块为1048576字节</span><br><span class="line">    </span><br><span class="line">    --no-sync 忽略 sync 命令</span><br><span class="line">    </span><br><span class="line">    -P 输出格式为POSIX</span><br><span class="line">    </span><br><span class="line">    --sync 在取得磁盘信息前，先执行sync命令</span><br><span class="line">    </span><br><span class="line">    -T 文件系统类型</span><br><span class="line"></span><br><span class="line">选择参数：</span><br><span class="line">    </span><br><span class="line">    --block-size&#x3D;&lt;区块大小&gt; 指定区块大小</span><br><span class="line">    </span><br><span class="line">    -t&lt;文件系统类型&gt; 只显示选定文件系统的磁盘信息</span><br><span class="line">    </span><br><span class="line">    -x&lt;文件系统类型&gt; 不显示选定文件系统的磁盘信息</span><br><span class="line">    </span><br><span class="line">    --help 显示帮助信息</span><br><span class="line">    </span><br><span class="line">    --version 显示版本信息</span><br><span class="line"></span><br><span class="line">### 用法：</span><br><span class="line">COALESCE(expression_1, expression_2, ...,expression_n)</span><br><span class="line"> </span><br><span class="line">### 解释：</span><br><span class="line">依次参考各参数表达式，遇到非null值即停止并返回该值。如果所有的表达式都是空值，最终将返回一个空值。使用COALESCE在于大部分包含空值的表达式最终将返回空值。</span><br><span class="line"></span><br><span class="line">#### 画外音</span><br><span class="line"></span><br><span class="line">coalesce()函数像是ifnull()的升级版</span><br><span class="line">### 需求：</span><br><span class="line"></span><br><span class="line">点击一个输入框，弹出页面，在页面中填写表格数据，点击保存后关闭弹出页面，并将表格中汇总数据显示到最开始的输入框中。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### layer回调函数的实现思路：</span><br><span class="line"></span><br><span class="line">在当前的DOM对象去找打开的iframe转成DOM对象调用子页面其中的函数</span><br><span class="line"></span><br><span class="line">### 实现</span><br><span class="line"></span><br><span class="line">js代码</span><br></pre></td></tr></table></figure><br>function dateilSubsidyLayer(e) {<br>    var $ids = $(e).prev();<br>    var ids = $ids.val() == “” ? 0 : $ids.val();<br>    layer.open({<br>        type : 2,<br>        area : [ ‘80%’, ‘80%’ ],<br>        shift : 2,//可选动画类型0-6<br>        scrollbar : false,<br>        title : “补助费用明细”,<br>        closeBtn : false,<br>        content : “xxx/subsidy/“+ ids,<br>        btn: [‘确定’,’取消’],<br>        //这里yes:function为设置的第一个按钮的function，后面设置的按钮默认点击关闭<br>        yes:function(index,layero){<br>            //调用弹出iframe的函数 (callbackdata)<br>            var obj = $(layero).find(“iframe”)[0].contentWindow.callbackdata();<br>            //把回显的值赋给需要显示的地方<br>            $(e).val(obj.money);<br>            $ids.val(obj.ids);<br>            //关闭弹出<br>            layer.close(index);<br>        }<br>    });<br>}<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">subsidy页面必须要有的function</span><br></pre></td></tr></table></figure><br>var callbackdata = function () {<br>    var obj = saveSubsidy(); //saveSubsidy()函数由具体业务逻辑确定故省略具体实现<br>    return obj;<br>};<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br></pre></td><td class="code"><pre><span class="line">#### 分类</span><br><span class="line"></span><br><span class="line">|  | 可分享的(shareable) | 不可分享的(unshareable) |</span><br><span class="line">| ------ | ------ | ------ |</span><br><span class="line">| 不变的(static) | &#x2F;usr(软件放置处) | &#x2F;etc(配置文件) |</span><br><span class="line">|  | &#x2F;opt(第三方软件) | &#x2F;boot(开机与核心文件) |</span><br><span class="line">| 可变动的(variable) | &#x2F;var&#x2F;mail(使用者邮件信箱) | &#x2F;var&#x2F;run(程序相关) |</span><br><span class="line">|  | &#x2F;var&#x2F;spool&#x2F;news(新闻组) | &#x2F;var&#x2F;lock(程序相关) |</span><br><span class="line"></span><br><span class="line">#### 详细</span><br><span class="line">![image](https:&#x2F;&#x2F;img-blog.csdnimg.cn&#x2F;2019052017390470.png?x-oss-process&#x3D;image&#x2F;watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L01yX1poYW5nX19fXw&#x3D;&#x3D;,size_16,color_FFFFFF,t_70)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">参考： [http:&#x2F;&#x2F;www.cnblogs.com&#x2F;peida&#x2F;archive&#x2F;2012&#x2F;11&#x2F;21&#x2F;2780075.html](http:&#x2F;&#x2F;www.cnblogs.com&#x2F;peida&#x2F;archive&#x2F;2012&#x2F;11&#x2F;21&#x2F;2780075.html)</span><br><span class="line">一定要把你最宝贵的时间投入到可迁移的技能上。也就是说，在那些始终会用得到的技能上下最多的功夫，比如下面这些内容，可能会让你长期受用。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">不要学习微服务框架，学习演进式架构（Evolutionary Architecture）。</span><br><span class="line"></span><br><span class="line">不要学习新的编程语言，学习代码整洁之道、设计模式、领域驱动设计（DDD）。</span><br><span class="line"></span><br><span class="line">不要学习 LeSS 和规模化敏捷框架（SAFe），学习精益生产原则（Lean manufacturing principles）。</span><br><span class="line"></span><br><span class="line">不要学习 Hystrix，学习容错模式（Fault Tolerance Patterns）。</span><br><span class="line"></span><br><span class="line">不要学习 Docker，学成持续交付。</span><br><span class="line"></span><br><span class="line">不要学习 Angular、React 和 Vue，学习 Web、HTTP 和 REST。</span><br><span class="line"></span><br><span class="line">忘记在哪里看到的了，侵删。</span><br><span class="line">## HTTP请求与响应的过程</span><br><span class="line"></span><br><span class="line">首先在浏览器输入www.163.com(url 统一资源定位符) 通过DNS解析获得IP地址，然后封装一个http请求</span><br><span class="line"></span><br><span class="line">### Http请求的构建</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">| 请求行| 方法 | URL | 版本 ||</span><br><span class="line">|---|----|-|--|-|</span><br><span class="line">| 首部 | key|value|key|value|</span><br><span class="line">|实体|</span><br><span class="line"></span><br><span class="line">http请求包含三部分：请求行、首部、实体</span><br><span class="line"></span><br><span class="line">#### 请求行：</span><br><span class="line">1. 版本为http版本，如1.0， 1.1， 2.0</span><br><span class="line">2. URL：即www.163.com</span><br><span class="line">3. 方法：如get post put delete</span><br><span class="line"></span><br><span class="line">#### 首部：保存重要的字段</span><br><span class="line"></span><br><span class="line">例如：</span><br><span class="line"></span><br><span class="line">- accept-charset 客户端可以接受的字符集</span><br><span class="line">- content-type 正文的格式</span><br><span class="line">- cache-control 控制缓存</span><br><span class="line"></span><br><span class="line">### HTTP请求的发送</span><br><span class="line">HTTP是基于TCP，所以使用面向连接的方式发送请求，通过stream二进制的方式传给对方，到了TCP层，二进制流转成报文段发送给服务器。</span><br><span class="line"></span><br><span class="line">### HTTP返回的构建</span><br><span class="line"></span><br><span class="line">| 状态行| 版本|状态码 | 短语 | |</span><br><span class="line">|---|----|-|--|-|</span><br><span class="line">| 首部 | key|value|key|value|</span><br><span class="line">|实体|</span><br><span class="line">    </span><br><span class="line">#### 状态行</span><br><span class="line">1. 状态码：如200 404</span><br><span class="line">2. 短语：大概的原因</span><br><span class="line"></span><br><span class="line">#### 首部：功能同上</span><br><span class="line">- retry-after 稍后尝试</span><br><span class="line">- content-type 返回类型：HTML，JSON</span><br><span class="line"></span><br><span class="line">## HTTP进化历程</span><br><span class="line"></span><br><span class="line">| |HTTP1.0|HTTP1.1|HTTP2.0|</span><br><span class="line">|--|--|--|--|</span><br><span class="line">|问题|客户端队首阻塞|服务端队首阻塞|</span><br><span class="line">||对于同一个TCP连接，所有请求放到一个队列中，只有前一个请求的响应到了才能发送第二个请求|对于同一个TCP连接可以一次发送多个请求，解决了HTTP1.0的阻塞问题。但是规定服务器要按照接受顺序发送响应，先接受的请求的响应要先发送，那么此时就会出现一个问题，如果前一个响应的处理时间过长生成响应过慢，那么便会阻塞已生成响应的发送|无论是客户端还是服务端都不需要排队，同一个TCP有多个stream有各个stream发送和接收HTTP请求，相互独立，互不阻塞|</span><br><span class="line"></span><br><span class="line">### HTTP2.0的提升性能的优化思路</span><br><span class="line">1. 头压缩：使用索引表的方式，将每次搜药携带的大量key-value在两端建立索引表，对相同的头只发送索引表中的索引</span><br><span class="line">2. 分帧</span><br><span class="line">3. 二进制编码</span><br><span class="line">4. 多路复用技术</span><br><span class="line"></span><br><span class="line">## 基于UDP的QUIC协议 </span><br><span class="line"></span><br><span class="line">（我猜quic是quick快速的缩写）</span><br><span class="line"></span><br><span class="line">Google的QUIC协议</span><br><span class="line"></span><br><span class="line">- 自定义连接机制：源IP，源端口，目的IP，目的端口一个元素发生改变时TCP便会断开连接，重新连接。WiFi或移动网络切换时会导致重连，导致时延。基于UDP的连接不以四元组标识，而是以一个64位的随机数作为ID。</span><br><span class="line">- 自定义重传机制：修复TCP中的采样往返时间RTT不准确的问题</span><br><span class="line">- 无阻塞的多路复用：同HTTP2.0一样，同一条连接可以建立多个stream来发送HTTP请求。由于QUIC是基于UDP的，一个连接上的stream没有依赖，这样假如stream2丢包，需要重传，后面的stream3无需等待就可以发送诶用户。</span><br><span class="line">- 自定义流量控制：TCP流量控制是基于滑动窗口协议，起点是下一个要接受并且ACK的包，及时后面的包到了放在缓存里窗口也不能右移。</span><br><span class="line"></span><br><span class="line">[image](https:&#x2F;&#x2F;static001.geekbang.org&#x2F;resource&#x2F;image&#x2F;a6&#x2F;22&#x2F;a66563b46906e7708cc69a02d43afb22.jpg)</span><br><span class="line"></span><br><span class="line">而QUIC是基于offset，包来之后进入缓存便可应答，且不但在一个连接上控制窗口，还在一个连接的每一个stream控制窗口</span><br><span class="line"></span><br><span class="line">看过很多遍的电影《搏击俱乐部》，男主喜欢做一件事情叫活人献祭（可能翻译的有些问题）。</span><br><span class="line"></span><br><span class="line">晚上来到一个24小时便利店，把店员拖到后门，让他背对跪下，用枪指着脑袋，威胁说要一枪从脑后把他的脸轰烂。</span><br><span class="line"></span><br><span class="line">问他以前的想做什么，店员说想做兽医，又问他为什么没有去做，店员说因为有很多东西要去学。</span><br><span class="line"></span><br><span class="line">男主留下他的驾驶证，说六周后如果没有努力做兽医还会来找他。</span><br><span class="line"></span><br><span class="line">旁边的人问，你为什么这样做？男主说：明天早上，雷蒙（店员）的早餐会比任何人吃的都香。</span><br><span class="line"></span><br><span class="line">-</span><br><span class="line"></span><br><span class="line">看这一段时真的...浑身起鸡皮疙瘩。</span><br><span class="line"></span><br><span class="line">为了目标或者说梦想去努力的时候吃饭很香，做事充满干劲，每一天都会很充实。雷蒙会不会成功不一定，但是他肯定会觉得以后的人生充满希望。</span><br><span class="line"></span><br><span class="line">不是说兽医要比店员更高级，而是每天的生存状态都不一样。</span><br><span class="line"></span><br><span class="line">可能这就是梦想的魅力。</span><br><span class="line"></span><br><span class="line">如果每天都被苟且之事所叨扰，那就停下来想想的梦想。</span><br><span class="line"># Java的内存模型</span><br><span class="line"></span><br><span class="line"> 引子</span><br><span class="line"></span><br><span class="line">操作系统中硬盘存放输数据，CPU处理数据。</span><br><span class="line">由于摩尔定率，CPU的运算速度不断上升，而硬盘的读取速度有限，所以引入了内存机制。</span><br><span class="line">内存机制便是用来协调两者的速度，将CPU需要用到的数据或处理完的数据先存入内存中，然后在进行IO操作。从而一定程度上加快了整体的处理速度。</span><br><span class="line">随着时间推移，CPU的速度又提升了，内存的读写速度夜跟不上了，于是便有了高速缓存机制。</span><br><span class="line">高速缓存的作用和内存是一样的，也是用来协调CPU与内存的读写速度。</span><br><span class="line">后来摩尔定律被打破，interCEO下跪，推出了多核CPU来增加算力。且每个核心的CPU都有一个自己的高速缓存。</span><br><span class="line">此时的高速缓存也出现了一个问题就是，如果主存中的数据在一个高速缓存中被修改，那么如果没有及时的同步到内存中，那么便会出现数据的异常。</span><br><span class="line"></span><br><span class="line">说起Java的内存模型，和操作系统的这个机制很相像。</span><br><span class="line"></span><br><span class="line">## Java的内存模型分为线程私有，线程共享空间。</span><br><span class="line">线程私有包含 虚拟机栈、本地方法栈、程序计数器。</span><br><span class="line">线程共享包含方法区、堆。</span><br><span class="line"></span><br><span class="line">### 线程私有</span><br><span class="line"></span><br><span class="line">#### 虚拟机栈 ：</span><br><span class="line">存储局部变量表，操作数，动态链接，方法出口。</span><br><span class="line"></span><br><span class="line">#### 本地方法栈：</span><br><span class="line">与虚拟机栈相似，为本地方法服务</span><br><span class="line"></span><br><span class="line">#### 程序计数器：</span><br><span class="line">存放下一条要执行的指令的地址。</span><br><span class="line"></span><br><span class="line">### 线程共享</span><br><span class="line"></span><br><span class="line">#### 方法区：</span><br><span class="line">存放加载的类信息，常亮，静态变量。</span><br><span class="line"></span><br><span class="line">#### 堆：</span><br><span class="line">存放对象实例，是Java虚拟机中占用内存最大的一块 。</span><br><span class="line"></span><br><span class="line"># ARTS计划</span><br><span class="line"></span><br><span class="line">&#96;张念磊 2020&#x2F;1&#x2F;16 &#96;</span><br><span class="line"></span><br><span class="line">响应左耳听风专栏号召，本人愿每周完成一个ARTS：</span><br><span class="line"></span><br><span class="line">&gt; Algorithm：每周至少做一道LeetCode的算法题，保持训练和学习。</span><br><span class="line"></span><br><span class="line">&gt; Review：每周阅读并点评一篇英文的技术文章，主要是为了学习英文。</span><br><span class="line"></span><br><span class="line">&gt; Tip：学习至少一个技术技巧，总结和归纳日常生活中遇到的知识点。</span><br><span class="line"></span><br><span class="line">&gt; Share：分享一篇有观点和思考的技术文章，适当输出以获得反馈。</span><br><span class="line"></span><br><span class="line">2020年第三周开始</span><br><span class="line"></span><br><span class="line">![正在加载中...](http:&#x2F;&#x2F;www.sinaimg.cn&#x2F;large&#x2F;006dPlPxgy1gayem08492j30wa0tqn0b.jpg)</span><br><span class="line"></span><br><span class="line">详情链接：[https:&#x2F;&#x2F;time.geekbang.org&#x2F;...](https:&#x2F;&#x2F;time.geekbang.org&#x2F;column&#x2F;article&#x2F;85839)</span><br><span class="line"></span><br><span class="line">[TOC]</span><br><span class="line"></span><br><span class="line">## 1. 处理问题的思路</span><br><span class="line"></span><br><span class="line">1. 出问题，&#96;看日志&#96;</span><br><span class="line"></span><br><span class="line">2. &#96;分析&#96;具体有什么错误</span><br><span class="line"></span><br><span class="line">3. 针对错误&#96;解决问题&#96;</span><br><span class="line"></span><br><span class="line">## 2. 具体步骤</span><br><span class="line"></span><br><span class="line">&#96;查看日志&#96;</span><br><span class="line"></span><br><span class="line">​&#96;&#96;&#96;shell</span><br><span class="line">cat &#x2F;var&#x2F;log&#x2F;mysqld.log</span><br></pre></td></tr></table></figure></p><p>或者使用less，tail 命令，根据具体场景选择。<br><code>warning和note不用管,直接看error</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">2018-08-21T12:41:21.480445Z 0 [ERROR] Can’t start server: Bind on TCP/IP port: Address already in use</span><br><span class="line">2018-08-21T12:41:21.480449Z 0 [ERROR] Do you already have another mysqld server running on port: 3306</span><br></pre></td></tr></table></figure><p>意思是3306端口占用</p><p>那么就<code>查看哪些应用占用了端口</code>，是不是服务已经启动，或者其他服务占用端口</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lsof -i:3306</span><br></pre></td></tr></table></figure><p>或者</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -anp|grep 3306</span><br></pre></td></tr></table></figure><p>根据自己的需求（不是生产环境可以随意玩）可以<code>直接kill该进程</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kill -9 xxx</span><br></pre></td></tr></table></figure><p>然后<code>重启服务</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service mysqld restart</span><br></pre></td></tr></table></figure><h2 id="3-可能的问题"><a href="#3-可能的问题" class="headerlink" title="3. 可能的问题"></a>3. 可能的问题</h2><p>例子1：</p><p><code>启动时报错</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Redirecting to /bin/systemctl start mysqld.service</span><br><span class="line">Job for mysqld.service failed because the control process exited with error code. See "systemctl status mysqld.service" and "journalctl -xe" for details.</span><br></pre></td></tr></table></figure><p>Job for mysqld.service failed，MySQL服务启动失败。</p><p>可能的原因是是：</p><ol><li>端口占用</li><li>配置文件有错误（可能刚改过配置文件）</li></ol><p>例子2：</p><p><code>连接时报错：</code></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ERROR 2002 (HY000): Can't connect to local MySQL server through socket '/var/lib/mysql/mysql.sock' (2)</span><br></pre></td></tr></table></figure><p>连接不到，可能的原因：</p><ol><li>一般是mysql没有启动或者启动失败</li><li>如果服务已启动，可参考 <a href="https://www.2cto.com/database/201504/387956.html" target="_blank" rel="noopener">https://www.2cto.com/databa…</a></li></ol><h2 id="4-参考"><a href="#4-参考" class="headerlink" title="4. 参考"></a>4. 参考</h2><p><a href="https://blog.csdn.net/qq_39163430/article/details/81941313" target="_blank" rel="noopener">https://blog.csdn.net/qq_391…</a></p><p><a href="https://www.runoob.com/w3cnote/linux-check-port-usage.html" target="_blank" rel="noopener">https://www.runoob.com/w3…</a></p><h1 id="Linux起源"><a href="#Linux起源" class="headerlink" title="Linux起源"></a>Linux起源</h1><h2 id="操作系统出现时间线："><a href="#操作系统出现时间线：" class="headerlink" title="操作系统出现时间线："></a>操作系统出现时间线：</h2><p>Unix1970年诞生 ，71年用C语言重写 </p><p>Apple II 诞生于1976年</p><p>window诞生于1985年</p><p>Linux诞生于1991年，由大学生Linus Torvalds和后来的众多爱好者共同开发完成。</p><p>想必大家看了这个时间线应该能想明白为啥Linux要出现并且开源吧。因为前面三个都贼贵。</p><h2 id="为什么是企鹅logo"><a href="#为什么是企鹅logo" class="headerlink" title="为什么是企鹅logo"></a>为什么是企鹅logo</h2><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghdepjo079j30690693yq.jpg" alt="linux-logo"></p><p>因为企鹅是极地动物，极地（南极北极）又不属于任何一个国家，所以代表Linux不属于任何商业公司，是一个开源的东西，所有人都可以免费试用。</p><h2 id="开源协议"><a href="#开源协议" class="headerlink" title="开源协议"></a>开源协议</h2><p>Linux 最大的优势当属它的开源属性。Linux 是一款基于 <a href="https://www.gnu.org/licenses/licenses.html" target="_blank" rel="noopener">GNU 通用公共许可证（GPL）</a>发布的操作系统。这意味着，所有人都能运行、研究、分享和修改这个软件。经过修改后的代码还能<a href="https://en.wikipedia.org/wiki/GNU_General_Public_License#Terms_and_conditions" target="_blank" rel="noopener">重新分发，甚至出售</a>，但必须基于同一个许可证。这一点与传统操作系统（如 Unix 和 Windows）截然不同，因为传统操作系统都是锁定供应商、以原样交付且无法修改的专有系统。</p><p><em>注：在谈到 Linux 时，人们对其含义的理解常有不同。特此声明，我们这里所谈的，是 Linux 内核及其捆绑的工具、应用和服务。这些要素共同构成了这个功能强大的操作系统，大多数人称之为“Linux”。<a href="https://www.fsf.org/" target="_blank" rel="noopener">自由软件基金会</a>则将其称为“<a href="https://www.gnu.org/gnu/linux-and-gnu.en.html" target="_blank" rel="noopener">GNU/Linux</a>”，因为其中的部分工具、应用和服务是 GNU 系统的组件。这些组件已与 Linux 内核捆绑，所以我们所熟知的 Linux 所指的不仅仅是 Linux 内核本身。</em></p><p><code>Redhat</code>为什么是一家收费的商业公司？</p><p>通过出售组装了Linux内核和自研软件服务方式实现收费。</p><h1 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h1><ol><li>Linux是区分大小写的</li><li>Linux 中的东西都是文件形式保存，包括硬件</li><li>Linux没有扩展名这个概念<ol><li>Windows早起的8.3规则 文件名不超过8位，点后的格式不超过3位，现已废弃改规则</li><li>Linux不考扩展名区分文件类型<ol><li>压缩包：.gz/.tar/.bz/.tar.bz2/.tgz</li><li>二进制软件包：.rpm</li><li>网页文件：.html/.php</li><li>脚本文件：.sh</li><li>配置文件：.conf</li></ol></li><li>Linux所有的设备必须挂载之后才能使用</li></ol></li></ol><h1 id="服务器管理和维护建议"><a href="#服务器管理和维护建议" class="headerlink" title="服务器管理和维护建议"></a>服务器管理和维护建议</h1><ol><li><p>Linux各个目录的作用</p><ul><li>bin</li><li>boot</li><li>etc</li><li>home </li><li>lib</li><li>lost+found</li><li>media 挂载多媒体服务</li><li>mnt U盘</li><li>misc </li><li>opt</li><li>usr/local 把第三方软件安装的位置</li><li>proc 虚拟文件目录 </li><li>sys 保存在内存中，</li><li>root</li><li>srv</li><li>tmp</li><li>usr</li><li>var</li></ul></li><li>不允许关机只允许重启</li><li>重启时关闭服务</li><li>不要再服务器高峰运行高负载命令</li><li>配置防火墙时不要把自己踢出服务器</li><li>密码规范 定期更新</li><li>合理分配权限</li><li>定期备份重要数据和日志 备份的原则就是“不要把鸡蛋放在一个篮子里”</li></ol><h1 id="Linux常用命令"><a href="#Linux常用命令" class="headerlink" title="Linux常用命令"></a>Linux常用命令</h1><p>本文主要以学习ls命令为例讲解Linux命令的学习方法</p><h3 id="命令格式"><a href="#命令格式" class="headerlink" title="命令格式"></a>命令格式</h3><p>命令格式：命令 【-选项】【参数】</p><p>例如：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -la /etc</span><br></pre></td></tr></table></figure><p>说明：</p><pre><code>1）个别命令不使用此格式2）当有多个选项时，可以写在一起3）简化选项和完整选项        -a 等于 --all</code></pre><h4 id="如何学习一个命令："><a href="#如何学习一个命令：" class="headerlink" title="如何学习一个命令："></a>如何学习一个命令：</h4><p>从以下几个方面：</p><p>命令名称：ls</p><p>命令英文原意：list</p><p>命令所在路径：/bin/ls</p><p>执行权限：所有的用户</p><p>功能描述：显示目录文件</p><p>语法：ls 选项[-ald] [文件或目录]</p><pre><code>-a 显示所有的文件，包含隐藏文件 all-l 显示详细信息 long-d 查看目录属性 </code></pre><h4 id="补充：1、隐藏文件"><a href="#补充：1、隐藏文件" class="headerlink" title="补充：1、隐藏文件"></a>补充：1、隐藏文件</h4><p>什么是Linux的隐藏文件？</p><blockquote><p>Linux隐藏文件：使用ls命令不显示的文件 需要使用ls -a 命令显示，Linux中前缀为点（.）的文件就是隐藏文件，比如.bash_profile ，.cshrc</p></blockquote><p>如何隐藏：想隐藏一个文件，将文件改名，在最前面添加.</p><p>引用计数 | 所有者 | 所属组 | 文件的大小 | 文件最后修改的时间 | 文件名</p><h4 id="补充：2、解释使用ls-l查看到的文件信息"><a href="#补充：2、解释使用ls-l查看到的文件信息" class="headerlink" title="补充：2、解释使用ls -l查看到的文件信息"></a>补充：2、解释使用ls -l查看到的文件信息</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@VM_81_142_centos ~]# ls -l</span><br><span class="line">总用量 16</span><br><span class="line">drwxr-xr-x 2 root root 4096 4月  25 2019 learningLinux</span><br><span class="line">drwxr-xr-x 2 root root 4096 9月   3 2018 package</span><br><span class="line">drwxr-xr-x 4 root root 4096 10月 23 2018 service</span><br><span class="line">drwxr-xr-x 2 root root 4096 12月 28 10:54 shell-file</span><br></pre></td></tr></table></figure><p> 所有者只有一个，所属组只能有一个，剩下的全都叫其他人。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">drwxr-xr-x</span><br></pre></td></tr></table></figure><p>第一位</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">d 表示目录</span><br><span class="line">l 表示软连接</span><br><span class="line">- 表示文件</span><br></pre></td></tr></table></figure><p>剩余九位表示每三位分别表示【 所有者 | 所属组 | 其他人】的权限</p><p>rwx r-x r-x</p><p>其中</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">r 读取权限</span><br><span class="line">w 写权限</span><br><span class="line">x 执行权限</span><br></pre></td></tr></table></figure><h1 id="目录处理命令"><a href="#目录处理命令" class="headerlink" title="目录处理命令"></a>目录处理命令</h1><h4 id="mkdir"><a href="#mkdir" class="headerlink" title="mkdir"></a>mkdir</h4><p>英文名称：make directories</p><p>命令所在的路径：/bin/mkdir</p><p>执行的权限：所有用户</p><p>语法：mkdir -p [目录名]</p><p>功能描述：创建新的目录</p><pre><code>-p递归的创建</code></pre><p>范例：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p /tmp/japan/boduo</span><br></pre></td></tr></table></figure><h4 id="cd"><a href="#cd" class="headerlink" title="cd"></a>cd</h4><p>英文原意：change directory</p><p>命令所在路径：shell内置命令</p><p>执行权限：所有用户</p><p>功能：功能切换目录</p><p>范例：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd /tmp/Japan/boduo # 进入文件夹</span><br><span class="line">cd .. # 返回上级</span><br></pre></td></tr></table></figure><h4 id="rmdir"><a href="#rmdir" class="headerlink" title="rmdir"></a>rmdir</h4><p>命令英文：remove empty directories</p><p>命令所在的路径：/bin/rmdir</p><p>执行的权限：所有用户</p><p>功能描述： 删除空目录</p><p>语法：rmdir [目录名]</p><p>范例：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rmdir /tmp/japan/boduo</span><br></pre></td></tr></table></figure><h4 id="cp"><a href="#cp" class="headerlink" title="cp"></a>cp</h4><p>命令英文 copy</p><p>命令所在的路径：/bin/cp</p><p>执行的权限：所有用户</p><p>语法：cp -rp [元文件或目录] [目标目录]</p><pre><code>-r 复制目录-p 保留文件属性</code></pre><p>功能描述：复制文件或目录</p><p>可以同时复制多个目录</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp cangjing longze xiaoze /tmp/Japan # 复制三个文件到文件夹</span><br></pre></td></tr></table></figure><p>可以复制到同时改名</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp -r cangjing /tmp/Japan/canglaoshi</span><br></pre></td></tr></table></figure><h4 id="mv"><a href="#mv" class="headerlink" title="mv"></a>mv</h4><p>英文原意：move</p><p>命令所在路径：/bin/mv</p><p>执行权限：所有用户</p><p>语法：mv [源文件或目录] [目标目录]</p><p>功能描述：剪切文件、改名</p><h4 id="rm"><a href="#rm" class="headerlink" title="rm"></a>rm</h4><p>英文原意：remove</p><p>命令所在的路径：/bin/rm</p><p>执行权限：所有用户</p><p>语法：rm -rf [文件或目录]</p><pre><code>-r 删除目录-f 强制删除</code></pre><p>功能描述：删除文件</p><h1 id="文件处理命令"><a href="#文件处理命令" class="headerlink" title="文件处理命令"></a>文件处理命令</h1><p>@auther <code>张念磊</code></p><p>@date 2020/1/29</p><h4 id="touch"><a href="#touch" class="headerlink" title="touch"></a>touch</h4><p>命令所在路径：/bin/touch</p><p>执行权限：所有用户</p><p>语法：touch [filename]</p><p>功能描述：创建空文件</p><p>范例：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch Japanlove.list</span><br></pre></td></tr></table></figure><h4 id="cat"><a href="#cat" class="headerlink" title="cat"></a>cat</h4><p>语法：cat [filename]</p><p>功能描述：打印文件内容</p><p>范例：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /tmp/boduo</span><br></pre></td></tr></table></figure><p>带有行号的显示：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat -n /tmp/boduo</span><br></pre></td></tr></table></figure><h4 id="tac"><a href="#tac" class="headerlink" title="tac"></a>tac</h4><p>语法：tac [filename]</p><p>功能描述：倒序打印文件内容</p><p>范例：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tac -n /tmp/boduo</span><br></pre></td></tr></table></figure><h4 id="more"><a href="#more" class="headerlink" title="more"></a>more</h4><p>功能描述：分批次查看文件</p><p>语法：more [filename]</p><p>范例：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">more /tmp/boduo</span><br></pre></td></tr></table></figure><p>功能键：</p><pre><code>空格 - 翻页enter - 下一行</code></pre><h4 id="less"><a href="#less" class="headerlink" title="less"></a>less</h4><p>功能简述：功能类似more命令，比more命令多两个功能，上翻页和搜索</p><p>语法：less /tmp/boduo</p><p>参数：</p><pre><code>-m 显示百分比-N 显示行号</code></pre><p>功能键：</p><pre><code>f：下一页b：前一页/关键词 ：搜索关键词 ？关键词：向前搜索关键词    n：显示匹配的下一个    N：显示匹配的上一个        </code></pre><h4 id="head-n"><a href="#head-n" class="headerlink" title="head -n"></a>head -n</h4><p>功能描述：查看文件头部(默认10行)</p><p>语法：head /etc/cangjing</p><p>参数：</p><pre><code>-n 8 查看前8行</code></pre><p>示例：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">head -n /etc/cangjing</span><br></pre></td></tr></table></figure><h4 id="tail"><a href="#tail" class="headerlink" title="tail"></a>tail</h4><p>功能描述：查看文件尾部（默认10行）</p><p>语法：tail /etc/cangjing</p><p>参数：</p><pre><code>-f 动态显示</code></pre><p>示例：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tail -f cangjing</span><br></pre></td></tr></table></figure><p><a href="http://www.zhangnlei.cn/article/54" target="_blank" rel="noopener">http://www.zhangnlei.cn/article/54</a></p><h1 id="LeetCode看到一个小技巧"><a href="#LeetCode看到一个小技巧" class="headerlink" title="LeetCode看到一个小技巧"></a>LeetCode看到一个小技巧</h1><p>很有趣，记录一下。</p><p>算法题中困难的地方就是面对复杂的情况，找出一个公共的方法</p><p>以下是一个题解中的代码片段：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">functionName</span> <span class="params">(<span class="keyword">int</span>[] nums1, <span class="keyword">int</span>[] nums2)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n1 = nums1.lenght;</span><br><span class="line">    <span class="keyword">int</span> n2 = nums2.lenght;</span><br><span class="line">    <span class="keyword">if</span> (n1 &gt; n2)&#123;</span><br><span class="line">        functionName(nums2, nums1);</span><br><span class="line">    &#125;</span><br><span class="line">    ....</span><br><span class="line">    <span class="comment">// 算法代码</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>巧妙，优雅，有意思。</p><h1 id="firewall使用指南"><a href="#firewall使用指南" class="headerlink" title="firewall使用指南"></a>firewall使用指南</h1><p>@auther <code>张念磊</code><br>@date 2020/2/9</p><h2 id="firewall是什么"><a href="#firewall是什么" class="headerlink" title="firewall是什么?"></a>firewall是什么?</h2><p>Centos7 默认的防火墙是 firewall，替代了以前的 iptables</p><p>2、firewall 使用更加方便、功能也更加强大一些</p><p>3、firewalld 服务引入了一个信任级别的概念来管理与之相关联的连接与接口。它支持 ipv4 与 ipv6，并支持网桥，采用 firewall-cmd (command) 或 firewall-config (gui) 来动态的管理 kernel netfilter 的临时或永久的接口规则，并实时生效而无需重启服务。</p><h2 id="如何安装？"><a href="#如何安装？" class="headerlink" title="如何安装？"></a>如何安装？</h2><p>1）像使用 iptables 一样，firewall 同样需要安装</p><p>2）需要注意的是某些系统已经自带了 firewal l的，如果查看版本没有找到，则可以进行 yum安装</p><p>3）安装指令： yum install firewalld</p><h2 id="如何使用？"><a href="#如何使用？" class="headerlink" title="如何使用？"></a>如何使用？</h2><h3 id="示例开启80端口"><a href="#示例开启80端口" class="headerlink" title="示例开启80端口"></a>示例开启80端口</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --zone=public --add-port=80/tcp --permanent</span><br></pre></td></tr></table></figure><h3 id="重新启动防火墙"><a href="#重新启动防火墙" class="headerlink" title="重新启动防火墙"></a>重新启动防火墙</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --reload</span><br></pre></td></tr></table></figure><h3 id="参数说明："><a href="#参数说明：" class="headerlink" title="参数说明："></a>参数说明：</h3><p>–zone 作用域</p><p>–add-port=8080/tcp 添加端口，格式为：端口/通讯协议</p><p>–permanent #永久生效，没有此参数重启后失效</p><h3 id="在指定区域开启某个范围的端口号"><a href="#在指定区域开启某个范围的端口号" class="headerlink" title="在指定区域开启某个范围的端口号"></a>在指定区域开启某个范围的端口号</h3><p>(如18881~65534，命令方式)</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --zone=public --add-port=18881:65534/tcp --permanent</span><br></pre></td></tr></table></figure><h2 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h2><table><thead><tr><th>参数</th><th>作用</th></tr></thead><tbody><tr><td>–version</td><td>查看版本</td></tr><tr><td>–get-active-zones</td><td>查看区域信息</td></tr><tr><td>–state</td><td>查看防火墙状态</td></tr><tr><td>–get-default-zone</td><td>查询默认的区域名称</td></tr><tr><td>–set-default-zone=&lt;区域名称&gt;</td><td>设置默认的区域，使其永久生效</td></tr><tr><td>–get-zones</td><td>显示可用的区域</td></tr><tr><td>–get-services</td><td>显示预先定义的服务</td></tr><tr><td>–get-active-zones</td><td>显示当前正在使用的区域与网卡名称</td></tr><tr><td>–add-source=</td><td>将源自此IP或子网的流量导向指定的区域</td></tr><tr><td>–remove-source=</td><td>不再将源自此IP或子网的流量导向某个指定区域</td></tr><tr><td>–add-interface=&lt;网卡名称&gt;</td><td>将源自该网卡的所有流量都导向某个指定区域</td></tr><tr><td>–change-interface=&lt;网卡名称&gt;</td><td>将某个网卡与区域进行关联</td></tr><tr><td>–list-all</td><td>显示当前区域的网卡配置参数、资源、端口以及服务等信息</td></tr><tr><td>–list-all-zones</td><td>显示所有区域的网卡配置参数、资源、端口以及服务等信息</td></tr><tr><td>–add-service=&lt;服务名&gt;</td><td>设置默认区域允许该服务的流量</td></tr><tr><td>–add-port=&lt;端口号/协议&gt;</td><td>设置默认区域允许该端口的流量</td></tr><tr><td>–remove-service=&lt;服务名&gt;</td><td>设置默认区域不再允许该服务的流量</td></tr><tr><td>–remove-port=&lt;端口号/协议&gt;</td><td>设置默认区域不再允许该端口的流量</td></tr><tr><td>–reload</td><td>让“永久生效”的配置规则立即生效，并覆盖当前的配置规则</td></tr><tr><td>–panic-on</td><td>开启应急状况模式</td></tr><tr><td>–panic-off</td><td>关闭应急状况模式</td></tr></tbody></table><h2 id="其他命令"><a href="#其他命令" class="headerlink" title="其他命令"></a>其他命令</h2><table><thead><tr><th>命令</th><th>解释</th></tr></thead><tbody><tr><td>firewall-cmd –zone=public –list-all</td><td>查看公开区域的信息</td></tr><tr><td>Firewall-cmd –list-all-zone</td><td>查看所有区域的信息</td></tr><tr><td>firewall-cmd –zone=public –list-ports</td><td>查看指定区域所有开启的端口号</td></tr><tr><td>systemctl start firewalld</td><td>开启防火墙</td></tr><tr><td>systemctl stop firewalld</td><td>关闭防火墙</td></tr><tr><td>systemctl enable firewalld</td><td>设置开机启动</td></tr><tr><td>sytemctl disable firewalld</td><td>停止并禁用开机启动</td></tr><tr><td>firewall-cmd –reload</td><td>重启防火墙</td></tr><tr><td>/etc/firewalld</td><td>配置文件的路径</td></tr></tbody></table><h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p><a href="https://blog.csdn.net/u014079773/article/details/79745819" target="_blank" rel="noopener">https://blog.csdn.net/u…</a></p><p><a href="https://blog.csdn.net/wangmx1993328/article/details/80738012" target="_blank" rel="noopener">https://blog.csdn.net/w…</a></p><h1 id="后端-Git学习分享"><a href="#后端-Git学习分享" class="headerlink" title="后端 - Git学习分享"></a>后端 - Git学习分享</h1><p>@auther <code>张念磊</code><br>@date 2020/2/17</p><h2 id="一个学习git的网站"><a href="#一个学习git的网站" class="headerlink" title="一个学习git的网站"></a>一个学习git的网站</h2><p><a href="https://learngitbranching.js.org/" target="_blank" rel="noopener">https://learngitbranching.js.org/</a></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 基础</span></span><br><span class="line">git checkout -b hotfix # 新建一个分支</span><br><span class="line"></span><br><span class="line">git checkout C2 # 分离head</span><br><span class="line">git branch -f master C2 # 将分支指向提交C2</span><br><span class="line">git branch -f master HEAD^ # 将master指向HEAD的上一个节点</span><br><span class="line">git branch -f master HEAD~3 # 将master指向HEAD的前面第三个节点</span><br><span class="line">git reset Head^ # 撤销一次本地提交</span><br><span class="line">git revert HEAD^ # 撤销一次远程提交</span><br><span class="line"></span><br><span class="line">git rebase master # 改变代码提交的顺序</span><br><span class="line">git cherry-pick C2 C3 # 将C2 C3次提交添加到当前分支 git cherry-pick 'commit id'  # 复制一个特定的提交到当前的分支</span><br><span class="line">git rebase -i HEAD~4 # 交互式rebase最近的4次提交</span><br></pre></td></tr></table></figure><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghdepgb27zj31gz0u078g.jpg" alt="image-20200218102321108"></p><p>示例 ： 把分支以图像的方式展现给用户</p><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghdepjawbaj30ql0fggn3.jpg" alt="image-20200218220559729"></p><h3 id="通关截图"><a href="#通关截图" class="headerlink" title="通关截图"></a>通关截图</h3><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghdephxm5lj30yq0rtmzv.jpg" alt="image-20200218225905225"></p><p>主要介绍的两个命令 rebase cherry-pick </p><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghdepkok5jj30q00pj0um.jpg" alt="image-20200327160103150"></p><h2 id="配置别名"><a href="#配置别名" class="headerlink" title="配置别名"></a>配置别名</h2><p>有没有经常敲错命令？比如<code>git status</code></p><p>如果敲<code>git st</code>就表示<code>git status</code>那就简单多了，当然这种偷懒的办法我们是极力赞成的。</p><p>我们只需要敲一行命令，告诉Git，以后<code>st</code>就表示<code>status</code>：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global alias.st status</span><br></pre></td></tr></table></figure><p>好了，现在敲<code>git st</code>看看效果。</p><p>当然还有别的命令可以简写，很多人都用<code>co</code>表示<code>checkout</code>，<code>ci</code>表示<code>commit</code>，<code>br</code>表示<code>branch</code>：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global alias.co checkout</span><br><span class="line">$ git config --global alias.ci commit</span><br><span class="line">$ git config --global alias.br branch</span><br></pre></td></tr></table></figure><p>提交就可以简写成：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git ci -m &quot;bala bala bala...&quot;</span><br></pre></td></tr></table></figure><p><code>--global</code>参数是全局参数，也就是这些命令在这台电脑的所有Git仓库下都有用。</p><p><code>git log</code></p><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghdepitow3j317w0u0dke.jpg" alt="image-20200327154624267"></p><p>甚至还有人丧心病狂地把<code>lg</code>配置成了：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global alias.lg &quot;log --color --graph --pretty&#x3D;format:&#39;%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset&#39; --abbrev-commit&quot;</span><br></pre></td></tr></table></figure><p>来看看<code>git lg</code>的效果：</p><p><img src="https://tva1.sinaimg.cn/large/00831rSTgy1gd8j6l772pj317w0u015d.jpg" alt="image-20200327154509668" style="zoom: 50%;" /></p><h3 id="代码展示"><a href="#代码展示" class="headerlink" title="代码展示"></a>代码展示</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">watchScroll() &#123;</span><br><span class="line">  <span class="keyword">this</span>.$nextTick(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> el = <span class="keyword">this</span>.$refs[<span class="string">"discussInfoBox"</span>];</span><br><span class="line">    <span class="keyword">const</span> offsetHeight = el.offsetHeight;</span><br><span class="line">    el.onscroll = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> scrollTop = el.scrollTop;</span><br><span class="line">      <span class="keyword">const</span> scrollHeight = el.scrollHeight;</span><br><span class="line">      <span class="keyword">if</span> (offsetHeight + scrollTop - scrollHeight &gt;= <span class="number">-1</span>) &#123;</span><br><span class="line">        <span class="comment">// 需要执行的代码</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"get more info "</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h3 id="使用说明"><a href="#使用说明" class="headerlink" title="使用说明"></a>使用说明</h3><ol><li><p>第三行中的<code>discussInfoBox</code>为要监听的div的ID</p></li><li><p>在第十行编写当滚动条滚动到最下方时需要调用的函数</p></li><li><p>在需要的地方调用该函数。例如created方法或其他监听事件中<br>阅读本文需要大约3分钟</p></li></ol><h1 id="为什么要使用GitHub-Page搭建博客？"><a href="#为什么要使用GitHub-Page搭建博客？" class="headerlink" title="为什么要使用GitHub Page搭建博客？"></a>为什么要使用GitHub Page搭建博客？</h1><p>关键词：<code>Hexo</code> 、<code>GitHub Page</code>、<code>Typora</code>、<code>Blog</code></p><p>对于我的个人博客，我一直没有停下折腾的脚步，最早的博客是大二时搭在腾讯云学生服务器上，后面也尝试了CSDN，cnblog，简书，掘金等博客平台，下面是我做的一个简单地分析对比：</p><h2 id="博客平台简分析对比"><a href="#博客平台简分析对比" class="headerlink" title="博客平台简分析对比"></a>博客平台简分析对比</h2><ol><li><p>几大平台中<code>CSDN</code>的SEO做的最好，访问量最多的能有7000+ <a href="https://blog.csdn.net/Mr_Zhang____" target="_blank" rel="noopener">https://blog.csdn.net/Mr_Zhang..</a></p></li><li><p>在博客平台发布文章需要审核，审核时长不定，且有一定的几率会不过审，自己搭建的博客则无需审核机制。</p></li><li>自己搭的博客是发布在的自己的腾讯云云服务器上的，网址： <a href="zhangnlei.cn">zhangnlei.cn</a>。博客服务需要自己发布，云服务器需要定期维护，对个人来说是需要不小的时间成本和金钱投入。（我的博客服务是GitHub上找的一个开源项目，删删改改，为自己所用）</li><li>因为网页的编辑器不是很稳点，我写博客一般都是先在本地写好Markdown，然后在贴到博客的编辑器中，再添加标签、分类等，最后再发布。需要很多重复工作。</li></ol><p>综上：自己的服务器有一定的服务维护成本，博客平台编辑体验不佳、自由度不高。</p><p>所以决定尝试使用<code>GitHub Page</code>+<code>Hexo</code>搭建了自己的博客，优点有以下：</p><h2 id="使用GitHub-Hexo搭建博客的优点"><a href="#使用GitHub-Hexo搭建博客的优点" class="headerlink" title="使用GitHub+Hexo搭建博客的优点"></a>使用GitHub+Hexo搭建博客的优点</h2><ol><li>无需维护服务器，服务是挂载在github的服务器上，由github维护（现由微软收购），维护成本几乎为0，且足够稳定。</li><li>自由度高，发布的内容随心而定，无需受平台的限制。</li><li>编辑体验好，无需反复搬运文本，打标签等，搭配软件Typora在本地编写MarkDown，博客编写完后一行命令一秒发布，契合程序员的操作体验。</li></ol><p>当然也有缺点：对非开发者来说需要一定的门槛，可能连GitHub是什么都不知道。</p><p>好下面简单介绍一下我使用到的工具和服务：</p><h2 id="使用到的工具和服务"><a href="#使用到的工具和服务" class="headerlink" title="使用到的工具和服务"></a>使用到的工具和服务</h2><ol><li><p>Hexo是一个非常成熟的博客框架，可以根据用户编辑的Markdown文件生成静态的htnl文件。当然用户可以选择自己喜欢的主题插件安装，以生成优美博客界面。</p></li><li><p>GitHub提供了一个GitHub Page的功能，每个用户都可以有一个属于自己域名的静态页面。</p></li><li><p>Typora软件，本地编写md文件，实时编写实时渲染，使用体验极佳。</p></li></ol><p>于是使用Hexo + GitHub Page便可搭建一个免费的个人博客，搭配Typora在本地编写MarkDown，舒适度不要太高。</p><p>有了上面的工具做基础，实现起来就很简单啦，具体的步骤就不详细说明了，网上一搜一大把。</p><p>这里提供几个搜索的关键词：<code>github.io</code>/<code>github page</code>/<code>hexo</code>/<code>个人博客</code>。</p><p>安装过程并非一帆风顺，好在hexo技术和社区非常成熟，官方有文档、网络上也有非常多帖子。</p><h2 id="成果展示"><a href="#成果展示" class="headerlink" title="成果展示"></a>成果展示</h2><p>我选用的Hexo主题是Vue风格的<code>vexo</code>主题，干净简单。本人比较喜欢Vue的主题，Typora用的也是类Vue的主题。</p><p>上一张博客<a href="https://zhangnlei.github.io/" target="_blank" rel="noopener">zhangnlei.github.io</a>的效果图：</p><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghdepeudxbj31gz0u078g.jpg" alt="image-20200419142605032"></p><p>下图为Typora软件截图：</p><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1ghdepgxfxpj313q0u0ad0.jpg" alt="image-20200419142803105"></p><p>是不是都很VUE。哈哈</p><h2 id="写在最后"><a href="#写在最后" class="headerlink" title="写在最后"></a>写在最后</h2><p>以后会在这里记录一些心情、读书笔记、编程技术分享之类的文章。</p><p>感谢阅读。</p><p>@auther <code>张念磊</code><br>@date <code>2020/5/18</code></p><h1 id="我的偶像："><a href="#我的偶像：" class="headerlink" title="我的偶像："></a>我的偶像：</h1><p>对我影响很深的两个人 一个是篮球巨星 - 科比，另一个是苹果的创始人CEO - 乔布斯。</p><p>我喜欢他们的基础是我对他们非常的了解，越了解越能发现他们身上的闪光点，就越喜欢越欣赏。</p><p>我在我的高中时代读了《乔布斯传》，每天晚上在被窝里拿着一个砸脸很痛的MP4，劣质的屏幕、刺眼的光，我永远忘不了那个时候读到激动处全身的颤抖。 </p><p>我不知道你是否了解科比？单纯的觉得他就是努力的代名词。科比非常的聪明，当然他也足够简单、执着。</p><p>你可能听过他说的“凌晨四点的洛杉矶”，但他并不是从凌晨四点开始一直训练练到晚上。他的时间安排精力管理能力都非常的惊人，让我受益良多。</p><h2 id="科比"><a href="#科比" class="headerlink" title="科比"></a>科比</h2><p>（你不需要喜欢打篮球，也不需要看篮球比赛。因为你知道的我也不是多喜欢篮球，我只是单纯的喜欢科比这个人，还有他的曼巴精神）</p><p>视频链接1：<a href="https://www.bilibili.com/video/BV1bs411W78y?t=971" target="_blank" rel="noopener">【科比TED:意志的力量】科比的意志力到底有多强?</a></p><p><code>科比给我的启示</code></p><h3 id="一、面对问题时的态度"><a href="#一、面对问题时的态度" class="headerlink" title="一、面对问题时的态度"></a>一、面对问题时的态度</h3><p>不放弃尝试的权利。因为做和不做的差别太大了：</p><ol><li>体验，做了才有资格评论；</li><li>成长，去做一件事情肯定是先了解原理，然后实践，最后总结。如果你做都不去做，连原理都不了解，那就对这一块永远都不了解，所以尝试最差的结果也是收获知识，填补知识盲区。</li><li>一旦开始做了，就相信自己一定做到。只有这样才能让自己全力以赴。想尽办法、详细的规划、问题分为几个阶段，然后一个阶段一个阶段的去完成。同时每一阶段都专注于这一阶段该干的事情。</li></ol><h3 id="二、精力和时间管理的方法"><a href="#二、精力和时间管理的方法" class="headerlink" title="二、精力和时间管理的方法"></a>二、精力和时间管理的方法</h3><p>时间是有限的，精力也是。一定是把最好的状态给到最重要的事情。</p><p>对此，我有很多自己的小方法：晚上会找好第二天穿的衣服，这样第二天早上就不用思考这种穿衣问题。</p><p>同样的原理，安排琐碎的事情也可以用同样的方法：比如三餐吃什么，我会用随机软件（小程序），减少决策的成本。</p><p>视频链接2：<a href="https://mp.weixin.qq.com/mp/homepage?__biz=MzU5Njg1NDM3MA==&amp;hid=6&amp;sn=180ee10244a8b361b6e34eeaa0765fb6&amp;scene=1&amp;devicetype=Windows+10&amp;version=6208006f&amp;lang=zh_CN&amp;nettype=3G+&amp;ascene=14&amp;session_us=gh_d6035a7f6d1b&amp;fontScale=100&amp;pass_ticket=4bRFG6BWD6D%2BlLn7Y%2BStzxpIKS5qyObsQELGzsKm%2FRNqvPYNO6%2BO1kiqynCJZfCP&amp;wx_header=1&amp;uin=MzAzODA4MjkxMg%3D%3D&amp;key=1fb1a3c108c4a26cdcebd4933f7a2866a0c11c0bb4d9f5416ffb860c343a805fc2541a856dc15d9d06293cc660edd8eb9c8e834b9116fc0864919b7797ec209d157ad77b4f91f0f50b5ea2e6f4dcaf50" target="_blank" rel="noopener">【第四个视频】迈克尔·乔丹落泪深情缅怀科比：你走了，一部分我也死了</a></p><p>【视频链接2中的第一个视频】：总是逃避各种事情？心理学家：别藏了，你比想象的更强大</p><p>视频链接3： <a href="https://www.bilibili.com/video/BV1i7411v7PF?t=611" target="_blank" rel="noopener">解读《被讨厌的勇气》学习阿德勒的人生哲学！</a></p><p> 关于梦想，关于使命感</p><h2 id="乔布斯"><a href="#乔布斯" class="headerlink" title="乔布斯"></a>乔布斯</h2><p>视频链接4：<a href="https://www.bilibili.com/video/BV1oW411h7Ea/?spm_id_from=333.788.videocard.0" target="_blank" rel="noopener">乔布斯在斯坦福大学毕业典礼上的演讲</a></p><blockquote><p>If you haven’t found it yet, keep looking, and don’t settle.<br>你们如果还没有发现自己喜欢什么，那就不断地去寻找，不要祈求安逸</p></blockquote><p>以下为两段摘抄 - 链接： <a href="http://www.zhangnlei.cn/article/61" target="_blank" rel="noopener">http://www.zhangnlei.cn/article/61</a></p><h1 id="如何做梦"><a href="#如何做梦" class="headerlink" title="如何做梦"></a>如何做梦</h1><p> “梦 - Lil Jet”  18岁的rapper也可以有自己的梦，这首歌表达出的便是他自己的梦。</p><p>我们不评判这个梦的大小，高尚与否，关键是：有了梦，生活工作才有灵魂。</p><h2 id="我对于梦想的追寻"><a href="#我对于梦想的追寻" class="headerlink" title="我对于梦想的追寻"></a>我对于梦想的追寻</h2><p>乔布斯的演讲中的一句话：<code>If you haven&#39;t found it yet, keep looking, and don&#39;t settle.</code> 是如何拥有梦想这个问题最好解答。</p><p>我给自己找了一个梦想，35岁，40岁，，</p><p>我在35岁40岁后面加的是逗号，那个东西不是我梦想的终结，更不是我人生的终结。人生是一场修炼，我的使命感让我觉的我要做的远不止于此，但是那是我当前想到的最伟大的梦想了。</p><h2 id="很具体的东西"><a href="#很具体的东西" class="headerlink" title="很具体的东西"></a>很具体的东西</h2><p>孔老夫子：修身齐家治国平天下，修身而后齐家，齐家而后治国，治国而后平天下。这是一个递进的关系，所以我没有办法在自己都没修炼好的时候就想着影响其他的人，因为我不知会把人往好的方向引导还是坏的方向引导。</p><p>所以据其位谋其事，我当前就是在修身的阶段。</p><p>我觉得梦想是非常珍贵的东西。他有很多作用，比方说梦想可以<code>持续</code>的激励我，激励我变强，激励我广博的获取知识，持续学习，保持初心。</p><p>他可以让我更容易管理我自己，看什么样的书，交什么样的朋友</p><p>当然有助于我做选择，我现在的选择标准很简单，如果这件事情有助于我梦想的实现，能让我离我的梦想更进一步，那我就义无反顾的去做。不用过多的纠结利弊分析，先做了再说。</p><h2 id="我的方法论"><a href="#我的方法论" class="headerlink" title="我的方法论"></a>我的方法论</h2><p> “想成为什么样的人，那就先做他做的事。” 这是我追梦的方法。当然要抓住本质，不能只学表面，东施效颦，得不偿失。</p><h2 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h2><p>以上便是我近几年来对于梦想、对于修炼的看法。 如果能对你找到梦想有一点帮助，便很开心了。</p><p>视频链接：<a href="https://www.bilibili.com/video/BV1oW411h7Ea/?spm_id_from=333.788.videocard.0" target="_blank" rel="noopener">乔布斯在斯坦福大学毕业典礼上的演讲</a></p><p>以下为两段摘抄：</p><blockquote><p>You’ve got to find what you love, and that is as true for work as it is for your lovers.</p><p>Your work is going to fill a large part of your life, and the only way to be truly satisfied is to do what you believe is great work, and the only way to do great work is to love what you do.<br>工作将是生活中的一大部分，让自己真正满意的唯一办法，是做自己认为有意义的工作。做有意义的工作的唯一办法，是热爱自己的工作</p><p><code>If you haven&#39;t found it yet, keep looking, and don&#39;t settle.</code><br>你们如果还没有发现自己喜欢什么，那就不断地去寻找，不要祈求安逸</p><p>As with all matters of the heart, you’ll know when you find it, and like any great relationship it just gets better and better as the years roll on.<br>就像一切要凭着感觉去做的事情一样，一旦找到了自己喜欢的事，感觉就会告诉你。就像任何关系一样，都会随着时间的推移建立起来。</p><p>Your time is limited, so don’t waste it living someone else’s life. Don’t be trapped by dogma, which is living with the results of other people’s thinking.<br>你们的时间都有限，所以不要按照别人的意愿去活。不要让别人思想里盲从的信条困惑你</p><p>Don’t let the noise of others’ opinions drown out your own inner voice,<br>不要让别人观点的聒噪声淹没自己的心声</p><p>And most important…have the courage to follow your heart and intuition.<br>最主要的是，要有跟着自己感觉和直觉走的勇气</p><p>They somehow already know what you truly want to become.<br>无论如何，感觉和直觉早就知道你到底想成为一个什么样的人，</p><p>Everything else is secondary.<br>其它的都不重要</p><p>And I have always wished that for myself, and now, as you graduate to begin a new, I wish that for you.</p><p><code>Stay hungry, stay foolish.</code><br>我总是以此自许。当你们毕业，展开新生活，我也以此期许你们：</p><p>求知若饥，虚心若愚。</p></blockquote><p>名人自传、访谈 - 很少抱怨，很少找借口。</p><p>而大多数人都喜欢推卸责任，因为人会有推卸责任的习惯，会找那些经历来解释当前的状态，把过去搬出来解释自己现在，把不幸当成自己的借口，推卸自己的责任</p><p>怎么做：<br>没有必要把活着的经历去纠结那些完全无法改变的事，但是我们完全有能力去改变现在呀，从而去影响明天。</p><p>阿德勒认为，我们成年后，就要为自己的行为负责，为自己的人生负责。</p><p>我们每时每刻都在做选择，读什么样的书？看什么样的剧？听什么样的歌？关注哪些人？和谁去结婚？做什么样的职业？甚至每天的时间是如何安排的？精力主要用在了什么地方？<br>这一切都是自己的选择，是自己一次又一次的义无反顾的选择，把你送到了现在的位置、达到了现在的状态。<br>无需抱怨自己拿到了什么样牌，而是考虑如何打好现有的牌，这才是务实有建设性人生态度。</p><p>没有谁的人生是完美后才出发的</p><p>承认自己的不足需要勇气，但这也是进步的开始。</p><ol><li><p>先听一遍，消化一下；</p></li><li><p>然后提出一些问题，带着问题再听一遍；</p></li><li><p>第二次听的时候记下问题的关键词，然后尝试整理成通顺的语言和要点。</p></li><li><p>通读一遍自己整理的，如果还有问题，再听一遍，完善。</p></li><li><p>给朋友讲述自己的成果，讲述过程中有新发现或没讲明白的再思考，然后研究一遍。（此时可能音频里讲到的已经不能解答你了，要自己去寻找答案了）</p></li><li><p>达成读书的最终目的 - 思考；</p></li></ol><p>结合理论“费曼学习法”</p><h1 id="前端开发-js未发布的新特性-避免js链式调用时的‘age’-of-undefined-异常"><a href="#前端开发-js未发布的新特性-避免js链式调用时的‘age’-of-undefined-异常" class="headerlink" title="前端开发 - js未发布的新特性-避免js链式调用时的‘age’ of undefined 异常"></a>前端开发 - js未发布的新特性-避免js链式调用时的‘age’ of undefined 异常</h1><h2 id="可选链式调用"><a href="#可选链式调用" class="headerlink" title="可选链式调用"></a>可选链式调用</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">let name &#x3D; movie.director?.name;</span><br><span class="line"></span><br><span class="line">let one &#x3D; movie.actors?.[0]?.name;</span><br></pre></td></tr></table></figure><p>如果不存在属性 则返回undefined，不会报错。</p><h2 id="无效值合并操作符"><a href="#无效值合并操作符" class="headerlink" title="无效值合并操作符"></a>无效值合并操作符</h2><p> 表达式<code>variable ?? defaultValue</code>会在variable为undefined或null的时候把defaultValue的值赋给variable。<br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> const noValue &#x3D; undefined;</span><br><span class="line">const value &#x3D; &#39;Hello&#39;;</span><br><span class="line"></span><br><span class="line">noValue ?? &#39;Nothing&#39;;    &#x2F;&#x2F;&#x3D;&gt; &#39;Nothing&#39;</span><br><span class="line">value ?? &#39;Nothing&#39;;    &#x2F;&#x2F;&#x3D;&gt; &#39;Hello&#39;</span><br></pre></td></tr></table></figure></p><p> 参考： <a href="https://juejin.im/post/5d71bde2f265da03f5650686" target="_blank" rel="noopener">https://juejin.im/post/5d71bde2f265da03f5650686</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;这是一篇历史博客的汇总&quot;&gt;&lt;a href=&quot;#这是一篇历史博客的汇总&quot; class=&quot;headerlink&quot; title=&quot;这是一篇历史博客的汇总&quot;&gt;&lt;/a&gt;这是一篇历史博客的汇总&lt;/h1&gt;&lt;p&gt;这是我以前自己域名的博客网站所写的所有博客，现在服务器到期了，也没有
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title> LeetCode看到一个小技巧</title>
    <link href="http://yoursite.com/2020/08/03/LeetCode%E7%9C%8B%E5%88%B0%E4%B8%80%E4%B8%AA%E5%B0%8F%E6%8A%80%E5%B7%A7/"/>
    <id>http://yoursite.com/2020/08/03/LeetCode看到一个小技巧/</id>
    <published>2020-08-03T02:16:09.000Z</published>
    <updated>2020-08-03T02:18:47.037Z</updated>
    
    <content type="html"><![CDATA[<p>很有趣，记录一下。</p><p>算法题中困难的地方就是面对复杂的情况，找出一个公共的方法</p><p>以下是一个题解中的代码片段：<br><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">functionName</span> <span class="params">(<span class="keyword">int</span>[] nums1, <span class="keyword">int</span>[] nums2)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n1 = nums1.lenght;</span><br><span class="line">    <span class="keyword">int</span> n2 = nums2.lenght;</span><br><span class="line">    <span class="keyword">if</span> (n1 &gt; n2)&#123;</span><br><span class="line">        functionName(nums2, nums1);</span><br><span class="line">    &#125;</span><br><span class="line">    ....</span><br><span class="line">    <span class="comment">// 算法代码</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>使用递归保证第一个数组的长度是较短的那一个。</p><p>巧妙，优雅，有意思。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;很有趣，记录一下。&lt;/p&gt;
&lt;p&gt;算法题中困难的地方就是面对复杂的情况，找出一个公共的方法&lt;/p&gt;
&lt;p&gt;以下是一个题解中的代码片段：&lt;br&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>后端开发 - 记一次生产问题定位</title>
    <link href="http://yoursite.com/2020/07/25/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91-%E8%AE%B0%E4%B8%80%E6%AC%A1%E7%94%9F%E4%BA%A7%E9%97%AE%E9%A2%98%E5%AE%9A%E4%BD%8D/"/>
    <id>http://yoursite.com/2020/07/25/后端开发-记一次生产问题定位/</id>
    <published>2020-07-25T04:03:54.000Z</published>
    <updated>2020-08-10T09:46:46.861Z</updated>
    
    <content type="html"><![CDATA[<p>@auther <code>张念磊</code><br>@date <code>2020/7/25</code></p><p>[toc]</p><h2 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h2><p>一个服务上线生产之后两天出现了三次问题</p><p>详细征兆如下：</p><ol><li>刚出现此问题时，浏览器的一个请求发过去，开发者工具network一栏显示该请求状态一直是padding，会持续几分钟。</li><li>网关服务打印了对应的请求。</li><li>后台服务只打印了controller中的日志，没有打印service层的日志（日志级别debug，服务正常时会打印service层的日志）；</li><li>通过重启服务可暂时解决该问题，不过一段时间后会复现。</li></ol><h2 id="可能的原因"><a href="#可能的原因" class="headerlink" title="可能的原因"></a>可能的原因</h2><p>前提：近期用户增多，有49家机构在使用该功能模块。</p><ol><li>服务器线程爆了：该服务器一共部署了31个微服务，还有一些对外提供的的其他服务，服务的总线程数量超过计算机的最大线程数量。</li><li>服务器内存不够：服务器内存为32GB，现有未使用1GB（每个服务的运行内存设置为300M/512M/1G）。但服务日志没有爆出内存溢出异常，不能断定是该问题。</li><li>编写的代码异常导致，但异常时服务不产生日志，无法定位问题。以前也会有此问题，程序异常，后台返回的异常原因是null，可能是该服务的config配置有误，没有准确捕捉并返回异常信息。</li></ol><h2 id="尝试解决"><a href="#尝试解决" class="headerlink" title="尝试解决"></a>尝试解决</h2><ol><li>减小其他服务启动时配置的内存大小，使服务器内存处于健康状态 (已使用该方法，未能解决问题)</li><li>限制每个微服务的线程数量，使其不能超过计算机的最大线程数。（经排查，服务的线程数已被限制，每个服务被限制为200，Linux系统的总线程数为13万，故排除此原因）</li><li>为服务添加合理的全局异常捕获机制。（查看该工程的启动类中的try-catch代码块，发现catch到异常后直接返回null，没有做任何处理，在此为其添加一行代码，记录捕获到的异常到日志中）</li><li>找同事协助分析。</li></ol><h2 id="定位到问题"><a href="#定位到问题" class="headerlink" title="定位到问题"></a>定位到问题</h2><p>log文件被锁住导致程序无响应。具体原因：应为项目中使用到了两种打印日志的方式，一是使用第三方的slf4j打印log；二是使用printStackTrace()函数打印日志</p><h2 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h2><p>此次生产问题的原因：</p><ol><li>日志文件被锁住了。printStackTrace()函数打印日志，和使用slf4j打印日志时对日志文件资源的抢夺，导致文件被锁住；</li><li>启动类中捕获了异常但是没有打印异常</li></ol><p>目前的解决办法：启动类中添加异常信息的打印；删除代码中使用printStackTrace()函数的地方，改为使用slf4j打印log；</p><p>可用的其他办法：添加配置，在配置中设置只允许slf4j打印日志，不允许使用printStackTrace()函数打印日志。</p><h2 id="补充"><a href="#补充" class="headerlink" title="补充"></a>补充</h2><p>本次排查问题用到的知识</p><h3 id="查看系统总线程数"><a href="#查看系统总线程数" class="headerlink" title="查看系统总线程数"></a>查看系统总线程数</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/proc/sys/kernel/pid_max #查系统支持的最大线程数</span><br></pre></td></tr></table></figure><h3 id="查看进程下的所有线程数"><a href="#查看进程下的所有线程数" class="headerlink" title="查看进程下的所有线程数"></a>查看进程下的所有线程数</h3><p>先用 jps -l 查看应用的PID</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jps -l</span><br></pre></td></tr></table></figure><p>查看该Pid(进程）下的线程数</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -Lf &#123;pid&#125; | wc -l</span><br></pre></td></tr></table></figure><p>管道统计</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">| wc -l</span><br></pre></td></tr></table></figure><h3 id="解压jar包-（可查看源码）"><a href="#解压jar包-（可查看源码）" class="headerlink" title="解压jar包 （可查看源码）"></a>解压jar包 （可查看源码）</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jar -xvf test.jar</span><br></pre></td></tr></table></figure><p>view jstack.log</p><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gh5hdfz83gj31d30u01kx.jpg" alt="3081595828752_.pic_hd"></p><h2 id="后续"><a href="#后续" class="headerlink" title="后续"></a>后续</h2><p>这个问题算是解决了，但是我还是有几个好奇的地方：</p><ol><li>如何定位到的问题？</li><li>定位此类问题的思路和方法？</li><li>jstack命令 如何使用？</li></ol><p>思路：</p><ol><li>以jstack为突破点，了解一下java堆栈分析</li><li>请教同事</li></ol><p>未完待续。。。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;@auther &lt;code&gt;张念磊&lt;/code&gt;&lt;br&gt;@date &lt;code&gt;2020/7/25&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;[toc]&lt;/p&gt;
&lt;h2 id=&quot;问题描述&quot;&gt;&lt;a href=&quot;#问题描述&quot; class=&quot;headerlink&quot; title=&quot;问题描述&quot;&gt;&lt;
      
    
    </summary>
    
    
      <category term="Java" scheme="http://yoursite.com/tags/Java/"/>
    
      <category term="JVM" scheme="http://yoursite.com/tags/JVM/"/>
    
      <category term="jstack" scheme="http://yoursite.com/tags/jstack/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode 153. 寻找旋转排序数组中的最小值</title>
    <link href="http://yoursite.com/2020/07/22/LeetCode-153-%E5%AF%BB%E6%89%BE%E6%97%8B%E8%BD%AC%E6%8E%92%E5%BA%8F%E6%95%B0%E7%BB%84%E4%B8%AD%E7%9A%84%E6%9C%80%E5%B0%8F%E5%80%BC/"/>
    <id>http://yoursite.com/2020/07/22/LeetCode-153-寻找旋转排序数组中的最小值/</id>
    <published>2020-07-22T05:27:15.000Z</published>
    <updated>2020-07-22T05:41:53.167Z</updated>
    
    <content type="html"><![CDATA[<p>[toc]</p><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p> <a href="https://leetcode-cn.com/problems/find-minimum-in-rotated-sorted-array/" target="_blank" rel="noopener">153. 寻找旋转排序数组中的最小值</a></p><p>假设按照升序排序的数组在预先未知的某个点上进行了旋转。</p><p>( 例如，数组 <code>[0,1,2,4,5,6,7]</code> 可能变为 <code>[4,5,6,7,0,1,2]</code> )。</p><p>请找出其中最小的元素。</p><p>你可以假设数组中不存在重复元素。</p><p><strong>示例 1:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入: [3,4,5,1,2]</span><br><span class="line">输出: 1</span><br></pre></td></tr></table></figure><p><strong>示例 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入: [4,5,6,7,0,1,2]</span><br><span class="line">输出: 0</span><br></pre></td></tr></table></figure><p><strong>示例 3:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入: [0,1,2,4,5,6,7]</span><br><span class="line">输出: 0</span><br></pre></td></tr></table></figure><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p><code>思路1:暴力法</code></p><p>从左到右遍历数组，找出最小的数字</p><p><code>思路2：</code></p><h2 id="编码"><a href="#编码" class="headerlink" title="编码"></a>编码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>更多详细代码见我的代码仓库</p><p><a href="https://github.com/ZhangnLei/java-base/tree/master/src/main/java/mrzhang/leecode" target="_blank" rel="noopener">https://github.com/ZhangnLei/java-base/tree/master/src/main/java/mrzhang/leecode</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;[toc]&lt;/p&gt;
&lt;h2 id=&quot;题目&quot;&gt;&lt;a href=&quot;#题目&quot; class=&quot;headerlink&quot; title=&quot;题目&quot;&gt;&lt;/a&gt;题目&lt;/h2&gt;&lt;p&gt; &lt;a href=&quot;https://leetcode-cn.com/problems/find-minimum-i
      
    
    </summary>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode 154. 寻找旋转排序数组中的最小值 II</title>
    <link href="http://yoursite.com/2020/07/22/LeetCode-154-%E5%AF%BB%E6%89%BE%E6%97%8B%E8%BD%AC%E6%8E%92%E5%BA%8F%E6%95%B0%E7%BB%84%E4%B8%AD%E7%9A%84%E6%9C%80%E5%B0%8F%E5%80%BC-II/"/>
    <id>http://yoursite.com/2020/07/22/LeetCode-154-寻找旋转排序数组中的最小值-II/</id>
    <published>2020-07-22T04:52:35.000Z</published>
    <updated>2020-07-22T05:34:59.541Z</updated>
    
    <content type="html"><![CDATA[<p>[toc]</p><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p> <a href="https://leetcode-cn.com/problems/find-minimum-in-rotated-sorted-array-ii/" target="_blank" rel="noopener">154. 寻找旋转排序数组中的最小值 II</a></p><p>假设按照升序排序的数组在预先未知的某个点上进行了旋转。</p><p>( 例如，数组 <code>[0,1,2,4,5,6,7]</code> 可能变为 <code>[4,5,6,7,0,1,2]</code> )。</p><p>请找出其中最小的元素。</p><p>注意数组中可能存在重复的元素。</p><p><strong>示例 1：</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入: [1,3,5]</span><br><span class="line">输出: 1</span><br></pre></td></tr></table></figure><p><strong>示例 2：</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入: [2,2,2,0,1]</span><br><span class="line">输出: 0</span><br></pre></td></tr></table></figure><p><strong>说明：</strong></p><ul><li>这道题是 <a href="https://leetcode-cn.com/problems/find-minimum-in-rotated-sorted-array/description/" target="_blank" rel="noopener">寻找旋转排序数组中的最小值</a> 的延伸题目。</li><li>允许重复会影响算法的时间复杂度吗？会如何影响，为什么？</li></ul><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><h2 id="编码"><a href="#编码" class="headerlink" title="编码"></a>编码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>更多详细代码见我的代码仓库</p><p><a href="https://github.com/ZhangnLei/java-base/tree/master/src/main/java/mrzhang/leecode" target="_blank" rel="noopener">https://github.com/ZhangnLei/java-base/tree/master/src/main/java/mrzhang/leecode</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;[toc]&lt;/p&gt;
&lt;h2 id=&quot;题目&quot;&gt;&lt;a href=&quot;#题目&quot; class=&quot;headerlink&quot; title=&quot;题目&quot;&gt;&lt;/a&gt;题目&lt;/h2&gt;&lt;p&gt; &lt;a href=&quot;https://leetcode-cn.com/problems/find-minimum-i
      
    
    </summary>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode 167. 两数之和 II - 输入有序数组</title>
    <link href="http://yoursite.com/2020/07/20/LeetCode-167-%E4%B8%A4%E6%95%B0%E4%B9%8B%E5%92%8C-II-%E8%BE%93%E5%85%A5%E6%9C%89%E5%BA%8F%E6%95%B0%E7%BB%84/"/>
    <id>http://yoursite.com/2020/07/20/LeetCode-167-两数之和-II-输入有序数组/</id>
    <published>2020-07-20T05:17:31.000Z</published>
    <updated>2020-07-22T05:35:04.939Z</updated>
    
    <content type="html"><![CDATA[<p>[toc]</p><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p> <a href="https://leetcode-cn.com/problems/two-sum-ii-input-array-is-sorted/" target="_blank" rel="noopener">167. 两数之和 II - 输入有序数组</a></p><p>给定一个已按照<strong><em>升序排列\</em></strong> 的有序数组，找到两个数使得它们相加之和等于目标数。</p><p>函数应该返回这两个下标值 index1 和 index2，其中 index1 必须小于 index2<em>。</em></p><p><strong>说明:</strong></p><ul><li>返回的下标值（index1 和 index2）不是从零开始的。</li><li>你可以假设每个输入只对应唯一的答案，而且你不可以重复使用相同的元素。</li></ul><p><strong>示例:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">输入: numbers &#x3D; [2, 7, 11, 15], target &#x3D; 9</span><br><span class="line">输出: [1,2]</span><br><span class="line">解释: 2 与 7 之和等于目标数 9 。因此 index1 &#x3D; 1, index2 &#x3D; 2 。</span><br></pre></td></tr></table></figure><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p><code>思路1：暴力法</code></p><p>两个for循环嵌套，当target - num[i] == num[j]时推出for循环，返回 res[] = [i+1, j+1]</p><p><code>思路2：二分查找法</code></p><p>利用<em>升序数组</em>这一条件，固定一个值i，然后去数组里查找j，应为数组是升序的，查找时可使用二分查找法。</p><p><code>思路3：双指针法</code></p><p>两个指针分别指向头和尾，当两数之和等于target时，返回结果；两数之和大于target时，尾指针前移；两数之和小于target时，首指针后移。移动后再次判断，直至找到唯一解。</p><h2 id="编码"><a href="#编码" class="headerlink" title="编码"></a>编码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution167</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span>  `思路1：暴力法`</span></span><br><span class="line"><span class="comment"> * 两个for循环嵌套，当target - num[i] == num[j]时推出for循环，返回 res[] = [i+1, j+1]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] twoSum1(<span class="keyword">int</span>[] numbers, <span class="keyword">int</span> target) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numbers.length; i++) &#123;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> j = i + <span class="number">1</span>; j &lt; numbers.length; j++) &#123;</span><br><span class="line"><span class="keyword">if</span> (target - numbers[i] == numbers[j]) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;i+<span class="number">1</span>, j+<span class="number">1</span>&#125;;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">2</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span>  `思路2：二分查找法`</span></span><br><span class="line"><span class="comment"> * 利用*升序数组*这一条件，固定一个值i，然后去数组里查找j，应为数组是升序的，查找时可使用二分查找法。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] twoSum2(<span class="keyword">int</span>[] numbers, <span class="keyword">int</span> target) &#123;</span><br><span class="line"><span class="keyword">int</span> res[] = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">2</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; numbers.length; i++) &#123;</span><br><span class="line"><span class="keyword">int</span> index2 = getIndexBetween(numbers, i + <span class="number">1</span>, numbers.length -<span class="number">1</span>, target - numbers[i]);</span><br><span class="line"><span class="keyword">if</span> (index2 &gt; -<span class="number">1</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;i+<span class="number">1</span>, index2 + <span class="number">1</span>&#125;;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span> 二分法查找元素</span></span><br><span class="line"><span class="comment"> * 查找区间为 (begin, nums.length-1]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getIndexBetween</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> begin, <span class="keyword">int</span> end, <span class="keyword">int</span> target)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span> mid = (begin + end) / <span class="number">2</span>;</span><br><span class="line"><span class="keyword">if</span> (begin &gt; end) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line"><span class="keyword">if</span> (nums[mid] == target) &#123;</span><br><span class="line"><span class="keyword">return</span> mid;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[mid] &gt; target) &#123;</span><br><span class="line"><span class="keyword">return</span> getIndexBetween(nums, begin, mid -<span class="number">1</span>, target);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="keyword">return</span> getIndexBetween(nums, mid + <span class="number">1</span>, end, target);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span>  `思路3：双指针法`</span></span><br><span class="line"><span class="comment"> * 两个指针分别指向头和尾，当两数之和等于target时，返回结果；两数之和大于target时，尾指针前移；两数之和小于target时，首指针后移。移动后再次判断，直至找到唯一解。</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span>[] twoSum3(<span class="keyword">int</span>[] numbers, <span class="keyword">int</span> target) &#123;</span><br><span class="line"><span class="keyword">int</span> res[] = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">2</span>];</span><br><span class="line"><span class="keyword">int</span> left = <span class="number">0</span>, right = numbers.length -<span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line"><span class="keyword">int</span> sum = numbers[left] + numbers[right];</span><br><span class="line"><span class="keyword">if</span> (sum == target) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[]&#123;left + <span class="number">1</span>, right + <span class="number">1</span>&#125;;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (sum &lt; target) &#123;</span><br><span class="line">left += <span class="number">1</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">right -= <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>更多详细代码见我的代码仓库</p><p><a href="https://github.com/ZhangnLei/java-base/tree/master/src/main/java/mrzhang/leecode" target="_blank" rel="noopener">https://github.com/ZhangnLei/java-base/tree/master/src/main/java/mrzhang/leecode</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;[toc]&lt;/p&gt;
&lt;h2 id=&quot;题目&quot;&gt;&lt;a href=&quot;#题目&quot; class=&quot;headerlink&quot; title=&quot;题目&quot;&gt;&lt;/a&gt;题目&lt;/h2&gt;&lt;p&gt; &lt;a href=&quot;https://leetcode-cn.com/problems/two-sum-ii-inp
      
    
    </summary>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
  </entry>
  
  <entry>
    <title>后端开发 - Java反射获取类的所有的属性和父类的所有属性</title>
    <link href="http://yoursite.com/2020/07/16/%E5%90%8E%E7%AB%AF%E5%BC%80%E5%8F%91-Java%E5%8F%8D%E5%B0%84%E8%8E%B7%E5%8F%96%E7%B1%BB%E7%9A%84%E6%89%80%E6%9C%89%E7%9A%84%E5%B1%9E%E6%80%A7%E5%92%8C%E7%88%B6%E7%B1%BB%E7%9A%84%E6%89%80%E6%9C%89%E5%B1%9E%E6%80%A7/"/>
    <id>http://yoursite.com/2020/07/16/后端开发-Java反射获取类的所有的属性和父类的所有属性/</id>
    <published>2020-07-16T02:05:26.000Z</published>
    <updated>2020-07-16T02:47:35.836Z</updated>
    
    <content type="html"><![CDATA[<p>[toc]</p><h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>想获取一个类的所有属性和父类的所有属性</p><p>看一下官方文档中关于获取类的属性的两个方法：</p><ol><li><h3 id="getDeclaredFields"><a href="#getDeclaredFields" class="headerlink" title="getDeclaredFields"></a>getDeclaredFields</h3></li></ol><p>返回一个字段对象数组，反映由这个类对象表示的类或接口声明的所有字段。这包括公共、受保护、默认(包)访问和私有字段，但不包括继承字段。</p><ol start="2"><li><h3 id="getFields"><a href="#getFields" class="headerlink" title="getFields"></a>getFields</h3></li></ol><p>返回一个包含“字段”对象的数组，该数组反映由这个“类”对象表示的类或接口的所有可访问的公共字段。</p><p>这两个方法都不能获取所有属性，那我们自己写一个方法。</p><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>首先构建一个列表用来存放所有的属性；</p><p>获取使用getDeclaredFields()函数获取本类内部的所有属性，并addAll()到列表中；</p><p>使用clazz.getSuperclass()方法获取父类，然后获取父类中的所有属性，将其添加到列表中；</p><p>最后递归检查父类是否有父类，直到获取不到父类；</p><h2 id="编码"><a href="#编码" class="headerlink" title="编码"></a>编码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 获取本类及其父类的属性的方法</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> clazz 当前类对象</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> 字段数组</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> Field[] getAllFields(Class&lt;?&gt; clazz) &#123;</span><br><span class="line">List&lt;Field&gt; fieldList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"><span class="keyword">while</span> (clazz != <span class="keyword">null</span>)&#123;</span><br><span class="line">fieldList.addAll(<span class="keyword">new</span> ArrayList&lt;&gt;(Arrays.asList(clazz.getDeclaredFields())));</span><br><span class="line">clazz = clazz.getSuperclass();</span><br><span class="line">&#125;</span><br><span class="line">Field[] fields = <span class="keyword">new</span> Field[fieldList.size()];</span><br><span class="line"><span class="keyword">return</span> fieldList.toArray(fields);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">Field[] clzFields = getAllFields(AppSysUnitVo<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line"><span class="keyword">for</span> (Field clzField : clzFields) &#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line"><span class="keyword">if</span> (!clzField.isAccessible()) &#123;</span><br><span class="line">clzField.setAccessible(<span class="keyword">true</span>);</span><br><span class="line">&#125;</span><br><span class="line">System.out.println(clzField.getName());</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>更多详细代码见我的代码仓库</p><p><a href="https://github.com/ZhangnLei/java-base/tree/master/src/main/java/mrzhang/sy" target="_blank" rel="noopener">https://github.com/ZhangnLei/java-base/tree/master/src/main/java/mrzhang/sy</a></p><h2 id="官方文档："><a href="#官方文档：" class="headerlink" title="官方文档："></a>官方文档：</h2><h3 id="getDeclaredFields-1"><a href="#getDeclaredFields-1" class="headerlink" title="getDeclaredFields"></a>getDeclaredFields</h3><blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">public Field[] getDeclaredFields()</span><br><span class="line">                          throws SecurityException</span><br></pre></td></tr></table></figure><p>Returns an array of <code>Field</code> objects reflecting all the fields declared by the class or interface represented by this <code>Class</code> object. This includes public, protected, default (package) access, and private fields, but excludes inherited fields.</p><p>If this <code>Class</code> object represents a class or interface with no declared fields, then this method returns an array of length 0.</p><p>If this <code>Class</code> object represents an array type, a primitive type, or void, then this method returns an array of length 0.</p><p>The elements in the returned array are not sorted and are not in any particular order.</p><ul><li><p><strong>Returns:</strong></p><p>the array of <code>Field</code> objects representing all the declared fields of this class</p></li><li><p><strong>Throws:</strong></p><p><code>SecurityException</code> - If a security manager, <em>s</em>, is present and any of the following conditions is met:the caller’s class loader is not the same as the class loader of this class and invocation of <a href="dfile:///Users/zhangdabao/Library/Application Support/Dash/DocSets/Java_SE8/Java.docset/Contents/Resources/Documents/java/lang/SecurityManager.html#checkPermission-java.security.Permission-"><code>s.checkPermission</code></a> method with<code>RuntimePermission(&quot;accessDeclaredMembers&quot;)</code> denies access to the declared fields within this classthe caller’s class loader is not the same as or an ancestor of the class loader for the current class and invocation of <a href="dfile:///Users/zhangdabao/Library/Application Support/Dash/DocSets/Java_SE8/Java.docset/Contents/Resources/Documents/java/lang/SecurityManager.html#checkPackageAccess-java.lang.String-"><code>s.checkPackageAccess()</code></a> denies access to the package of this class</p></li><li><p><strong>Since:</strong></p><p>JDK1.1</p></li><li><p><strong>See The Java™ Language Specification:</strong></p><p>8.2 Class Members, 8.3 Field Declarations</p></li></ul></blockquote><h3 id="getFields-1"><a href="#getFields-1" class="headerlink" title="getFields"></a>getFields</h3><blockquote><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">public Field[] getFields()</span><br><span class="line">                  throws SecurityException</span><br></pre></td></tr></table></figure><p>Returns an array containing <code>Field</code> objects reflecting all the accessible public fields of the class or interface represented by this <code>Class</code> object.</p><p>If this <code>Class</code> object represents a class or interface with no no accessible public fields, then this method returns an array of length 0.</p><p>If this <code>Class</code> object represents a class, then this method returns the public fields of the class and of all its superclasses.</p><p>If this <code>Class</code> object represents an interface, then this method returns the fields of the interface and of all its superinterfaces.</p><p>If this <code>Class</code> object represents an array type, a primitive type, or void, then this method returns an array of length 0.</p><p>The elements in the returned array are not sorted and are not in any particular order.</p><ul><li><p><strong>Returns:</strong></p><p>the array of <code>Field</code> objects representing the public fields</p></li><li><p><strong>Throws:</strong></p><p><code>SecurityException</code> - If a security manager, <em>s</em>, is present and the caller’s class loader is not the same as or an ancestor of the class loader for the current class and invocation of <a href="dfile:///Users/zhangdabao/Library/Application Support/Dash/DocSets/Java_SE8/Java.docset/Contents/Resources/Documents/java/lang/SecurityManager.html#checkPackageAccess-java.lang.String-"><code>s.checkPackageAccess()</code></a> denies access to the package of this class.</p></li><li><p><strong>Since:</strong></p><p>JDK1.1</p></li><li><p><strong>See The Java™ Language Specification:</strong></p><p>8.2 Class Members, 8.3 Field Declarations</p></li></ul></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;[toc]&lt;/p&gt;
&lt;h2 id=&quot;问题&quot;&gt;&lt;a href=&quot;#问题&quot; class=&quot;headerlink&quot; title=&quot;问题&quot;&gt;&lt;/a&gt;问题&lt;/h2&gt;&lt;p&gt;想获取一个类的所有属性和父类的所有属性&lt;/p&gt;
&lt;p&gt;看一下官方文档中关于获取类的属性的两个方法：&lt;/p&gt;
&lt;ol
      
    
    </summary>
    
    
      <category term="反射" scheme="http://yoursite.com/tags/%E5%8F%8D%E5%B0%84/"/>
    
      <category term="获取父类的所有属性" scheme="http://yoursite.com/tags/%E8%8E%B7%E5%8F%96%E7%88%B6%E7%B1%BB%E7%9A%84%E6%89%80%E6%9C%89%E5%B1%9E%E6%80%A7/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode 96. 不同的二叉搜索树</title>
    <link href="http://yoursite.com/2020/07/15/LeetCode-96-%E4%B8%8D%E5%90%8C%E7%9A%84%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91/"/>
    <id>http://yoursite.com/2020/07/15/LeetCode-96-不同的二叉搜索树/</id>
    <published>2020-07-15T05:10:38.000Z</published>
    <updated>2020-07-16T06:47:50.718Z</updated>
    
    <content type="html"><![CDATA[<p>[toc]</p><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p> <a href="https://leetcode-cn.com/problems/unique-binary-search-trees/" target="_blank" rel="noopener">96. 不同的二叉搜索树</a></p><p>难度中等663收藏分享切换为英文关注反馈</p><p>给定一个整数 <em>n</em>，求以 1 … <em>n</em> 为节点组成的二叉搜索树有多少种？</p><p><strong>示例:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">输入: 3</span><br><span class="line">输出: 5</span><br><span class="line">解释:</span><br><span class="line">给定 n &#x3D; 3, 一共有 5 种不同结构的二叉搜索树:</span><br><span class="line"></span><br><span class="line">   1         3     3      2      1</span><br><span class="line">    \       &#x2F;     &#x2F;      &#x2F; \      \</span><br><span class="line">     3     2     1      1   3      2</span><br><span class="line">    &#x2F;     &#x2F;       \                 \</span><br><span class="line">   2     1         2                 3</span><br></pre></td></tr></table></figure><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>设G(n)为n个节点组成二叉搜索树的个数，f(i)为以i为根节点二叉搜索树的个数<br>则有：G(n) = f(1) + f(2) + … + f(n);<br>又因为i的左侧有i-1个节点，右侧有n-i个节点，<br>则有：f(i) = G(i-1) <em> G(n-i);<br>结合上述两式可得：<br>G(n) = G(0) </em> G(n-1) + G(1) <em> G(n-2) + … + G(n-1) </em> G(0);</p><h2 id="编码"><a href="#编码" class="headerlink" title="编码"></a>编码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numTrees</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[n+<span class="number">1</span>];</span><br><span class="line">        dp[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">        dp[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; n + <span class="number">1</span>; i++)</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; i + <span class="number">1</span>; j++) </span><br><span class="line">                dp[i] += dp[j-<span class="number">1</span>] * dp[i-j];</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> dp[n];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>更多详细代码见我的代码仓库</p><p><a href="https://github.com/ZhangnLei/java-base/tree/master/src/main/java/mrzhang/leecode" target="_blank" rel="noopener">https://github.com/ZhangnLei/java-base/tree/master/src/main/java/mrzhang/leecode</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;[toc]&lt;/p&gt;
&lt;h2 id=&quot;题目&quot;&gt;&lt;a href=&quot;#题目&quot; class=&quot;headerlink&quot; title=&quot;题目&quot;&gt;&lt;/a&gt;题目&lt;/h2&gt;&lt;p&gt; &lt;a href=&quot;https://leetcode-cn.com/problems/unique-binary-
      
    
    </summary>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="二叉搜索树" scheme="http://yoursite.com/tags/%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91/"/>
    
      <category term="公式法" scheme="http://yoursite.com/tags/%E5%85%AC%E5%BC%8F%E6%B3%95/"/>
    
      <category term="卡特兰数" scheme="http://yoursite.com/tags/%E5%8D%A1%E7%89%B9%E5%85%B0%E6%95%B0/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode 350. 两个数组的交集 II</title>
    <link href="http://yoursite.com/2020/07/13/LeetCode-350-%E4%B8%A4%E4%B8%AA%E6%95%B0%E7%BB%84%E7%9A%84%E4%BA%A4%E9%9B%86-II/"/>
    <id>http://yoursite.com/2020/07/13/LeetCode-350-两个数组的交集-II/</id>
    <published>2020-07-13T05:31:15.000Z</published>
    <updated>2020-07-15T05:12:03.499Z</updated>
    
    <content type="html"><![CDATA[<p>[toc]</p><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p><a href="https://leetcode-cn.com/problems/intersection-of-two-arrays-ii/" target="_blank" rel="noopener">350. 两个数组的交集 II</a></p><p>难度简单326收藏分享切换为英文关注反馈</p><p>给定两个数组，编写一个函数来计算它们的交集。</p><p><strong>示例 1：</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入：nums1 &#x3D; [1,2,2,1], nums2 &#x3D; [2,2]</span><br><span class="line">输出：[2,2]</span><br></pre></td></tr></table></figure><p><strong>示例 2:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入：nums1 &#x3D; [4,9,5], nums2 &#x3D; [9,4,9,8,4]</span><br><span class="line">输出：[4,9]</span><br></pre></td></tr></table></figure><p><strong>说明：</strong></p><ul><li>输出结果中每个元素出现的次数，应与元素在两个数组中出现次数的最小值一致。</li><li>我们可以不考虑输出结果的顺序。</li></ul><p><strong><em>\</em>进阶\</strong>：**</p><ul><li>如果给定的数组已经排好序呢？你将如何优化你的算法？</li><li>如果 <em>nums1</em> 的大小比 <em>nums2</em> 小很多，哪种方法更优？</li><li>如果 <em>nums2</em> 的元素存储在磁盘上，磁盘内存是有限的，并且你不能一次加载所有的元素到内存中，你该怎么办？</li></ul><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p><code>我的思路：</code></p><p>维护两个hashMap，元素为key，出现的次数为value；最后遍历比较两个hashMap</p><p><code>LeetCode官方提供的思路1：</code></p><p>在我的思路上做了优化，只维护一个hashMap，遍历短的数组，生成hashMap，value增加；遍历第二个数组，取map中找是否存在元素，如存在则value-1，把key添加到结果中。很精妙！</p><p>(可选优化：value=0时把key删掉，每次getKey前判断map是否有key)</p><p><code>LeetCode官方提供的思路2：</code></p><p>先排序，然后使用两个指针做对比，两个指针指向的值相同时，记录元素，然后同时后移；两个指针指向的值不同时，数值小的指针往后移，任意一个数组完成后则停止。</p><h2 id="编码"><a href="#编码" class="headerlink" title="编码"></a>编码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>更多详细代码见我的代码仓库</p><p><a href="https://github.com/ZhangnLei/java-base/tree/master/src/main/java/mrzhang/leecode" target="_blank" rel="noopener">https://github.com/ZhangnLei/java-base/tree/master/src/main/java/mrzhang/leecode</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;[toc]&lt;/p&gt;
&lt;h2 id=&quot;题目&quot;&gt;&lt;a href=&quot;#题目&quot; class=&quot;headerlink&quot; title=&quot;题目&quot;&gt;&lt;/a&gt;题目&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://leetcode-cn.com/problems/intersection-of
      
    
    </summary>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode 108. 有序数组转换二叉搜索树</title>
    <link href="http://yoursite.com/2020/07/11/LeetCode-108-%E6%9C%89%E5%BA%8F%E6%95%B0%E7%BB%84%E8%BD%AC%E6%8D%A2%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91/"/>
    <id>http://yoursite.com/2020/07/11/LeetCode-108-有序数组转换二叉搜索树/</id>
    <published>2020-07-11T03:48:43.000Z</published>
    <updated>2020-07-11T04:12:27.730Z</updated>
    
    <content type="html"><![CDATA[<p>[toc]</p><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><h4 id="108-将有序数组转换为二叉搜索树"><a href="#108-将有序数组转换为二叉搜索树" class="headerlink" title="108. 将有序数组转换为二叉搜索树"></a><a href="https://leetcode-cn.com/problems/convert-sorted-array-to-binary-search-tree/" target="_blank" rel="noopener">108. 将有序数组转换为二叉搜索树</a></h4><p>将一个按照升序排列的有序数组，转换为一棵高度平衡二叉搜索树。</p><p>本题中，一个高度平衡二叉树是指一个二叉树<em>每个节点</em> 的左右两个子树的高度差的绝对值不超过 1。</p><p><strong>示例:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">给定有序数组: [-10,-3,0,5,9],</span><br><span class="line"></span><br><span class="line">一个可能的答案是：[0,-3,9,-10,null,5]，它可以表示下面这个高度平衡二叉搜索树：</span><br><span class="line"></span><br><span class="line">      0</span><br><span class="line">     &#x2F; \</span><br><span class="line">   -3   9</span><br><span class="line">   &#x2F;   &#x2F;</span><br><span class="line"> -10  5</span><br></pre></td></tr></table></figure><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><h2 id="编码"><a href="#编码" class="headerlink" title="编码"></a>编码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> mrzhang.leecode;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhangnianlei</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2020/7/7</span></span><br><span class="line"><span class="comment"> * 108. 将有序数组转换为二叉搜索树</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution108</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> TreeNode <span class="title">sortedArrayToBST</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> dfs(nums, <span class="number">0</span>, nums.length - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span> 递归的构建一棵二叉搜索树</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhangnianlei</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2020/7/11</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@exception</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>: nums</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>: left</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>: right</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span>: mrzhang.leecode.TreeNode</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@modifier</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> TreeNode <span class="title">dfs</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> left, <span class="keyword">int</span> right)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (left &gt; right) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> mid = left + (right - left) / <span class="number">2</span>;</span><br><span class="line">TreeNode root = <span class="keyword">new</span> TreeNode(nums[mid]);</span><br><span class="line">root.left = dfs(nums, left, mid - <span class="number">1</span>);</span><br><span class="line">root.right = dfs(nums, mid + <span class="number">1</span>, right);</span><br><span class="line"><span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span> 编写一个main函数在本地检验</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhangnianlei</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2020/7/11</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@exception</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>: args</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@modifier</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span>[] nums = &#123;-<span class="number">10</span>,-<span class="number">3</span>,<span class="number">0</span>,<span class="number">5</span>,<span class="number">9</span>&#125;;</span><br><span class="line">TreeNode root = sortedArrayToBST(nums);</span><br><span class="line">TreeNode.prePrint(root);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>更多详细代码见我的代码仓库</p><p><a href="https://github.com/ZhangnLei/java-base/tree/master/src/main/java/mrzhang/leecode" target="_blank" rel="noopener">https://github.com/ZhangnLei/java-base/tree/master/src/main/java/mrzhang/leecode</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;[toc]&lt;/p&gt;
&lt;h2 id=&quot;题目&quot;&gt;&lt;a href=&quot;#题目&quot; class=&quot;headerlink&quot; title=&quot;题目&quot;&gt;&lt;/a&gt;题目&lt;/h2&gt;&lt;h4 id=&quot;108-将有序数组转换为二叉搜索树&quot;&gt;&lt;a href=&quot;#108-将有序数组转换为二叉搜索树&quot; clas
      
    
    </summary>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="二叉搜索树" scheme="http://yoursite.com/tags/%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91/"/>
    
      <category term="递归" scheme="http://yoursite.com/tags/%E9%80%92%E5%BD%92/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode 109. 有序链表转换二叉搜索树</title>
    <link href="http://yoursite.com/2020/07/11/LeetCode-109-%E6%9C%89%E5%BA%8F%E9%93%BE%E8%A1%A8%E8%BD%AC%E6%8D%A2%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91/"/>
    <id>http://yoursite.com/2020/07/11/LeetCode-109-有序链表转换二叉搜索树/</id>
    <published>2020-07-11T03:47:10.000Z</published>
    <updated>2020-07-11T04:12:22.470Z</updated>
    
    <content type="html"><![CDATA[<p>[toc]</p><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><h4 id="109-有序链表转换二叉搜索树"><a href="#109-有序链表转换二叉搜索树" class="headerlink" title="109. 有序链表转换二叉搜索树"></a><a href="https://leetcode-cn.com/problems/convert-sorted-list-to-binary-search-tree/" target="_blank" rel="noopener">109. 有序链表转换二叉搜索树</a></h4><p>给定一个单链表，其中的元素按升序排序，将其转换为高度平衡的二叉搜索树。</p><p>本题中，一个高度平衡二叉树是指一个二叉树<em>每个节点</em> 的左右两个子树的高度差的绝对值不超过 1。</p><p><strong>示例:</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">给定的有序链表： [-10, -3, 0, 5, 9],</span><br><span class="line"></span><br><span class="line">一个可能的答案是：[0, -3, 9, -10, null, 5], 它可以表示下面这个高度平衡二叉搜索树：</span><br><span class="line"></span><br><span class="line">      0</span><br><span class="line">     &#x2F; \</span><br><span class="line">   -3   9</span><br><span class="line">   &#x2F;   &#x2F;</span><br><span class="line"> -10  5</span><br></pre></td></tr></table></figure><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><h2 id="编码"><a href="#编码" class="headerlink" title="编码"></a>编码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> mrzhang.leecode;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhangnianlei</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2020/7/8</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * 109. 有序链表转换二叉搜索树</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution109function3</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> ListNode head;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="keyword">int</span>[] nums = &#123;-<span class="number">10</span>,-<span class="number">3</span>,<span class="number">0</span>,<span class="number">5</span>,<span class="number">9</span>, <span class="number">13</span>&#125;;</span><br><span class="line"><span class="comment">// 构建一个ListNode</span></span><br><span class="line">ListNode listNode = ListNode.getListNode(nums);</span><br><span class="line">Solution109function3 solution109 = <span class="keyword">new</span> Solution109function3();</span><br><span class="line">TreeNode root = solution109.sortedListToBST(listNode);</span><br><span class="line">TreeNode.prePrint(root);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span> leetcode 109 方法三 逆用中序遍历的思想：中序遍历二叉搜索树得到一个升序数列，那么反过来，使用此法将一个升序的数列构建成一个二叉搜索树</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhangnianlei</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2020/7/9</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@exception</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>: node</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span>: mrzhang.leecode.TreeNode</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@modifier</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> TreeNode <span class="title">sortedListToBST</span><span class="params">(ListNode node)</span> </span>&#123;</span><br><span class="line"><span class="comment">// 计算listNode的长度</span></span><br><span class="line"><span class="keyword">int</span> size = countListNodeSize(node);</span><br><span class="line"><span class="comment">// 使用全局的ListNode变量协助</span></span><br><span class="line">head = node;</span><br><span class="line"><span class="comment">// 构建二叉搜索树</span></span><br><span class="line"><span class="keyword">return</span> convertListToBST(<span class="number">0</span>, size - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span> 计算listNode的长度</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhangnianlei</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2020/7/11</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@exception</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>: left</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>: right</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span>: mrzhang.leecode.TreeNode</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@modifier</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> TreeNode <span class="title">convertListToBST</span><span class="params">(<span class="keyword">int</span> left, <span class="keyword">int</span> right)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (right &lt; left) <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">int</span> mid = (right + left) / <span class="number">2</span>;</span><br><span class="line">TreeNode leftNode = convertListToBST(left, mid - <span class="number">1</span>);</span><br><span class="line">TreeNode result = <span class="keyword">new</span> TreeNode(head.val);</span><br><span class="line">result.left = leftNode;</span><br><span class="line">head = head.next;</span><br><span class="line">result.right = convertListToBST(mid + <span class="number">1</span>, right);</span><br><span class="line"><span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span> 计算listNode的长度</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhangnianlei</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2020/7/11</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@exception</span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span>: head</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span>: int</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@modifier</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">countListNodeSize</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (head == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">ListNode p = head;</span><br><span class="line"><span class="keyword">while</span> (p != <span class="keyword">null</span>) &#123;</span><br><span class="line">sum += <span class="number">1</span>;</span><br><span class="line">p = p.next;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>更多详细代码见我的代码仓库</p><p><a href="https://github.com/ZhangnLei/java-base/tree/master/src/main/java/mrzhang/leecode" target="_blank" rel="noopener">https://github.com/ZhangnLei/java-base/tree/master/src/main/java/mrzhang/leecode</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;[toc]&lt;/p&gt;
&lt;h2 id=&quot;题目&quot;&gt;&lt;a href=&quot;#题目&quot; class=&quot;headerlink&quot; title=&quot;题目&quot;&gt;&lt;/a&gt;题目&lt;/h2&gt;&lt;h4 id=&quot;109-有序链表转换二叉搜索树&quot;&gt;&lt;a href=&quot;#109-有序链表转换二叉搜索树&quot; class=&quot;h
      
    
    </summary>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="快慢指针" scheme="http://yoursite.com/tags/%E5%BF%AB%E6%85%A2%E6%8C%87%E9%92%88/"/>
    
      <category term="二叉搜索树" scheme="http://yoursite.com/tags/%E4%BA%8C%E5%8F%89%E6%90%9C%E7%B4%A2%E6%A0%91/"/>
    
      <category term="递归" scheme="http://yoursite.com/tags/%E9%80%92%E5%BD%92/"/>
    
      <category term="中序遍历" scheme="http://yoursite.com/tags/%E4%B8%AD%E5%BA%8F%E9%81%8D%E5%8E%86/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode 876. 获取链表的中间结点</title>
    <link href="http://yoursite.com/2020/07/07/LeetCode-876-%E8%8E%B7%E5%8F%96%E9%93%BE%E8%A1%A8%E7%9A%84%E4%B8%AD%E9%97%B4%E7%BB%93%E7%82%B9/"/>
    <id>http://yoursite.com/2020/07/07/LeetCode-876-获取链表的中间结点/</id>
    <published>2020-07-07T07:06:44.000Z</published>
    <updated>2020-07-11T05:05:04.636Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><h4 id="876-链表的中间结点"><a href="#876-链表的中间结点" class="headerlink" title="876. 链表的中间结点"></a><a href="https://leetcode-cn.com/problems/middle-of-the-linked-list/" target="_blank" rel="noopener">876. 链表的中间结点</a></h4><p>给定一个带有头结点 <code>head</code> 的非空单链表，返回链表的中间结点。</p><p>如果有两个中间结点，则返回第二个中间结点。</p><p><strong>示例 1：</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">输入：[1,2,3,4,5]</span><br><span class="line">输出：此列表中的结点 3 (序列化形式：[3,4,5])</span><br><span class="line">返回的结点值为 3 。 (测评系统对该结点序列化表述是 [3,4,5])。</span><br><span class="line">注意，我们返回了一个 ListNode 类型的对象 ans，这样：</span><br><span class="line">ans.val &#x3D; 3, ans.next.val &#x3D; 4, ans.next.next.val &#x3D; 5, 以及 ans.next.next.next &#x3D; NULL.</span><br></pre></td></tr></table></figure><p><strong>示例 2：</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">输入：[1,2,3,4,5,6]</span><br><span class="line">输出：此列表中的结点 4 (序列化形式：[4,5,6])</span><br><span class="line">由于该列表有两个中间结点，值分别为 3 和 4，我们返回第二个结点。</span><br></pre></td></tr></table></figure><p><strong>提示：</strong></p><ul><li>给定链表的结点数介于 <code>1</code> 和 <code>100</code> 之间。</li></ul><h2 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h2><p>快慢指针的思想：快指针一次移动2个，慢指针一次移动一个，则快指针到末尾时，慢指针刚好在中间。</p><h2 id="编码"><a href="#编码" class="headerlink" title="编码"></a>编码</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"> * public class ListNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     ListNode next;</span></span><br><span class="line"><span class="comment"> *     ListNode(int x) &#123; val = x; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">middleNode</span><span class="params">(ListNode head)</span> </span>&#123;</span><br><span class="line"><span class="keyword">if</span> (head == <span class="keyword">null</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line">ListNode fast = head;</span><br><span class="line">ListNode slow = head;</span><br><span class="line"><span class="keyword">while</span> (fast != <span class="keyword">null</span> &amp;&amp; fast.next != <span class="keyword">null</span>) &#123;</span><br><span class="line">slow = slow.next;</span><br><span class="line">fast = fast.next.next;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> slow;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>更多详细代码见我的代码仓库</p><p><a href="https://github.com/ZhangnLei/java-base/tree/master/src/main/java/mrzhang/leecode" target="_blank" rel="noopener">https://github.com/ZhangnLei/java-base/tree/master/src/main/java/mrzhang/leecode</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;题目&quot;&gt;&lt;a href=&quot;#题目&quot; class=&quot;headerlink&quot; title=&quot;题目&quot;&gt;&lt;/a&gt;题目&lt;/h2&gt;&lt;h4 id=&quot;876-链表的中间结点&quot;&gt;&lt;a href=&quot;#876-链表的中间结点&quot; class=&quot;headerlink&quot; title=&quot;876
      
    
    </summary>
    
    
      <category term="LeetCode" scheme="http://yoursite.com/tags/LeetCode/"/>
    
      <category term="链表" scheme="http://yoursite.com/tags/%E9%93%BE%E8%A1%A8/"/>
    
      <category term="快慢指针" scheme="http://yoursite.com/tags/%E5%BF%AB%E6%85%A2%E6%8C%87%E9%92%88/"/>
    
  </entry>
  
  <entry>
    <title>我的偶像</title>
    <link href="http://yoursite.com/2020/05/18/%E6%88%91%E7%9A%84%E5%81%B6%E5%83%8F/"/>
    <id>http://yoursite.com/2020/05/18/我的偶像/</id>
    <published>2020-05-18T05:26:05.000Z</published>
    <updated>2020-05-18T05:43:45.608Z</updated>
    
    <content type="html"><![CDATA[<p>@auther <code>张念磊</code><br>@date <code>2020/5/18</code></p><p>[toc]</p><h1 id="我的偶像："><a href="#我的偶像：" class="headerlink" title="我的偶像："></a>我的偶像：</h1><p>对我影响很深的两个人 一个是篮球巨星 - 科比，另一个是苹果的创始人CEO - 乔布斯。</p><p>我喜欢他们的基础是我对他们非常的了解，越了解越能发现他们身上的闪光点，就越喜欢越欣赏。</p><p>我在我的高中时代读了《乔布斯传》，每天晚上在被窝里拿着一个砸脸很痛的MP4，劣质的屏幕、刺眼的光，我永远忘不了那个时候读到激动处全身的颤抖。 </p><p>我不知道你是否了解科比？单纯的觉得他就是努力的代名词。科比非常的聪明，当然他也足够简单、执着。</p><p>你可能听过他说的“凌晨四点的洛杉矶”，但他并不是从凌晨四点开始一直训练练到晚上。他的时间安排精力管理能力都非常的惊人，让我受益良多。</p><h2 id="科比"><a href="#科比" class="headerlink" title="科比"></a>科比</h2><p>（你不需要喜欢打篮球，也不需要看篮球比赛。因为你知道的我也不是多喜欢篮球，我只是单纯的喜欢科比这个人，还有他的曼巴精神）</p><p>视频链接1：<a href="https://www.bilibili.com/video/BV1bs411W78y?t=971" target="_blank" rel="noopener">【科比TED:意志的力量】科比的意志力到底有多强?</a></p><h3 id="科比给我的启示"><a href="#科比给我的启示" class="headerlink" title="科比给我的启示"></a>科比给我的启示</h3><h4 id="科比的曼巴精神"><a href="#科比的曼巴精神" class="headerlink" title="科比的曼巴精神"></a>科比的曼巴精神</h4><p>令我着迷，当然也充满了好奇，他是如何保持如此持久的激情和热爱。</p><h4 id="面对问题时的态度"><a href="#面对问题时的态度" class="headerlink" title="面对问题时的态度"></a>面对问题时的态度</h4><p>不放弃尝试的权利。因为做和不做的差别太大了：</p><ol><li>体验，做了才有资格评论；</li><li>成长，去做一件事情肯定是先了解原理，然后实践，最后总结。如果你做都不去做，连原理都不了解，那就对这一块永远都不了解，所以尝试最差的结果也是收获知识，填补知识盲区。</li><li>一旦开始做了，就相信自己一定做到。只有这样才能让自己全力以赴。想尽办法、详细的规划、问题分为几个阶段，然后一个阶段一个阶段的去完成。同时每一阶段都专注于这一阶段该干的事情。</li></ol><h4 id="精力和时间管理的方法"><a href="#精力和时间管理的方法" class="headerlink" title="精力和时间管理的方法"></a>精力和时间管理的方法</h4><p>时间是有限的，精力也是。一定是把最好的状态给到最重要的事情。</p><p>对此，我有很多自己的小方法：晚上会找好第二天穿的衣服，这样第二天早上就不用思考这种穿衣问题。</p><p>同样的原理，安排琐碎的事情也可以用同样的方法：比如三餐吃什么，我会用随机软件（小程序），减少决策的成本。</p><p>视频链接2：<a href="https://mp.weixin.qq.com/mp/homepage?__biz=MzU5Njg1NDM3MA==&amp;hid=6&amp;sn=180ee10244a8b361b6e34eeaa0765fb6&amp;scene=1&amp;devicetype=Windows+10&amp;version=6208006f&amp;lang=zh_CN&amp;nettype=3G+&amp;ascene=14&amp;session_us=gh_d6035a7f6d1b&amp;fontScale=100&amp;pass_ticket=4bRFG6BWD6D%2BlLn7Y%2BStzxpIKS5qyObsQELGzsKm%2FRNqvPYNO6%2BO1kiqynCJZfCP&amp;wx_header=1&amp;uin=MzAzODA4MjkxMg%3D%3D&amp;key=1fb1a3c108c4a26cdcebd4933f7a2866a0c11c0bb4d9f5416ffb860c343a805fc2541a856dc15d9d06293cc660edd8eb9c8e834b9116fc0864919b7797ec209d157ad77b4f91f0f50b5ea2e6f4dcaf50" target="_blank" rel="noopener">【第四个视频】迈克尔·乔丹落泪深情缅怀科比：你走了，一部分我也死了</a></p><p>【视频链接2中的第一个视频】：总是逃避各种事情？心理学家：别藏了，你比想象的更强大</p><p>视频链接3： <a href="https://www.bilibili.com/video/BV1i7411v7PF?t=611" target="_blank" rel="noopener">解读《被讨厌的勇气》学习阿德勒的人生哲学！</a></p><p> 关于梦想，关于使命感</p><h2 id="乔布斯"><a href="#乔布斯" class="headerlink" title="乔布斯"></a>乔布斯</h2><p>视频链接4：<a href="https://www.bilibili.com/video/BV1oW411h7Ea/?spm_id_from=333.788.videocard.0" target="_blank" rel="noopener">乔布斯在斯坦福大学毕业典礼上的演讲</a></p><blockquote><p>If you haven’t found it yet, keep looking, and don’t settle.<br>你们如果还没有发现自己喜欢什么，那就不断地去寻找，不要祈求安逸</p></blockquote><p>以下为两段摘抄 - 链接： <a href="http://www.zhangnlei.cn/article/61" target="_blank" rel="noopener">http://www.zhangnlei.cn/article/61</a></p><h1 id="如何做梦"><a href="#如何做梦" class="headerlink" title="如何做梦"></a>如何做梦</h1><p> “梦 - Lil Jet”  18岁的rapper也可以有自己的梦，这首歌表达出的便是他自己的梦。</p><p>我们不评判这个梦的大小，高尚与否，关键是：有了梦，生活工作才有灵魂。</p><h2 id="我对于梦想的追寻"><a href="#我对于梦想的追寻" class="headerlink" title="我对于梦想的追寻"></a>我对于梦想的追寻</h2><p>乔布斯的演讲中的一句话：<code>If you haven&#39;t found it yet, keep looking, and don&#39;t settle.</code> 是如何拥有梦想这个问题最好解答。</p><p>我给自己找了一个梦想，35岁，40岁，，</p><p>我在35岁40岁后面加的是逗号，那个东西不是我梦想的终结，更不是我人生的终结。人生是一场修炼，我的使命感让我觉的我要做的远不止于此，但是那是我当前想到的最伟大的梦想了。</p><h2 id="很具体的东西"><a href="#很具体的东西" class="headerlink" title="很具体的东西"></a>很具体的东西</h2><p>孔老夫子：修身齐家治国平天下，修身而后齐家，齐家而后治国，治国而后平天下。这是一个递进的关系，所以我没有办法在自己都没修炼好的时候就想着影响其他的人，因为我不知会把人往好的方向引导还是坏的方向引导。</p><p>所以据其位谋其事，我当前就是在修身的阶段。</p><p>我觉得梦想是非常珍贵的东西。他有很多作用，比方说梦想可以<code>持续</code>的激励我，激励我变强，激励我广博的获取知识，持续学习，保持初心。</p><p>他可以让我更容易管理我自己，看什么样的书，交什么样的朋友</p><p>当然有助于我做选择，我现在的选择标准很简单，如果这件事情有助于我梦想的实现，能让我离我的梦想更进一步，那我就义无反顾的去做。不用过多的纠结利弊分析，先做了再说。</p><h2 id="我的方法论"><a href="#我的方法论" class="headerlink" title="我的方法论"></a>我的方法论</h2><p> “想成为什么样的人，那就先做他做的事。” 这是我追梦的方法。当然要抓住本质，不能只学表面，东施效颦，得不偿失。</p><h1 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h1><p>以上便是我近几年来对于梦想、对于修炼的看法。 如果能对你找到梦想有一点帮助，便很开心了。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;@auther &lt;code&gt;张念磊&lt;/code&gt;&lt;br&gt;@date &lt;code&gt;2020/5/18&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;[toc]&lt;/p&gt;
&lt;h1 id=&quot;我的偶像：&quot;&gt;&lt;a href=&quot;#我的偶像：&quot; class=&quot;headerlink&quot; title=&quot;我的偶像：
      
    
    </summary>
    
    
      <category term="偶像" scheme="http://yoursite.com/tags/%E5%81%B6%E5%83%8F/"/>
    
      <category term="科比" scheme="http://yoursite.com/tags/%E7%A7%91%E6%AF%94/"/>
    
      <category term="乔布斯" scheme="http://yoursite.com/tags/%E4%B9%94%E5%B8%83%E6%96%AF/"/>
    
      <category term="梦想" scheme="http://yoursite.com/tags/%E6%A2%A6%E6%83%B3/"/>
    
      <category term="修炼" scheme="http://yoursite.com/tags/%E4%BF%AE%E7%82%BC/"/>
    
  </entry>
  
  <entry>
    <title>前端技术 - 查询搜索时的防抖</title>
    <link href="http://yoursite.com/2020/05/18/%E5%89%8D%E7%AB%AF%E6%8A%80%E6%9C%AF-%E6%9F%A5%E8%AF%A2%E6%90%9C%E7%B4%A2%E6%97%B6%E7%9A%84%E9%98%B2%E6%8A%96/"/>
    <id>http://yoursite.com/2020/05/18/前端技术-查询搜索时的防抖/</id>
    <published>2020-05-18T04:49:30.000Z</published>
    <updated>2020-05-18T05:07:24.684Z</updated>
    
    <content type="html"><![CDATA[<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> queryUserByChunk(search) &#123;</span><br><span class="line">  clearTimeout(<span class="keyword">this</span>.timeout) <span class="comment">// this.timeout 是一个全局变量</span></span><br><span class="line">  <span class="keyword">let</span> param = &#123;</span><br><span class="line">    corporationNo: localStorage.getItem(<span class="string">"orgAcct"</span>),</span><br><span class="line">    searchParam: search</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">this</span>.timeout = setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    findUserByUsernameOrRealNameOrJobNo(param)</span><br><span class="line">      .then(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">// do some thing...</span></span><br><span class="line">      &#125;)</span><br><span class="line">      .catch(<span class="function"><span class="params">error</span> =&gt;</span> &#123;&#125;);</span><br><span class="line">  &#125;, <span class="number">300</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;l
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>为什么说爱抱怨、喜欢找借口的人往往一事无成？《被讨厌的勇气》 - 阿德勒的人生哲学！ </title>
    <link href="http://yoursite.com/2020/05/14/%E4%B8%BA%E4%BB%80%E4%B9%88%E8%AF%B4%E7%88%B1%E6%8A%B1%E6%80%A8%E3%80%81%E5%96%9C%E6%AC%A2%E6%89%BE%E5%80%9F%E5%8F%A3%E7%9A%84%E4%BA%BA%E5%BE%80%E5%BE%80%E4%B8%80%E4%BA%8B%E6%97%A0%E6%88%90%EF%BC%9F%E3%80%8A%E8%A2%AB%E8%AE%A8%E5%8E%8C%E7%9A%84%E5%8B%87%E6%B0%94%E3%80%8B-%E9%98%BF%E5%BE%B7%E5%8B%92%E7%9A%84%E4%BA%BA%E7%94%9F%E5%93%B2%E5%AD%A6%EF%BC%81/"/>
    <id>http://yoursite.com/2020/05/14/为什么说爱抱怨、喜欢找借口的人往往一事无成？《被讨厌的勇气》-阿德勒的人生哲学！/</id>
    <published>2020-05-14T05:03:36.000Z</published>
    <updated>2020-05-14T05:07:21.706Z</updated>
    
    <content type="html"><![CDATA[<p>发现名人自传、访谈中那些人很少抱怨，很少找借口，在自己的领域做出成就。</p><h3 id="为什么"><a href="#为什么" class="headerlink" title="为什么"></a>为什么</h3><p>而大多数人都喜欢推卸责任，因为人会有推卸责任的习惯，会找那些经历来解释当前的状态，把过去搬出来解释自己现在，把不幸当成自己的借口，推卸自己的责任</p><h3 id="怎么做"><a href="#怎么做" class="headerlink" title="怎么做"></a>怎么做</h3><p>没有必要把活着的经历去纠结那些完全无法改变的事，但是我们完全有能力去改变现在呀，从而去影响明天。</p><p>阿德勒认为，我们成年后，就要为自己的行为负责，为自己的人生负责。</p><p>我们每时每刻都在做选择，读什么样的书？看什么样的剧？听什么样的歌？关注哪些人？和谁去结婚？做什么样的职业？甚至每天的时间是如何安排的？精力主要用在了什么地方？</p><p>这一切都是自己的选择，是自己一次又一次的义无反顾的选择，把你送到了现在的位置、达到了现在的状态。</p><p>无需抱怨自己拿到了什么样牌，而是考虑如何打好现有的牌，这才是务实有建设性人生态度。</p><p>没有谁的人生是完美后才出发的</p><p><code>承认自己的不足需要勇气，但这也是进步的开始。</code></p><p>原视频</p><p><a href="https://www.bilibili.com/video/BV1i7411v7PF" target="_blank" rel="noopener">https://www.bilibili.com/video/BV1i7411v7PF</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;发现名人自传、访谈中那些人很少抱怨，很少找借口，在自己的领域做出成就。&lt;/p&gt;
&lt;h3 id=&quot;为什么&quot;&gt;&lt;a href=&quot;#为什么&quot; class=&quot;headerlink&quot; title=&quot;为什么&quot;&gt;&lt;/a&gt;为什么&lt;/h3&gt;&lt;p&gt;而大多数人都喜欢推卸责任，因为人会有推卸责任的
      
    
    </summary>
    
    
      <category term="《被讨厌的勇气》" scheme="http://yoursite.com/tags/%E3%80%8A%E8%A2%AB%E8%AE%A8%E5%8E%8C%E7%9A%84%E5%8B%87%E6%B0%94%E3%80%8B/"/>
    
      <category term="阿德勒" scheme="http://yoursite.com/tags/%E9%98%BF%E5%BE%B7%E5%8B%92/"/>
    
  </entry>
  
  <entry>
    <title>程序员高效学习英语的方法</title>
    <link href="http://yoursite.com/2020/05/14/%E7%A8%8B%E5%BA%8F%E5%91%98%E9%AB%98%E6%95%88%E5%AD%A6%E4%B9%A0%E8%8B%B1%E8%AF%AD%E7%9A%84%E6%96%B9%E6%B3%95/"/>
    <id>http://yoursite.com/2020/05/14/程序员高效学习英语的方法/</id>
    <published>2020-05-14T04:19:52.000Z</published>
    <updated>2020-05-14T05:48:41.117Z</updated>
    
    <content type="html"><![CDATA[<p>@auther <code>张念磊</code><br>@date <code>2020/5/14</code></p><p>[toc]</p><h1 id="为什么学英语？"><a href="#为什么学英语？" class="headerlink" title="为什么学英语？"></a>为什么学英语？</h1><p>我的需求：</p><ol><li><p>看英文视频 （教程 发布会）</p></li><li><p>读英文文章 （技术教程、官方文档）</p></li></ol><h1 id="如何高效的学习英语？"><a href="#如何高效的学习英语？" class="headerlink" title="如何高效的学习英语？"></a>如何高效的学习英语？</h1><ol><li>首先开始学习（学习方法）</li><li>坚持（<code>重中之重</code>）</li><li>日常生活中使用英语（看英文视频、看英文文章。慢慢使用英语，成为工具）</li></ol><h2 id="步骤一：开始学习"><a href="#步骤一：开始学习" class="headerlink" title="步骤一：开始学习"></a>步骤一：开始学习</h2><p>学习有非常多中方法，下面介绍一下我的几种方法</p><h3 id="方法1："><a href="#方法1：" class="headerlink" title="方法1："></a>方法1：</h3><p>使用网站 <a href="https://bdc.youzack.com/" target="_blank" rel="noopener">https://bdc.youzack.com/</a></p><ul><li><p>先背单词</p></li><li><p>再阅读文章</p></li></ul><p><code>解释</code>：如果我想阅读一篇文章，但是有很多的生词不认识，一遍查一边读效率非常差，很容易放弃。</p><p>这个网站有一个功能，就是你把你自己要读的文章上传上去，然后他会生成一个单词本，我们背这个单词本。单词本会把<code>词频最高</code>的单词放在最前面，让我们先背，出现次数低的后面再背，这样背完，再去读那篇文章。</p><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gerxg8kp6nj30ni0eg0uo.jpg" alt="image-20200514134453128"></p><p>有几个优点：</p><p>有<code>针对性</code>、<code>目的性</code>的背单词，效率会很高；</p><p>读文章时会发现，哎，这个单词我背过，会有很好的<code>正反馈</code>和<code>成就感</code>。</p><blockquote><p> 成就感 == 多巴胺 == 快乐</p></blockquote><p>网站的前端非常简单，但是五脏俱全</p><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gerxj4fmooj30ng0mlt9w.jpg" alt="image-20200514134739216"></p><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gerxjg8tosj30ng0ml40k.jpg" alt="image-20200514134759002"></p><ul><li>学习听力</li></ul><p>使用网站 <a href="https://bdc.youzack.com/" target="_blank" rel="noopener">https://bdc.youzack.com/</a></p><p>反复练习每一句。</p><p>// todo 详细介绍</p><h3 id="方法2："><a href="#方法2：" class="headerlink" title="方法2："></a>方法2：</h3><p>马思睿 - B站</p><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gerx0znvu1j30yx0kmdk3.jpg" alt="image-20200514122513250"></p><p>分享的资源网站：ted.com</p><p>复读机App:</p><p>iPhone SpeaterLite</p><p>Android KMPlayer</p><p>下载字幕:</p><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gerv1w0cp7j30z50krtrz.jpg" alt="image-20200514122154095"></p><p>播客</p><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gerv3tj49hj30yy0km19t.jpg" alt="image-20200514122341766"></p><p><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gerv4ibn0vj30yx0kknea.jpg" alt="image-20200514122423957"></p><h2 id="步骤二：坚持"><a href="#步骤二：坚持" class="headerlink" title="步骤二：坚持"></a>步骤二：坚持</h2><p>// todo 如何坚持，自我激励</p><h2 id="步骤三：使用（看英文视频，看英文文章）"><a href="#步骤三：使用（看英文视频，看英文文章）" class="headerlink" title="步骤三：使用（看英文视频，看英文文章）"></a>步骤三：使用（看英文视频，看英文文章）</h2><p>推荐网站 / App:  Medium</p><p>// todo 详细写一点</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;@auther &lt;code&gt;张念磊&lt;/code&gt;&lt;br&gt;@date &lt;code&gt;2020/5/14&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;[toc]&lt;/p&gt;
&lt;h1 id=&quot;为什么学英语？&quot;&gt;&lt;a href=&quot;#为什么学英语？&quot; class=&quot;headerlink&quot; title=&quot;为
      
    
    </summary>
    
    
  </entry>
  
</feed>
